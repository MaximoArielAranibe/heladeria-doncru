(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function y2(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var lp={exports:{}},su={};var Q0;function _2(){if(Q0)return su;Q0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return su.Fragment=e,su.jsx=t,su.jsxs=t,su}var Y0;function v2(){return Y0||(Y0=1,lp.exports=_2()),lp.exports}var T=v2(),up={exports:{}},be={};var X0;function E2(){if(X0)return be;X0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function D(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,P={};function K(L,ne,ue){this.props=L,this.context=ne,this.refs=P,this.updater=ue||U}K.prototype.isReactComponent={},K.prototype.setState=function(L,ne){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ne,"setState")},K.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Z(){}Z.prototype=K.prototype;function q(L,ne,ue){this.props=L,this.context=ne,this.refs=P,this.updater=ue||U}var re=q.prototype=new Z;re.constructor=q,j(re,K.prototype),re.isPureReactComponent=!0;var oe=Array.isArray;function ce(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(L,ne,ue){var fe=ue.ref;return{$$typeof:i,type:L,key:ne,ref:fe!==void 0?fe:null,props:ue}}function V(L,ne){return C(L.type,ne,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function B(L){var ne={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return ne[ue]})}var x=/\/+/g;function ot(L,ne){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):ne.toString(36)}function Mt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ce,ce):(L.status="pending",L.then(function(ne){L.status==="pending"&&(L.status="fulfilled",L.value=ne)},function(ne){L.status==="pending"&&(L.status="rejected",L.reason=ne)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function J(L,ne,ue,fe,Ae){var Ce=typeof L;(Ce==="undefined"||Ce==="boolean")&&(L=null);var Le=!1;if(L===null)Le=!0;else switch(Ce){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(L.$$typeof){case i:case e:Le=!0;break;case v:return Le=L._init,J(Le(L._payload),ne,ue,fe,Ae)}}if(Le)return Ae=Ae(L),Le=fe===""?"."+ot(L,0):fe,oe(Ae)?(ue="",Le!=null&&(ue=Le.replace(x,"$&/")+"/"),J(Ae,ne,ue,"",function(ks){return ks})):Ae!=null&&(M(Ae)&&(Ae=V(Ae,ue+(Ae.key==null||L&&L.key===Ae.key?"":(""+Ae.key).replace(x,"$&/")+"/")+Le)),ne.push(Ae)),1;Le=0;var Vt=fe===""?".":fe+":";if(oe(L))for(var lt=0;lt<L.length;lt++)fe=L[lt],Ce=Vt+ot(fe,lt),Le+=J(fe,ne,ue,Ce,Ae);else if(lt=D(L),typeof lt=="function")for(L=lt.call(L),lt=0;!(fe=L.next()).done;)fe=fe.value,Ce=Vt+ot(fe,lt++),Le+=J(fe,ne,ue,Ce,Ae);else if(Ce==="object"){if(typeof L.then=="function")return J(Mt(L),ne,ue,fe,Ae);throw ne=String(L),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Le}function le(L,ne,ue){if(L==null)return L;var fe=[],Ae=0;return J(L,fe,"","",function(Ce){return ne.call(ue,Ce,Ae++)}),fe}function ye(L){if(L._status===-1){var ne=L._result;ne=ne(),ne.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=ne)}if(L._status===1)return L._result.default;throw L._result}var ze=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},$e={map:le,forEach:function(L,ne,ue){le(L,function(){ne.apply(this,arguments)},ue)},count:function(L){var ne=0;return le(L,function(){ne++}),ne},toArray:function(L){return le(L,function(ne){return ne})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return be.Activity=A,be.Children=$e,be.Component=K,be.Fragment=t,be.Profiler=o,be.PureComponent=q,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,be.__COMPILER_RUNTIME={__proto__:null,c:function(L){return N.H.useMemoCache(L)}},be.cache=function(L){return function(){return L.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(L,ne,ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var fe=j({},L.props),Ae=L.key;if(ne!=null)for(Ce in ne.key!==void 0&&(Ae=""+ne.key),ne)!S.call(ne,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ne.ref===void 0||(fe[Ce]=ne[Ce]);var Ce=arguments.length-2;if(Ce===1)fe.children=ue;else if(1<Ce){for(var Le=Array(Ce),Vt=0;Vt<Ce;Vt++)Le[Vt]=arguments[Vt+2];fe.children=Le}return C(L.type,Ae,fe)},be.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},be.createElement=function(L,ne,ue){var fe,Ae={},Ce=null;if(ne!=null)for(fe in ne.key!==void 0&&(Ce=""+ne.key),ne)S.call(ne,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ae[fe]=ne[fe]);var Le=arguments.length-2;if(Le===1)Ae.children=ue;else if(1<Le){for(var Vt=Array(Le),lt=0;lt<Le;lt++)Vt[lt]=arguments[lt+2];Ae.children=Vt}if(L&&L.defaultProps)for(fe in Le=L.defaultProps,Le)Ae[fe]===void 0&&(Ae[fe]=Le[fe]);return C(L,Ce,Ae)},be.createRef=function(){return{current:null}},be.forwardRef=function(L){return{$$typeof:m,render:L}},be.isValidElement=M,be.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ye}},be.memo=function(L,ne){return{$$typeof:g,type:L,compare:ne===void 0?null:ne}},be.startTransition=function(L){var ne=N.T,ue={};N.T=ue;try{var fe=L(),Ae=N.S;Ae!==null&&Ae(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ce,ze)}catch(Ce){ze(Ce)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),N.T=ne}},be.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},be.use=function(L){return N.H.use(L)},be.useActionState=function(L,ne,ue){return N.H.useActionState(L,ne,ue)},be.useCallback=function(L,ne){return N.H.useCallback(L,ne)},be.useContext=function(L){return N.H.useContext(L)},be.useDebugValue=function(){},be.useDeferredValue=function(L,ne){return N.H.useDeferredValue(L,ne)},be.useEffect=function(L,ne){return N.H.useEffect(L,ne)},be.useEffectEvent=function(L){return N.H.useEffectEvent(L)},be.useId=function(){return N.H.useId()},be.useImperativeHandle=function(L,ne,ue){return N.H.useImperativeHandle(L,ne,ue)},be.useInsertionEffect=function(L,ne){return N.H.useInsertionEffect(L,ne)},be.useLayoutEffect=function(L,ne){return N.H.useLayoutEffect(L,ne)},be.useMemo=function(L,ne){return N.H.useMemo(L,ne)},be.useOptimistic=function(L,ne){return N.H.useOptimistic(L,ne)},be.useReducer=function(L,ne,ue){return N.H.useReducer(L,ne,ue)},be.useRef=function(L){return N.H.useRef(L)},be.useState=function(L){return N.H.useState(L)},be.useSyncExternalStore=function(L,ne,ue){return N.H.useSyncExternalStore(L,ne,ue)},be.useTransition=function(){return N.H.useTransition()},be.version="19.2.3",be}var W0;function hg(){return W0||(W0=1,up.exports=E2()),up.exports}var I=hg(),cp={exports:{}},au={},hp={exports:{}},fp={};var J0;function T2(){return J0||(J0=1,(function(i){function e(J,le){var ye=J.length;J.push(le);e:for(;0<ye;){var ze=ye-1>>>1,$e=J[ze];if(0<o($e,le))J[ze]=le,J[ye]=$e,ye=ze;else break e}}function t(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var le=J[0],ye=J.pop();if(ye!==le){J[0]=ye;e:for(var ze=0,$e=J.length,L=$e>>>1;ze<L;){var ne=2*(ze+1)-1,ue=J[ne],fe=ne+1,Ae=J[fe];if(0>o(ue,ye))fe<$e&&0>o(Ae,ue)?(J[ze]=Ae,J[fe]=ye,ze=fe):(J[ze]=ue,J[ne]=ye,ze=ne);else if(fe<$e&&0>o(Ae,ye))J[ze]=Ae,J[fe]=ye,ze=fe;else break e}}return le}function o(J,le){var ye=J.sortIndex-le.sortIndex;return ye!==0?ye:J.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,A=null,w=3,D=!1,U=!1,j=!1,P=!1,K=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function re(J){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=J)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function oe(J){if(j=!1,re(J),!U)if(t(p)!==null)U=!0,ce||(ce=!0,B());else{var le=t(g);le!==null&&Mt(oe,le.startTime-J)}}var ce=!1,N=-1,S=5,C=-1;function V(){return P?!0:!(i.unstable_now()-C<S)}function M(){if(P=!1,ce){var J=i.unstable_now();C=J;var le=!0;try{e:{U=!1,j&&(j=!1,Z(N),N=-1),D=!0;var ye=w;try{t:{for(re(J),A=t(p);A!==null&&!(A.expirationTime>J&&V());){var ze=A.callback;if(typeof ze=="function"){A.callback=null,w=A.priorityLevel;var $e=ze(A.expirationTime<=J);if(J=i.unstable_now(),typeof $e=="function"){A.callback=$e,re(J),le=!0;break t}A===t(p)&&s(p),re(J)}else s(p);A=t(p)}if(A!==null)le=!0;else{var L=t(g);L!==null&&Mt(oe,L.startTime-J),le=!1}}break e}finally{A=null,w=ye,D=!1}le=void 0}}finally{le?B():ce=!1}}}var B;if(typeof q=="function")B=function(){q(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ot=x.port2;x.port1.onmessage=M,B=function(){ot.postMessage(null)}}else B=function(){K(M,0)};function Mt(J,le){N=K(function(){J(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(J){J.callback=null},i.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<J?Math.floor(1e3/J):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(J){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var ye=w;w=le;try{return J()}finally{w=ye}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ye=w;w=J;try{return le()}finally{w=ye}},i.unstable_scheduleCallback=function(J,le,ye){var ze=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ze+ye:ze):ye=ze,J){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=ye+$e,J={id:v++,callback:le,priorityLevel:J,startTime:ye,expirationTime:$e,sortIndex:-1},ye>ze?(J.sortIndex=ye,e(g,J),t(p)===null&&J===t(g)&&(j?(Z(N),N=-1):j=!0,Mt(oe,ye-ze))):(J.sortIndex=$e,e(p,J),U||D||(U=!0,ce||(ce=!0,B()))),J},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(J){var le=w;return function(){var ye=w;w=le;try{return J.apply(this,arguments)}finally{w=ye}}}})(fp)),fp}var Z0;function A2(){return Z0||(Z0=1,hp.exports=T2()),hp.exports}var dp={exports:{}},Zt={};var eE;function S2(){if(eE)return Zt;eE=1;var i=hg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:v}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},Zt.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,A=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:D}):v==="script"&&s.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,A=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},Zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var tE;function c1(){if(tE)return dp.exports;tE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dp.exports=S2(),dp.exports}var nE;function b2(){if(nE)return au;nE=1;var i=A2(),e=hg(),t=c1();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function v(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=v(n),r!==null)return r;n=n.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),q=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function ot(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case j:return"Fragment";case K:return"Profiler";case P:return"StrictMode";case oe:return"Suspense";case ce:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case U:return"Portal";case q:return n.displayName||"Context";case Z:return(n._context.displayName||"Context")+".Consumer";case re:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return r=n.displayName||null,r!==null?r:ot(n.type)||"Memo";case S:r=n._payload,n=n._init;try{return ot(n(r))}catch{}}return null}var Mt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ze=[],$e=-1;function L(n){return{current:n}}function ne(n){0>$e||(n.current=ze[$e],ze[$e]=null,$e--)}function ue(n,r){$e++,ze[$e]=n.current,n.current=r}var fe=L(null),Ae=L(null),Ce=L(null),Le=L(null);function Vt(n,r){switch(ue(Ce,r),ue(Ae,n),ue(fe,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?y0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=y0(r),n=_0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(fe),ue(fe,n)}function lt(){ne(fe),ne(Ae),ne(Ce)}function ks(n){n.memoizedState!==null&&ue(Le,n);var r=fe.current,a=_0(r,n.type);r!==a&&(ue(Ae,n),ue(fe,a))}function Oa(n){Ae.current===n&&(ne(fe),ne(Ae)),Le.current===n&&(ne(Le),tu._currentValue=ye)}var Ma,Va;function vi(n){if(Ma===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ma=r&&r[1]||"",Va=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ma+n+Va}var tl=!1;function Ps(n,r){if(!n||tl)return"";tl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var $=Y}Reflect.construct(n,[],te)}else{try{te.call()}catch(Y){$=Y}n.call(te.prototype)}}else{try{throw Error()}catch(Y){$=Y}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var O=_.split(`
`),G=b.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===G.length)for(l=O.length-1,f=G.length-1;1<=l&&0<=f&&O[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==G[f]){var W=`
`+O[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{tl=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?vi(a):""}function nl(n,r){switch(n.tag){case 26:case 27:case 5:return vi(n.type);case 16:return vi("Lazy");case 13:return n.child!==r&&r!==null?vi("Suspense Fallback"):vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Ps(n.type,!1);case 11:return Ps(n.type.render,!1);case 1:return Ps(n.type,!0);case 31:return vi("Activity");default:return""}}function il(n){try{var r="",a=null;do r+=nl(n,a),a=n,n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,kt=i.unstable_scheduleCallback,xr=i.unstable_cancelCallback,cd=i.unstable_shouldYield,Ju=i.unstable_requestPaint,sn=i.unstable_now,Ls=i.unstable_getCurrentPriorityLevel,rl=i.unstable_ImmediatePriority,sl=i.unstable_UserBlockingPriority,Or=i.unstable_NormalPriority,hd=i.unstable_LowPriority,Zu=i.unstable_IdlePriority,ec=i.log,tc=i.unstable_setDisableYieldValue,ni=null,Ht=null;function Un(n){if(typeof ec=="function"&&tc(n),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ni,n)}catch{}}var gt=Math.clz32?Math.clz32:ic,nc=Math.log,ka=Math.LN2;function ic(n){return n>>>=0,n===0?32:31-(nc(n)/ka|0)|0}var Ei=256,Us=262144,At=4194304;function Ti(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ai(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Ti(l):(_&=b,_!==0?f=Ti(_):a||(a=b&~n,a!==0&&(f=Ti(a))))):(b=l&~d,b!==0?f=Ti(b):_!==0?f=Ti(_):a||(a=l&~n,a!==0&&(f=Ti(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function ii(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function fd(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rc(){var n=At;return At<<=1,(At&62914560)===0&&(At=4194304),n}function Si(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function js(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function dd(n,r,a,l,f,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,O=n.expirationTimes,G=n.hiddenUpdates;for(a=_&~a;0<a;){var W=31-gt(a),te=1<<W;b[W]=0,O[W]=-1;var $=G[W];if($!==null)for(G[W]=null,W=0;W<$.length;W++){var Y=$[W];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&zs(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~r))}function zs(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-gt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function al(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-gt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function ol(n,r){var a=r&-r;return a=(a&42)!==0?1:Bs(a),(a&(n.suspendedLanes|r))!==0?0:a}function Bs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function tr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function sc(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:B0(n.type))}function ri(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var si=Math.random().toString(36).slice(2),St="__reactFiber$"+si,jt="__reactProps$"+si,bi="__reactContainer$"+si,Pa="__reactEvents$"+si,md="__reactListeners$"+si,ac="__reactHandles$"+si,oc="__reactResources$"+si,wi="__reactMarker$"+si;function La(n){delete n[St],delete n[jt],delete n[Pa],delete n[md],delete n[ac]}function Ri(n){var r=n[St];if(r)return r;for(var a=n.parentNode;a;){if(r=a[bi]||a[St]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=w0(n);n!==null;){if(a=n[St])return a;n=w0(n)}return r}n=a,a=n.parentNode}return null}function jn(n){if(n=n[St]||n[bi]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Tn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Ci(n){var r=n[oc];return r||(r=n[oc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function bt(n){n[wi]=!0}var ll=new Set,ul={};function Ii(n,r){Ni(n,r),Ni(n+"Capture",r)}function Ni(n,r){for(ul[n]=r,n=0;n<r.length;n++)ll.add(r[n])}var cl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},fl={};function lc(n){return Tt.call(fl,n)?!0:Tt.call(hl,n)?!1:cl.test(n)?fl[n]=!0:(hl[n]=!0,!1)}function Ua(n,r,a){if(lc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function An(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function wt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function zt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Mr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dl(n,r,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ke(n){if(!n._valueTracker){var r=Mr(n)?"checked":"value";n._valueTracker=dl(n,r,""+n[r])}}function qs(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Mr(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Di(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Fs=/[\n"\\]/g;function fn(n){return n.replace(Fs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ja(n,r,a,l,f,d,_,b){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+zt(r)):n.value!==""+zt(r)&&(n.value=""+zt(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?ml(n,_,zt(r)):a!=null?ml(n,_,zt(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+zt(b):n.removeAttribute("name")}function uc(n,r,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ke(n);return}a=a!=null?""+zt(a):"",r=r!=null?""+zt(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Ke(n)}function ml(n,r,a){r==="number"&&Di(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Vr(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+zt(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function cc(n,r,a){if(r!=null&&(r=""+zt(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+zt(a):""}function kr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=zt(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Ke(n)}function dn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pl(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||hc.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function gl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&pl(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&pl(n,d,r[d])}function za(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(n){return Pr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ai(){}var yl=null;function zn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Lr=null,xi=null;function Hs(n){var r=jn(n);if(r&&(n=r.stateNode)){var a=n[jt]||null;e:switch(n=r.stateNode,r.type){case"input":if(ja(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[jt]||null;if(!f)throw Error(s(90));ja(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&qs(l)}break e;case"textarea":cc(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Vr(n,!!a.multiple,r,!1)}}}var qa=!1;function Ur(n,r,a){if(qa)return n(r,a);qa=!0;try{var l=n(r);return l}finally{if(qa=!1,(Lr!==null||xi!==null)&&(sh(),Lr&&(r=Lr,n=xi,xi=Lr=null,Hs(r),n)))for(r=0;r<n.length;r++)Hs(n[r])}}function oi(n,r){var a=n.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=!1;if(Bn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Gs=!1}var Oi=null,_l=null,$s=null;function vl(){if($s)return $s;var n,r=_l,a=r.length,l,f="value"in Oi?Oi.value:Oi.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var _=a-n;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return $s=f.slice(n,1<l?1-l:void 0)}function Ks(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function nr(){return!0}function li(){return!1}function Gt(n){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nr:li,this.isPropagationStopped=li,this}return A(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),r}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Gt(ir),jr=A({},ir,{view:0,detail:0}),El=Gt(jr),zr,Fa,Vi,Ha=A({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Vi&&(Vi&&n.type==="mousemove"?(zr=n.screenX-Vi.screenX,Fa=n.screenY-Vi.screenY):Fa=zr=0,Vi=n),zr)},movementY:function(n){return"movementY"in n?n.movementY:Fa}}),Tl=Gt(Ha),Qs=A({},Ha,{dataTransfer:0}),dc=Gt(Qs),mc=A({},jr,{relatedTarget:0}),Ys=Gt(mc),Al=A({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),pc=Gt(Al),Ga=A({},ir,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gc=Gt(Ga),yc=A({},ir,{data:0}),ki=Gt(yc),_c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tc(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ec[n])?!!r[n]:!1}function Br(){return Tc}var an=A({},jr,{key:function(n){if(n.key){var r=_c[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ks(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?vc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(n){return n.type==="keypress"?Ks(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ks(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ac=Gt(an),Sc=A({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=Gt(Sc),h=A({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),y=Gt(h),E=A({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Gt(E),F=A({},Ha,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Gt(F),ae=A({},ir,{newState:0,oldState:0}),we=Gt(ae),yt=[9,13,27,32],Fe=Bn&&"CompositionEvent"in window,ut=null;Bn&&"documentMode"in document&&(ut=document.documentMode);var qn=Bn&&"TextEvent"in window&&!ut,Pi=Bn&&(!Fe||ut&&8<ut&&11>=ut),ui=" ",ci=!1;function Xs(n,r){switch(n){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ka=!1;function Bb(n,r){switch(n){case"compositionend":return $a(r);case"keypress":return r.which!==32?null:(ci=!0,ui);case"textInput":return n=r.data,n===ui&&ci?null:n;default:return null}}function qb(n,r){if(Ka)return n==="compositionend"||!Fe&&Xs(n,r)?(n=vl(),$s=_l=Oi=null,Ka=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pi&&r.locale!=="ko"?null:r.data;default:return null}}var Fb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iy(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Fb[n.type]:r==="textarea"}function Ny(n,r,a,l){Lr?xi?xi.push(l):xi=[l]:Lr=l,r=fh(r,"onChange"),0<r.length&&(a=new Mi("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Sl=null,bl=null;function Hb(n){h0(n,0)}function bc(n){var r=Tn(n);if(qs(r))return n}function Dy(n,r){if(n==="change")return r}var xy=!1;if(Bn){var pd;if(Bn){var gd="oninput"in document;if(!gd){var Oy=document.createElement("div");Oy.setAttribute("oninput","return;"),gd=typeof Oy.oninput=="function"}pd=gd}else pd=!1;xy=pd&&(!document.documentMode||9<document.documentMode)}function My(){Sl&&(Sl.detachEvent("onpropertychange",Vy),bl=Sl=null)}function Vy(n){if(n.propertyName==="value"&&bc(bl)){var r=[];Ny(r,bl,n,zn(n)),Ur(Hb,r)}}function Gb(n,r,a){n==="focusin"?(My(),Sl=r,bl=a,Sl.attachEvent("onpropertychange",Vy)):n==="focusout"&&My()}function $b(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return bc(bl)}function Kb(n,r){if(n==="click")return bc(r)}function Qb(n,r){if(n==="input"||n==="change")return bc(r)}function Yb(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Sn=typeof Object.is=="function"?Object.is:Yb;function wl(n,r){if(Sn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Tt.call(r,f)||!Sn(n[f],r[f]))return!1}return!0}function ky(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Py(n,r){var a=ky(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ky(a)}}function Ly(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Ly(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Uy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Di(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Di(n.document)}return r}function yd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Xb=Bn&&"documentMode"in document&&11>=document.documentMode,Qa=null,_d=null,Rl=null,vd=!1;function jy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vd||Qa==null||Qa!==Di(l)||(l=Qa,"selectionStart"in l&&yd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Rl&&wl(Rl,l)||(Rl=l,l=fh(_d,"onSelect"),0<l.length&&(r=new Mi("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Qa)))}function Ws(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ya={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},Ed={},zy={};Bn&&(zy=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function Js(n){if(Ed[n])return Ed[n];if(!Ya[n])return n;var r=Ya[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in zy)return Ed[n]=r[a];return n}var By=Js("animationend"),qy=Js("animationiteration"),Fy=Js("animationstart"),Wb=Js("transitionrun"),Jb=Js("transitionstart"),Zb=Js("transitioncancel"),Hy=Js("transitionend"),Gy=new Map,Td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Td.push("scrollEnd");function hi(n,r){Gy.set(n,r),Ii(r,[n])}var wc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Fn=[],Xa=0,Ad=0;function Rc(){for(var n=Xa,r=Ad=Xa=0;r<n;){var a=Fn[r];Fn[r++]=null;var l=Fn[r];Fn[r++]=null;var f=Fn[r];Fn[r++]=null;var d=Fn[r];if(Fn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&$y(a,f,d)}}function Cc(n,r,a,l){Fn[Xa++]=n,Fn[Xa++]=r,Fn[Xa++]=a,Fn[Xa++]=l,Ad|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Sd(n,r,a,l){return Cc(n,r,a,l),Ic(n)}function Zs(n,r){return Cc(n,null,null,r),Ic(n)}function $y(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-gt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Ic(n){if(50<Ql)throw Ql=0,Om=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Wa={};function ew(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(n,r,a,l){return new ew(n,r,a,l)}function bd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function sr(n,r){var a=n.alternate;return a===null?(a=bn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ky(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Nc(n,r,a,l,f,d){var _=0;if(l=n,typeof n=="function")bd(n)&&(_=1);else if(typeof n=="string")_=s2(n,a,fe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=bn(31,a,r,f),n.elementType=C,n.lanes=d,n;case j:return ea(a.children,f,d,r);case P:_=8,f|=24;break;case K:return n=bn(12,a,r,f|2),n.elementType=K,n.lanes=d,n;case oe:return n=bn(13,a,r,f),n.elementType=oe,n.lanes=d,n;case ce:return n=bn(19,a,r,f),n.elementType=ce,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:_=10;break e;case Z:_=9;break e;case re:_=11;break e;case N:_=14;break e;case S:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=bn(_,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function ea(n,r,a,l){return n=bn(7,n,l,r),n.lanes=a,n}function wd(n,r,a){return n=bn(6,n,null,r),n.lanes=a,n}function Qy(n){var r=bn(18,null,null,0);return r.stateNode=n,r}function Rd(n,r,a){return r=bn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Yy=new WeakMap;function Hn(n,r){if(typeof n=="object"&&n!==null){var a=Yy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:il(r)},Yy.set(n,r),r)}return{value:n,source:r,stack:il(r)}}var Ja=[],Za=0,Dc=null,Cl=0,Gn=[],$n=0,qr=null,Li=1,Ui="";function ar(n,r){Ja[Za++]=Cl,Ja[Za++]=Dc,Dc=n,Cl=r}function Xy(n,r,a){Gn[$n++]=Li,Gn[$n++]=Ui,Gn[$n++]=qr,qr=n;var l=Li;n=Ui;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var d=32-gt(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Li=1<<32-gt(r)+f|a<<f|l,Ui=d+n}else Li=1<<d|a<<f|l,Ui=n}function Cd(n){n.return!==null&&(ar(n,1),Xy(n,1,0))}function Id(n){for(;n===Dc;)Dc=Ja[--Za],Ja[Za]=null,Cl=Ja[--Za],Ja[Za]=null;for(;n===qr;)qr=Gn[--$n],Gn[$n]=null,Ui=Gn[--$n],Gn[$n]=null,Li=Gn[--$n],Gn[$n]=null}function Wy(n,r){Gn[$n++]=Li,Gn[$n++]=Ui,Gn[$n++]=qr,Li=r.id,Ui=r.overflow,qr=n}var $t=null,st=null,Pe=!1,Fr=null,Kn=!1,Nd=Error(s(519));function Hr(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(Hn(r,n)),Nd}function Jy(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[St]=n,r[jt]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<Xl.length;a++)De(Xl[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),uc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),kr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||p0(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=ai),r=!0):r=!1,r||Hr(n,!0)}function Zy(n){for($t=n.return;$t;)switch($t.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:$t=$t.return}}function eo(n){if(n!==$t)return!1;if(!Pe)return Zy(n),Pe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Km(n.type,n.memoizedProps)),a=!a),a&&st&&Hr(n),Zy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));st=b0(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));st=b0(n)}else r===27?(r=st,rs(n.type)?(n=Jm,Jm=null,st=n):st=r):st=$t?Yn(n.stateNode.nextSibling):null;return!0}function ta(){st=$t=null,Pe=!1}function Dd(){var n=Fr;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),Fr=null),n}function Il(n){Fr===null?Fr=[n]:Fr.push(n)}var xd=L(null),na=null,or=null;function Gr(n,r,a){ue(xd,r._currentValue),r._currentValue=a}function lr(n){n._currentValue=xd.current,ne(xd)}function Od(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Md(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var O=0;O<r.length;O++)if(b.context===r[O]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Od(d.return,a,n),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Od(_,a,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function to(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;Sn(f.pendingProps.value,_.value)||(n!==null?n.push(b):n=[b])}}else if(f===Le.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(tu):n=[tu])}f=f.return}n!==null&&Md(r,n,a,l),r.flags|=262144}function xc(n){for(n=n.firstContext;n!==null;){if(!Sn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ia(n){na=n,or=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return e_(na,n)}function Oc(n,r){return na===null&&ia(n),e_(n,r)}function e_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},or===null){if(n===null)throw Error(s(308));or=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else or=or.next=r;return a}var tw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},nw=i.unstable_scheduleCallback,iw=i.unstable_NormalPriority,Rt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vd(){return{controller:new tw,data:new Map,refCount:0}}function Nl(n){n.refCount--,n.refCount===0&&nw(iw,function(){n.controller.abort()})}var Dl=null,kd=0,no=0,io=null;function rw(n,r){if(Dl===null){var a=Dl=[];kd=0,no=Um(),io={status:"pending",value:void 0,then:function(l){a.push(l)}}}return kd++,r.then(t_,t_),r}function t_(){if(--kd===0&&Dl!==null){io!==null&&(io.status="fulfilled");var n=Dl;Dl=null,no=0,io=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function sw(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var n_=J.S;J.S=function(n,r){jv=sn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&rw(n,r),n_!==null&&n_(n,r)};var ra=L(null);function Pd(){var n=ra.current;return n!==null?n:nt.pooledCache}function Mc(n,r){r===null?ue(ra,ra.current):ue(ra,r.pool)}function i_(){var n=Pd();return n===null?null:{parent:Rt._currentValue,pool:n}}var ro=Error(s(460)),Ld=Error(s(474)),Vc=Error(s(542)),kc={then:function(){}};function r_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function s_(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(ai,ai),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,o_(n),n;default:if(typeof r.status=="string")r.then(ai,ai);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,o_(n),n}throw aa=r,ro}}function sa(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(aa=a,ro):a}}var aa=null;function a_(){if(aa===null)throw Error(s(459));var n=aa;return aa=null,n}function o_(n){if(n===ro||n===Vc)throw Error(s(483))}var so=null,xl=0;function Pc(n){var r=xl;return xl+=1,so===null&&(so=[]),s_(so,n,r)}function Ol(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Lc(n,r){throw r.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function l_(n){function r(z,k){if(n){var H=z.deletions;H===null?(z.deletions=[k],z.flags|=16):H.push(k)}}function a(z,k){if(!n)return null;for(;k!==null;)r(z,k),k=k.sibling;return null}function l(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=sr(z,k),z.index=0,z.sibling=null,z}function d(z,k,H){return z.index=H,n?(H=z.alternate,H!==null?(H=H.index,H<k?(z.flags|=67108866,k):H):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function _(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function b(z,k,H,ee){return k===null||k.tag!==6?(k=wd(H,z.mode,ee),k.return=z,k):(k=f(k,H),k.return=z,k)}function O(z,k,H,ee){var ge=H.type;return ge===j?W(z,k,H.props.children,ee,H.key):k!==null&&(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&sa(ge)===k.type)?(k=f(k,H.props),Ol(k,H),k.return=z,k):(k=Nc(H.type,H.key,H.props,null,z.mode,ee),Ol(k,H),k.return=z,k)}function G(z,k,H,ee){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=Rd(H,z.mode,ee),k.return=z,k):(k=f(k,H.children||[]),k.return=z,k)}function W(z,k,H,ee,ge){return k===null||k.tag!==7?(k=ea(H,z.mode,ee,ge),k.return=z,k):(k=f(k,H),k.return=z,k)}function te(z,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=wd(""+k,z.mode,H),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case D:return H=Nc(k.type,k.key,k.props,null,z.mode,H),Ol(H,k),H.return=z,H;case U:return k=Rd(k,z.mode,H),k.return=z,k;case S:return k=sa(k),te(z,k,H)}if(Mt(k)||B(k))return k=ea(k,z.mode,H,null),k.return=z,k;if(typeof k.then=="function")return te(z,Pc(k),H);if(k.$$typeof===q)return te(z,Oc(z,k),H);Lc(z,k)}return null}function $(z,k,H,ee){var ge=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ge!==null?null:b(z,k,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return H.key===ge?O(z,k,H,ee):null;case U:return H.key===ge?G(z,k,H,ee):null;case S:return H=sa(H),$(z,k,H,ee)}if(Mt(H)||B(H))return ge!==null?null:W(z,k,H,ee,null);if(typeof H.then=="function")return $(z,k,Pc(H),ee);if(H.$$typeof===q)return $(z,k,Oc(z,H),ee);Lc(z,H)}return null}function Y(z,k,H,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(H)||null,b(k,z,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case D:return z=z.get(ee.key===null?H:ee.key)||null,O(k,z,ee,ge);case U:return z=z.get(ee.key===null?H:ee.key)||null,G(k,z,ee,ge);case S:return ee=sa(ee),Y(z,k,H,ee,ge)}if(Mt(ee)||B(ee))return z=z.get(H)||null,W(k,z,ee,ge,null);if(typeof ee.then=="function")return Y(z,k,H,Pc(ee),ge);if(ee.$$typeof===q)return Y(z,k,H,Oc(k,ee),ge);Lc(k,ee)}return null}function de(z,k,H,ee){for(var ge=null,Be=null,me=k,Ie=k=0,Oe=null;me!==null&&Ie<H.length;Ie++){me.index>Ie?(Oe=me,me=null):Oe=me.sibling;var qe=$(z,me,H[Ie],ee);if(qe===null){me===null&&(me=Oe);break}n&&me&&qe.alternate===null&&r(z,me),k=d(qe,k,Ie),Be===null?ge=qe:Be.sibling=qe,Be=qe,me=Oe}if(Ie===H.length)return a(z,me),Pe&&ar(z,Ie),ge;if(me===null){for(;Ie<H.length;Ie++)me=te(z,H[Ie],ee),me!==null&&(k=d(me,k,Ie),Be===null?ge=me:Be.sibling=me,Be=me);return Pe&&ar(z,Ie),ge}for(me=l(me);Ie<H.length;Ie++)Oe=Y(me,z,Ie,H[Ie],ee),Oe!==null&&(n&&Oe.alternate!==null&&me.delete(Oe.key===null?Ie:Oe.key),k=d(Oe,k,Ie),Be===null?ge=Oe:Be.sibling=Oe,Be=Oe);return n&&me.forEach(function(us){return r(z,us)}),Pe&&ar(z,Ie),ge}function ve(z,k,H,ee){if(H==null)throw Error(s(151));for(var ge=null,Be=null,me=k,Ie=k=0,Oe=null,qe=H.next();me!==null&&!qe.done;Ie++,qe=H.next()){me.index>Ie?(Oe=me,me=null):Oe=me.sibling;var us=$(z,me,qe.value,ee);if(us===null){me===null&&(me=Oe);break}n&&me&&us.alternate===null&&r(z,me),k=d(us,k,Ie),Be===null?ge=us:Be.sibling=us,Be=us,me=Oe}if(qe.done)return a(z,me),Pe&&ar(z,Ie),ge;if(me===null){for(;!qe.done;Ie++,qe=H.next())qe=te(z,qe.value,ee),qe!==null&&(k=d(qe,k,Ie),Be===null?ge=qe:Be.sibling=qe,Be=qe);return Pe&&ar(z,Ie),ge}for(me=l(me);!qe.done;Ie++,qe=H.next())qe=Y(me,z,Ie,qe.value,ee),qe!==null&&(n&&qe.alternate!==null&&me.delete(qe.key===null?Ie:qe.key),k=d(qe,k,Ie),Be===null?ge=qe:Be.sibling=qe,Be=qe);return n&&me.forEach(function(g2){return r(z,g2)}),Pe&&ar(z,Ie),ge}function et(z,k,H,ee){if(typeof H=="object"&&H!==null&&H.type===j&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case D:e:{for(var ge=H.key;k!==null;){if(k.key===ge){if(ge=H.type,ge===j){if(k.tag===7){a(z,k.sibling),ee=f(k,H.props.children),ee.return=z,z=ee;break e}}else if(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&sa(ge)===k.type){a(z,k.sibling),ee=f(k,H.props),Ol(ee,H),ee.return=z,z=ee;break e}a(z,k);break}else r(z,k);k=k.sibling}H.type===j?(ee=ea(H.props.children,z.mode,ee,H.key),ee.return=z,z=ee):(ee=Nc(H.type,H.key,H.props,null,z.mode,ee),Ol(ee,H),ee.return=z,z=ee)}return _(z);case U:e:{for(ge=H.key;k!==null;){if(k.key===ge)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(z,k.sibling),ee=f(k,H.children||[]),ee.return=z,z=ee;break e}else{a(z,k);break}else r(z,k);k=k.sibling}ee=Rd(H,z.mode,ee),ee.return=z,z=ee}return _(z);case S:return H=sa(H),et(z,k,H,ee)}if(Mt(H))return de(z,k,H,ee);if(B(H)){if(ge=B(H),typeof ge!="function")throw Error(s(150));return H=ge.call(H),ve(z,k,H,ee)}if(typeof H.then=="function")return et(z,k,Pc(H),ee);if(H.$$typeof===q)return et(z,k,Oc(z,H),ee);Lc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(z,k.sibling),ee=f(k,H),ee.return=z,z=ee):(a(z,k),ee=wd(H,z.mode,ee),ee.return=z,z=ee),_(z)):a(z,k)}return function(z,k,H,ee){try{xl=0;var ge=et(z,k,H,ee);return so=null,ge}catch(me){if(me===ro||me===Vc)throw me;var Be=bn(29,me,null,z.mode);return Be.lanes=ee,Be.return=z,Be}}}var oa=l_(!0),u_=l_(!1),$r=!1;function Ud(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Kr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Qr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(He&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Ic(n),$y(n,null,a),r}return Cc(n,l,r,a),Ic(n)}function Ml(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,al(n,a)}}function zd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Bd=!1;function Vl(){if(Bd){var n=io;if(n!==null)throw n}}function kl(n,r,a,l){Bd=!1;var f=n.updateQueue;$r=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var O=b,G=O.next;O.next=null,_===null?d=G:_.next=G,_=O;var W=n.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==_&&(b===null?W.firstBaseUpdate=G:b.next=G,W.lastBaseUpdate=O))}if(d!==null){var te=f.baseState;_=0,W=G=O=null,b=d;do{var $=b.lane&-536870913,Y=$!==b.lane;if(Y?(xe&$)===$:(l&$)===$){$!==0&&$===no&&(Bd=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=n,ve=b;$=r;var et=a;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){te=de.call(et,te,$);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,$=typeof de=="function"?de.call(et,te,$):de,$==null)break e;te=A({},te,$);break e;case 2:$r=!0}}$=b.callback,$!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[$]:Y.push($))}else Y={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(G=W=Y,O=te):W=W.next=Y,_|=$;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(O=te),f.baseState=O,f.firstBaseUpdate=G,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Zr|=_,n.lanes=_,n.memoizedState=te}}function c_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function h_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)c_(a[n],r)}var ao=L(null),Uc=L(0);function f_(n,r){n=yr,ue(Uc,n),ue(ao,r),yr=n|r.baseLanes}function qd(){ue(Uc,yr),ue(ao,ao.current)}function Fd(){yr=Uc.current,ne(ao),ne(Uc)}var wn=L(null),Qn=null;function Yr(n){var r=n.alternate;ue(_t,_t.current&1),ue(wn,n),Qn===null&&(r===null||ao.current!==null||r.memoizedState!==null)&&(Qn=n)}function Hd(n){ue(_t,_t.current),ue(wn,n),Qn===null&&(Qn=n)}function d_(n){n.tag===22?(ue(_t,_t.current),ue(wn,n),Qn===null&&(Qn=n)):Xr()}function Xr(){ue(_t,_t.current),ue(wn,wn.current)}function Rn(n){ne(wn),Qn===n&&(Qn=null),ne(_t)}var _t=L(0);function jc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Xm(a)||Wm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ur=0,Re=null,Je=null,Ct=null,zc=!1,oo=!1,la=!1,Bc=0,Pl=0,lo=null,aw=0;function dt(){throw Error(s(321))}function Gd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Sn(n[a],r[a]))return!1;return!0}function $d(n,r,a,l,f,d){return ur=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=n===null||n.memoizedState===null?X_:om,la=!1,d=a(l,f),la=!1,oo&&(d=p_(r,a,l,f)),m_(n),d}function m_(n){J.H=jl;var r=Je!==null&&Je.next!==null;if(ur=0,Ct=Je=Re=null,zc=!1,Pl=0,lo=null,r)throw Error(s(300));n===null||It||(n=n.dependencies,n!==null&&xc(n)&&(It=!0))}function p_(n,r,a,l){Re=n;var f=0;do{if(oo&&(lo=null),Pl=0,oo=!1,25<=f)throw Error(s(301));if(f+=1,Ct=Je=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=W_,d=r(a,l)}while(oo);return d}function ow(){var n=J.H,r=n.useState()[0];return r=typeof r.then=="function"?Ll(r):r,n=n.useState()[0],(Je!==null?Je.memoizedState:null)!==n&&(Re.flags|=1024),r}function Kd(){var n=Bc!==0;return Bc=0,n}function Qd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Yd(n){if(zc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}zc=!1}ur=0,Ct=Je=Re=null,oo=!1,Pl=Bc=0,lo=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Re.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function vt(){if(Je===null){var n=Re.alternate;n=n!==null?n.memoizedState:null}else n=Je.next;var r=Ct===null?Re.memoizedState:Ct.next;if(r!==null)Ct=r,Je=n;else{if(n===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Je=n,n={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Ct===null?Re.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(n){var r=Pl;return Pl+=1,lo===null&&(lo=[]),n=s_(lo,n,r),r=Re,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?X_:om),n}function Fc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ll(n);if(n.$$typeof===q)return Kt(n)}throw Error(s(438,String(n)))}function Xd(n){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=qc(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=V;return r.index++,a}function cr(n,r){return typeof r=="function"?r(n):r}function Hc(n){var r=vt();return Wd(r,Je,n)}function Wd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var b=_=null,O=null,G=r,W=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(xe&te)===te:(ur&te)===te){var $=G.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===no&&(W=!0);else if((ur&$)===$){G=G.next,$===no&&(W=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(b=O=te,_=d):O=O.next=te,Re.lanes|=$,Zr|=$;te=G.action,la&&a(d,te),d=G.hasEagerState?G.eagerState:a(d,te)}else $={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(b=O=$,_=d):O=O.next=$,Re.lanes|=te,Zr|=te;G=G.next}while(G!==null&&G!==r);if(O===null?_=d:O.next=b,!Sn(d,n.memoizedState)&&(It=!0,W&&(a=io,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Jd(n){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);Sn(d,r.memoizedState)||(It=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function g_(n,r,a){var l=Re,f=vt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!Sn((Je||f).memoizedState,a);if(_&&(f.memoizedState=a,It=!0),f=f.queue,tm(v_.bind(null,l,f,n),[n]),f.getSnapshot!==r||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,uo(9,{destroy:void 0},__.bind(null,l,f,a,r),null),nt===null)throw Error(s(349));d||(ur&127)!==0||y_(l,r,a)}return a}function y_(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=qc(),Re.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function __(n,r,a,l){r.value=a,r.getSnapshot=l,E_(r)&&T_(n)}function v_(n,r,a){return a(function(){E_(r)&&T_(n)})}function E_(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Sn(n,a)}catch{return!0}}function T_(n){var r=Zs(n,2);r!==null&&_n(r,n,2)}function Zd(n){var r=on();if(typeof n=="function"){var a=n;if(n=a(),la){Un(!0);try{a()}finally{Un(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:n},r}function A_(n,r,a,l){return n.baseState=a,Wd(n,Je,typeof l=="function"?l:cr)}function lw(n,r,a,l,f){if(Kc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};J.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,S_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function S_(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=J.T,_={};J.T=_;try{var b=a(f,l),O=J.S;O!==null&&O(_,b),b_(n,r,b)}catch(G){em(n,r,G)}finally{d!==null&&_.types!==null&&(d.types=_.types),J.T=d}}else try{d=a(f,l),b_(n,r,d)}catch(G){em(n,r,G)}}function b_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){w_(n,r,l)},function(l){return em(n,r,l)}):w_(n,r,a)}function w_(n,r,a){r.status="fulfilled",r.value=a,R_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,S_(n,a)))}function em(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,R_(r),r=r.next;while(r!==l)}n.action=null}function R_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function C_(n,r){return r}function I_(n,r){if(Pe){var a=nt.formState;if(a!==null){e:{var l=Re;if(Pe){if(st){t:{for(var f=st,d=Kn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){st=Yn(f.nextSibling),l=f.data==="F!";break e}}Hr(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C_,lastRenderedState:r},a.queue=l,a=K_.bind(null,Re,l),l.dispatch=a,l=Zd(!1),d=am.bind(null,Re,!1,l.queue),l=on(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=lw.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function N_(n){var r=vt();return D_(r,Je,n)}function D_(n,r,a){if(r=Wd(n,r,C_)[0],n=Hc(cr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ll(r)}catch(_){throw _===ro?Vc:_}else l=r;r=vt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,uo(9,{destroy:void 0},uw.bind(null,f,a),null)),[l,d,n]}function uw(n,r){n.action=r}function x_(n){var r=vt(),a=Je;if(a!==null)return D_(r,a,n);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function uo(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=qc(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function O_(){return vt().memoizedState}function Gc(n,r,a,l){var f=on();Re.flags|=n,f.memoizedState=uo(1|r,{destroy:void 0},a,l===void 0?null:l)}function $c(n,r,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;Je!==null&&l!==null&&Gd(l,Je.memoizedState.deps)?f.memoizedState=uo(r,d,a,l):(Re.flags|=n,f.memoizedState=uo(1|r,d,a,l))}function M_(n,r){Gc(8390656,8,n,r)}function tm(n,r){$c(2048,8,n,r)}function cw(n){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=qc(),Re.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function V_(n){var r=vt().memoizedState;return cw({ref:r,nextImpl:n}),function(){if((He&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function k_(n,r){return $c(4,2,n,r)}function P_(n,r){return $c(4,4,n,r)}function L_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function U_(n,r,a){a=a!=null?a.concat([n]):null,$c(4,4,L_.bind(null,r,n),a)}function nm(){}function j_(n,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Gd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function z_(n,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Gd(r,l[1]))return l[0];if(l=n(),la){Un(!0);try{n()}finally{Un(!1)}}return a.memoizedState=[l,r],l}function im(n,r,a){return a===void 0||(ur&1073741824)!==0&&(xe&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=Bv(),Re.lanes|=n,Zr|=n,a)}function B_(n,r,a,l){return Sn(a,r)?a:ao.current!==null?(n=im(n,a,l),Sn(n,r)||(It=!0),n):(ur&42)===0||(ur&1073741824)!==0&&(xe&261930)===0?(It=!0,n.memoizedState=a):(n=Bv(),Re.lanes|=n,Zr|=n,r)}function q_(n,r,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var _=J.T,b={};J.T=b,am(n,!1,r,a);try{var O=f(),G=J.S;if(G!==null&&G(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=sw(O,l);Ul(n,r,W,Nn(n))}else Ul(n,r,l,Nn(n))}catch(te){Ul(n,r,{then:function(){},status:"rejected",reason:te},Nn())}finally{le.p=d,_!==null&&b.types!==null&&(_.types=b.types),J.T=_}}function hw(){}function rm(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=F_(n).queue;q_(n,f,r,ye,a===null?hw:function(){return H_(n),a(l)})}function F_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function H_(n){var r=F_(n);r.next===null&&(r=n.alternate.memoizedState),Ul(n,r.next.queue,{},Nn())}function sm(){return Kt(tu)}function G_(){return vt().memoizedState}function $_(){return vt().memoizedState}function fw(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Nn();n=Kr(a);var l=Qr(r,n,a);l!==null&&(_n(l,r,a),Ml(l,r,a)),r={cache:Vd()},n.payload=r;return}r=r.return}}function dw(n,r,a){var l=Nn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Kc(n)?Q_(r,a):(a=Sd(n,r,a,l),a!==null&&(_n(a,n,l),Y_(a,r,l)))}function K_(n,r,a){var l=Nn();Ul(n,r,a,l)}function Ul(n,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Kc(n))Q_(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,Sn(b,_))return Cc(n,r,f,0),nt===null&&Rc(),!1}catch{}if(a=Sd(n,r,f,l),a!==null)return _n(a,n,l),Y_(a,r,l),!0}return!1}function am(n,r,a,l){if(l={lane:2,revertLane:Um(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Kc(n)){if(r)throw Error(s(479))}else r=Sd(n,a,l,2),r!==null&&_n(r,n,2)}function Kc(n){var r=n.alternate;return n===Re||r!==null&&r===Re}function Q_(n,r){oo=zc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Y_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,al(n,a)}}var jl={readContext:Kt,use:Fc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};jl.useEffectEvent=dt;var X_={readContext:Kt,use:Fc,useCallback:function(n,r){return on().memoizedState=[n,r===void 0?null:r],n},useContext:Kt,useEffect:M_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Gc(4194308,4,L_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Gc(4194308,4,n,r)},useInsertionEffect:function(n,r){Gc(4,2,n,r)},useMemo:function(n,r){var a=on();r=r===void 0?null:r;var l=n();if(la){Un(!0);try{n()}finally{Un(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=on();if(a!==void 0){var f=a(r);if(la){Un(!0);try{a(r)}finally{Un(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=dw.bind(null,Re,n),[l.memoizedState,n]},useRef:function(n){var r=on();return n={current:n},r.memoizedState=n},useState:function(n){n=Zd(n);var r=n.queue,a=K_.bind(null,Re,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:nm,useDeferredValue:function(n,r){var a=on();return im(a,n,r)},useTransition:function(){var n=Zd(!1);return n=q_.bind(null,Re,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Re,f=on();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(xe&127)!==0||y_(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,M_(v_.bind(null,l,d,n),[n]),l.flags|=2048,uo(9,{destroy:void 0},__.bind(null,l,d,a,r),null),a},useId:function(){var n=on(),r=nt.identifierPrefix;if(Pe){var a=Ui,l=Li;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Bc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=aw++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:sm,useFormState:I_,useActionState:I_,useOptimistic:function(n){var r=on();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=am.bind(null,Re,!0,a),a.dispatch=r,[n,r]},useMemoCache:Xd,useCacheRefresh:function(){return on().memoizedState=fw.bind(null,Re)},useEffectEvent:function(n){var r=on(),a={impl:n};return r.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},om={readContext:Kt,use:Fc,useCallback:j_,useContext:Kt,useEffect:tm,useImperativeHandle:U_,useInsertionEffect:k_,useLayoutEffect:P_,useMemo:z_,useReducer:Hc,useRef:O_,useState:function(){return Hc(cr)},useDebugValue:nm,useDeferredValue:function(n,r){var a=vt();return B_(a,Je.memoizedState,n,r)},useTransition:function(){var n=Hc(cr)[0],r=vt().memoizedState;return[typeof n=="boolean"?n:Ll(n),r]},useSyncExternalStore:g_,useId:G_,useHostTransitionStatus:sm,useFormState:N_,useActionState:N_,useOptimistic:function(n,r){var a=vt();return A_(a,Je,n,r)},useMemoCache:Xd,useCacheRefresh:$_};om.useEffectEvent=V_;var W_={readContext:Kt,use:Fc,useCallback:j_,useContext:Kt,useEffect:tm,useImperativeHandle:U_,useInsertionEffect:k_,useLayoutEffect:P_,useMemo:z_,useReducer:Jd,useRef:O_,useState:function(){return Jd(cr)},useDebugValue:nm,useDeferredValue:function(n,r){var a=vt();return Je===null?im(a,n,r):B_(a,Je.memoizedState,n,r)},useTransition:function(){var n=Jd(cr)[0],r=vt().memoizedState;return[typeof n=="boolean"?n:Ll(n),r]},useSyncExternalStore:g_,useId:G_,useHostTransitionStatus:sm,useFormState:x_,useActionState:x_,useOptimistic:function(n,r){var a=vt();return Je!==null?A_(a,Je,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Xd,useCacheRefresh:$_};W_.useEffectEvent=V_;function lm(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:A({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var um={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Nn(),f=Kr(l);f.payload=r,a!=null&&(f.callback=a),r=Qr(n,f,l),r!==null&&(_n(r,n,l),Ml(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Nn(),f=Kr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Qr(n,f,l),r!==null&&(_n(r,n,l),Ml(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Nn(),l=Kr(a);l.tag=2,r!=null&&(l.callback=r),r=Qr(n,l,a),r!==null&&(_n(r,n,a),Ml(r,n,a))}};function J_(n,r,a,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!wl(a,l)||!wl(f,d):!0}function Z_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&um.enqueueReplaceState(r,r.state,null)}function ua(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=A({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function ev(n){wc(n)}function tv(n){console.error(n)}function nv(n){wc(n)}function Qc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function iv(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cm(n,r,a){return a=Kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Qc(n,r)},a}function rv(n){return n=Kr(n),n.tag=3,n}function sv(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){iv(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){iv(r,a,l),typeof f!="function"&&(es===null?es=new Set([this]):es.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function mw(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&to(r,a,f,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?ah():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===kc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),km(n,l,f)),!1;case 22:return a.flags|=65536,l===kc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),km(n,l,f)),!1}throw Error(s(435,a.tag))}return km(n,l,f),ah(),!1}if(Pe)return r=wn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Nd&&(n=Error(s(422),{cause:l}),Il(Hn(n,a)))):(l!==Nd&&(r=Error(s(423),{cause:l}),Il(Hn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Hn(l,a),f=cm(n.stateNode,l,f),zd(n,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Hn(d,a),Kl===null?Kl=[d]:Kl.push(d),mt!==4&&(mt=2),r===null)return!0;l=Hn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=cm(a.stateNode,l,n),zd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(es===null||!es.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=rv(f),sv(f,n,a,l),zd(a,f),!1}a=a.return}while(a!==null);return!1}var hm=Error(s(461)),It=!1;function Qt(n,r,a,l){r.child=n===null?u_(r,null,a,l):oa(r,n.child,a,l)}function av(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return ia(r),l=$d(n,r,a,_,d,f),b=Kd(),n!==null&&!It?(Qd(n,r,f),hr(n,r,f)):(Pe&&b&&Cd(r),r.flags|=1,Qt(n,r,l,f),r.child)}function ov(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!bd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,lv(n,r,d,l,f)):(n=Nc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!vm(n,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(_,l)&&n.ref===r.ref)return hr(n,r,f)}return r.flags|=1,n=sr(d,l),n.ref=r.ref,n.return=r,r.child=n}function lv(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(wl(d,l)&&n.ref===r.ref)if(It=!1,r.pendingProps=l=d,vm(n,f))(n.flags&131072)!==0&&(It=!0);else return r.lanes=n.lanes,hr(n,r,f)}return fm(n,r,a,l,f)}function uv(n,r,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=r.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return cv(n,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Mc(r,d!==null?d.cachePool:null),d!==null?f_(r,d):qd(),d_(r);else return l=r.lanes=536870912,cv(n,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Mc(r,d.cachePool),f_(r,d),Xr(),r.memoizedState=null):(n!==null&&Mc(r,null),qd(),Xr());return Qt(n,r,f,a),r.child}function zl(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function cv(n,r,a,l,f){var d=Pd();return d=d===null?null:{parent:Rt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},n!==null&&Mc(r,null),qd(),d_(r),n!==null&&to(n,r,l,!0),r.childLanes=f,null}function Yc(n,r){return r=Wc({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function hv(n,r,a){return oa(r,n.child,null,a),n=Yc(r,r.pendingProps),n.flags|=2,Rn(r),r.memoizedState=null,n}function pw(n,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Pe){if(l.mode==="hidden")return n=Yc(r,l),r.lanes=536870912,zl(null,n);if(Hd(r),(n=st)?(n=S0(n,Kn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:qr!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=Qy(n),a.return=r,r.child=a,$t=r,st=null)):n=null,n===null)throw Hr(r);return r.lanes=536870912,null}return Yc(r,l)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(Hd(r),f)if(r.flags&256)r.flags&=-257,r=hv(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(It||to(n,r,a,!1),f=(a&n.childLanes)!==0,It||f){if(l=nt,l!==null&&(_=ol(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Zs(n,_),_n(l,n,_),hm;ah(),r=hv(n,r,a)}else n=d.treeContext,st=Yn(_.nextSibling),$t=r,Pe=!0,Fr=null,Kn=!1,n!==null&&Wy(r,n),r=Yc(r,l),r.flags|=4096;return r}return n=sr(n.child,{mode:l.mode,children:l.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Xc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function fm(n,r,a,l,f){return ia(r),a=$d(n,r,a,l,void 0,f),l=Kd(),n!==null&&!It?(Qd(n,r,f),hr(n,r,f)):(Pe&&l&&Cd(r),r.flags|=1,Qt(n,r,a,f),r.child)}function fv(n,r,a,l,f,d){return ia(r),r.updateQueue=null,a=p_(r,l,a,f),m_(n),l=Kd(),n!==null&&!It?(Qd(n,r,d),hr(n,r,d)):(Pe&&l&&Cd(r),r.flags|=1,Qt(n,r,a,d),r.child)}function dv(n,r,a,l,f){if(ia(r),r.stateNode===null){var d=Wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=um,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Ud(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Wa,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(lm(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&um.enqueueReplaceState(d,d.state,null),kl(r,l,d,f),Vl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var b=r.memoizedProps,O=ua(a,b);d.props=O;var G=d.context,W=a.contextType;_=Wa,typeof W=="object"&&W!==null&&(_=Kt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||G!==_)&&Z_(r,d,l,_),$r=!1;var $=r.memoizedState;d.state=$,kl(r,l,d,f),Vl(),G=r.memoizedState,b||$!==G||$r?(typeof te=="function"&&(lm(r,a,te,l),G=r.memoizedState),(O=$r||J_(r,a,O,l,$,G,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,jd(n,r),_=r.memoizedProps,W=ua(a,_),d.props=W,te=r.pendingProps,$=d.context,G=a.contextType,O=Wa,typeof G=="object"&&G!==null&&(O=Kt(G)),b=a.getDerivedStateFromProps,(G=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||$!==O)&&Z_(r,d,l,O),$r=!1,$=r.memoizedState,d.state=$,kl(r,l,d,f),Vl();var Y=r.memoizedState;_!==te||$!==Y||$r||n!==null&&n.dependencies!==null&&xc(n.dependencies)?(typeof b=="function"&&(lm(r,a,b,l),Y=r.memoizedState),(W=$r||J_(r,a,W,l,$,Y,O)||n!==null&&n.dependencies!==null&&xc(n.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=O,l=W):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Xc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=oa(r,n.child,null,f),r.child=oa(r,null,a,f)):Qt(n,r,a,f),r.memoizedState=d.state,n=r.child):n=hr(n,r,f),n}function mv(n,r,a,l){return ta(),r.flags|=256,Qt(n,r,a,l),r.child}var dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mm(n){return{baseLanes:n,cachePool:i_()}}function pm(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=In),n}function pv(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(_t.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(Pe){if(f?Yr(r):Xr(),(n=st)?(n=S0(n,Kn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:qr!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=Qy(n),a.return=r,r.child=a,$t=r,st=null)):n=null,n===null)throw Hr(r);return Wm(n)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Xr(),f=r.mode,b=Wc({mode:"hidden",children:b},f),l=ea(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=mm(a),l.childLanes=pm(n,_,a),r.memoizedState=dm,zl(null,l)):(Yr(r),gm(r,b))}var O=n.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(d)r.flags&256?(Yr(r),r.flags&=-257,r=ym(n,r,a)):r.memoizedState!==null?(Xr(),r.child=n.child,r.flags|=128,r=null):(Xr(),b=l.fallback,f=r.mode,l=Wc({mode:"visible",children:l.children},f),b=ea(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,oa(r,n.child,null,a),l=r.child,l.memoizedState=mm(a),l.childLanes=pm(n,_,a),r.memoizedState=dm,r=zl(null,l));else if(Yr(r),Wm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(s(419)),l.stack="",l.digest=_,Il({value:l,source:null,stack:null}),r=ym(n,r,a)}else if(It||to(n,r,a,!1),_=(a&n.childLanes)!==0,It||_){if(_=nt,_!==null&&(l=ol(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Zs(n,l),_n(_,n,l),hm;Xm(b)||ah(),r=ym(n,r,a)}else Xm(b)?(r.flags|=192,r.child=n.child,r=null):(n=O.treeContext,st=Yn(b.nextSibling),$t=r,Pe=!0,Fr=null,Kn=!1,n!==null&&Wy(r,n),r=gm(r,l.children),r.flags|=4096);return r}return f?(Xr(),b=l.fallback,f=r.mode,O=n.child,G=O.sibling,l=sr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,G!==null?b=sr(G,b):(b=ea(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,zl(null,l),l=r.child,b=n.child.memoizedState,b===null?b=mm(a):(f=b.cachePool,f!==null?(O=Rt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=i_(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=pm(n,_,a),r.memoizedState=dm,zl(n.child,l)):(Yr(r),a=n.child,n=a.sibling,a=sr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function gm(n,r){return r=Wc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Wc(n,r){return n=bn(22,n,null,r),n.lanes=0,n}function ym(n,r,a){return oa(r,n.child,null,a),n=gm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function gv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Od(n.return,r,a)}function _m(n,r,a,l,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function yv(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=_t.current,b=(_&2)!==0;if(b?(_=_&1|2,r.flags|=128):_&=1,ue(_t,_),Qt(n,r,l,a),l=Pe?Cl:0,!b&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&gv(n,a,r);else if(n.tag===19)gv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&jc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),_m(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&jc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}_m(r,!0,a,null,d,l);break;case"together":_m(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function hr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Zr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(to(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=sr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=sr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function vm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&xc(n)))}function gw(n,r,a){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),Gr(r,Rt,n.memoizedState.cache),ta();break;case 27:case 5:ks(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:Gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Hd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Yr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?pv(n,r,a):(Yr(r),n=hr(n,r,a),n!==null?n.sibling:null);Yr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(to(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return yv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(_t,_t.current),l)break;return null;case 22:return r.lanes=0,uv(n,r,a,r.pendingProps);case 24:Gr(r,Rt,n.memoizedState.cache)}return hr(n,r,a)}function _v(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)It=!0;else{if(!vm(n,a)&&(r.flags&128)===0)return It=!1,gw(n,r,a);It=(n.flags&131072)!==0}else It=!1,Pe&&(r.flags&1048576)!==0&&Xy(r,Cl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(n=sa(r.elementType),r.type=n,typeof n=="function")bd(n)?(l=ua(n,l),r.tag=1,r=dv(null,r,n,l,a)):(r.tag=0,r=fm(null,r,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===re){r.tag=11,r=av(null,r,n,l,a);break e}else if(f===N){r.tag=14,r=ov(null,r,n,l,a);break e}}throw r=ot(n)||n,Error(s(306,r,""))}}return r;case 0:return fm(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ua(l,r.pendingProps),dv(n,r,l,f,a);case 3:e:{if(Vt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,jd(n,r),kl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Gr(r,Rt,l),l!==d.cache&&Md(r,[Rt],a,!0),Vl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=mv(n,r,l,a);break e}else if(l!==f){f=Hn(Error(s(424)),r),Il(f),r=mv(n,r,l,a);break e}else for(n=r.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,st=Yn(n.firstChild),$t=r,Pe=!0,Fr=null,Kn=!0,a=u_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ta(),l===f){r=hr(n,r,a);break e}Qt(n,r,l,a)}r=r.child}return r;case 26:return Xc(n,r),n===null?(a=N0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Pe||(a=r.type,n=r.pendingProps,l=dh(Ce.current).createElement(a),l[St]=r,l[jt]=n,Yt(l,a,n),bt(l),r.stateNode=l):r.memoizedState=N0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ks(r),n===null&&Pe&&(l=r.stateNode=R0(r.type,r.pendingProps,Ce.current),$t=r,Kn=!0,f=st,rs(r.type)?(Jm=f,st=Yn(l.firstChild)):st=f),Qt(n,r,r.pendingProps.children,a),Xc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Pe&&((f=l=st)&&(l=$w(l,r.type,r.pendingProps,Kn),l!==null?(r.stateNode=l,$t=r,st=Yn(l.firstChild),Kn=!1,f=!0):f=!1),f||Hr(r)),ks(r),f=r.type,d=r.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,Km(f,d)?l=null:_!==null&&Km(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=$d(n,r,ow,null,null,a),tu._currentValue=f),Xc(n,r),Qt(n,r,l,a),r.child;case 6:return n===null&&Pe&&((n=a=st)&&(a=Kw(a,r.pendingProps,Kn),a!==null?(r.stateNode=a,$t=r,st=null,n=!0):n=!1),n||Hr(r)),null;case 13:return pv(n,r,a);case 4:return Vt(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=oa(r,null,l,a):Qt(n,r,l,a),r.child;case 11:return av(n,r,r.type,r.pendingProps,a);case 7:return Qt(n,r,r.pendingProps,a),r.child;case 8:return Qt(n,r,r.pendingProps.children,a),r.child;case 12:return Qt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Gr(r,r.type,l.value),Qt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ia(r),f=Kt(f),l=l(f),r.flags|=1,Qt(n,r,l,a),r.child;case 14:return ov(n,r,r.type,r.pendingProps,a);case 15:return lv(n,r,r.type,r.pendingProps,a);case 19:return yv(n,r,a);case 31:return pw(n,r,a);case 22:return uv(n,r,a,r.pendingProps);case 24:return ia(r),l=Kt(Rt),n===null?(f=Pd(),f===null&&(f=nt,d=Vd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Ud(r),Gr(r,Rt,f)):((n.lanes&a)!==0&&(jd(n,r),kl(r,null,null,a),Vl()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Gr(r,Rt,l)):(l=d.cache,Gr(r,Rt,l),l!==f.cache&&Md(r,[Rt],a,!0))),Qt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function fr(n){n.flags|=4}function Em(n,r,a,l,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Gv())n.flags|=8192;else throw aa=kc,Ld}else n.flags&=-16777217}function vv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!V0(r))if(Gv())n.flags|=8192;else throw aa=kc,Ld}function Jc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?rc():536870912,n.lanes|=r,mo|=r)}function Bl(n,r){if(!Pe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function at(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function yw(n,r,a){var l=r.pendingProps;switch(Id(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),lr(Rt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(eo(r)?fr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Dd())),at(r),null;case 26:var f=r.type,d=r.memoizedState;return n===null?(fr(r),d!==null?(at(r),vv(r,d)):(at(r),Em(r,f,null,l,a))):d?d!==n.memoizedState?(fr(r),at(r),vv(r,d)):(at(r),r.flags&=-16777217):(n=n.memoizedProps,n!==l&&fr(r),at(r),Em(r,f,n,l,a)),null;case 27:if(Oa(r),a=Ce.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&fr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}n=fe.current,eo(r)?Jy(r):(n=R0(f,l,a),r.stateNode=n,fr(r))}return at(r),null;case 5:if(Oa(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&fr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(d=fe.current,eo(r))Jy(r);else{var _=dh(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[St]=r,d[jt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Yt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fr(r)}}return at(r),Em(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&fr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ce.current,eo(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=$t,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[St]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||p0(n.nodeValue,a)),n||Hr(r,!0)}else n=dh(n).createTextNode(l),n[St]=r,r.stateNode=n}return at(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(l=eo(r),a!==null){if(n===null){if(!l)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[St]=r}else ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),n=!1}else a=Dd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(Rn(r),r):(Rn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return at(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=eo(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=r}else ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),f=!1}else f=Dd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Rn(r),r):(Rn(r),null)}return Rn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),Jc(r,r.updateQueue),at(r),null);case 4:return lt(),n===null&&qm(r.stateNode.containerInfo),at(r),null;case 10:return lr(r.type),at(r),null;case 19:if(ne(_t),l=r.memoizedState,l===null)return at(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Bl(l,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=jc(n),d!==null){for(r.flags|=128,Bl(l,!1),n=d.updateQueue,r.updateQueue=n,Jc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Ky(a,n),a=a.sibling;return ue(_t,_t.current&1|2),Pe&&ar(r,l.treeForkCount),r.child}n=n.sibling}l.tail!==null&&sn()>ih&&(r.flags|=128,f=!0,Bl(l,!1),r.lanes=4194304)}else{if(!f)if(n=jc(d),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,Jc(r,n),Bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return at(r),null}else 2*sn()-l.renderingStartTime>ih&&a!==536870912&&(r.flags|=128,f=!0,Bl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(n=l.last,n!==null?n.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=sn(),n.sibling=null,a=_t.current,ue(_t,f?a&1|2:a&1),Pe&&ar(r,l.treeForkCount),n):(at(r),null);case 22:case 23:return Rn(r),Fd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&Jc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ne(ra),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),lr(Rt),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function _w(n,r){switch(Id(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return lr(Rt),lt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Oa(r),null;case 31:if(r.memoizedState!==null){if(Rn(r),r.alternate===null)throw Error(s(340));ta()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Rn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ta()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ne(_t),null;case 4:return lt(),null;case 10:return lr(r.type),null;case 22:case 23:return Rn(r),Fd(),n!==null&&ne(ra),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return lr(Rt),null;case 25:return null;default:return null}}function Ev(n,r){switch(Id(r),r.tag){case 3:lr(Rt),lt();break;case 26:case 27:case 5:Oa(r);break;case 4:lt();break;case 31:r.memoizedState!==null&&Rn(r);break;case 13:Rn(r);break;case 19:ne(_t);break;case 10:lr(r.type);break;case 22:case 23:Rn(r),Fd(),n!==null&&ne(ra);break;case 24:lr(Rt)}}function ql(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Ye(r,r.return,b)}}function Wr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var O=a,G=b;try{G()}catch(W){Ye(f,O,W)}}}l=l.next}while(l!==d)}}catch(W){Ye(r,r.return,W)}}function Tv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{h_(r,a)}catch(l){Ye(n,n.return,l)}}}function Av(n,r,a){a.props=ua(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(n,r,l)}}function Fl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Ye(n,r,f)}}function ji(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(n,r,f)}else a.current=null}function Sv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(n,n.return,f)}}function Tm(n,r,a){try{var l=n.stateNode;zw(l,n.type,a,r),l[jt]=r}catch(f){Ye(n,n.return,f)}}function bv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&rs(n.type)||n.tag===4}function Am(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||bv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&rs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Sm(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ai));else if(l!==4&&(l===27&&rs(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Sm(n,r,a),n=n.sibling;n!==null;)Sm(n,r,a),n=n.sibling}function Zc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&rs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Zc(n,r,a),n=n.sibling;n!==null;)Zc(n,r,a),n=n.sibling}function wv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Yt(r,l,a),r[St]=n,r[jt]=a}catch(d){Ye(n,n.return,d)}}var dr=!1,Nt=!1,bm=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function vw(n,r){if(n=n.containerInfo,Gm=Eh,n=Uy(n),yd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,O=-1,G=0,W=0,te=n,$=null;t:for(;;){for(var Y;te!==a||f!==0&&te.nodeType!==3||(b=_+f),te!==d||l!==0&&te.nodeType!==3||(O=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(Y=te.firstChild)!==null;)$=te,te=Y;for(;;){if(te===n)break t;if($===a&&++G===f&&(b=_),$===d&&++W===l&&(O=_),(Y=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=Y}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for($m={focusedElem:n,selectionRange:a},Eh=!1,Bt=r;Bt!==null;)if(r=Bt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Bt=n;else for(;Bt!==null;){switch(r=Bt,d=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=ua(a.type,f);n=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Ye(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Ym(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ym(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Bt=n;break}Bt=r.return}}function Cv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:pr(n,a),l&4&&ql(5,a);break;case 1:if(pr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var f=ua(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&Tv(a),l&512&&Fl(a,a.return);break;case 3:if(pr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{h_(n,r)}catch(_){Ye(a,a.return,_)}}break;case 27:r===null&&l&4&&wv(a);case 26:case 5:pr(n,a),r===null&&l&4&&Sv(a),l&512&&Fl(a,a.return);break;case 12:pr(n,a);break;case 31:pr(n,a),l&4&&Dv(n,a);break;case 13:pr(n,a),l&4&&xv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Iw.bind(null,a),Qw(n,a))));break;case 22:if(l=a.memoizedState!==null||dr,!l){r=r!==null&&r.memoizedState!==null||Nt,f=dr;var d=Nt;dr=l,(Nt=r)&&!d?gr(n,a,(a.subtreeFlags&8772)!==0):pr(n,a),dr=f,Nt=d}break;case 30:break;default:pr(n,a)}}function Iv(n){var r=n.alternate;r!==null&&(n.alternate=null,Iv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&La(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ct=null,mn=!1;function mr(n,r,a){for(a=a.child;a!==null;)Nv(n,r,a),a=a.sibling}function Nv(n,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ni,a)}catch{}switch(a.tag){case 26:Nt||ji(a,r),mr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||ji(a,r);var l=ct,f=mn;rs(a.type)&&(ct=a.stateNode,mn=!1),mr(n,r,a),Jl(a.stateNode),ct=l,mn=f;break;case 5:Nt||ji(a,r);case 6:if(l=ct,f=mn,ct=null,mr(n,r,a),ct=l,mn=f,ct!==null)if(mn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Ye(a,r,d)}else try{ct.removeChild(a.stateNode)}catch(d){Ye(a,r,d)}break;case 18:ct!==null&&(mn?(n=ct,T0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ao(n)):T0(ct,a.stateNode));break;case 4:l=ct,f=mn,ct=a.stateNode.containerInfo,mn=!0,mr(n,r,a),ct=l,mn=f;break;case 0:case 11:case 14:case 15:Wr(2,a,r),Nt||Wr(4,a,r),mr(n,r,a);break;case 1:Nt||(ji(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Av(a,r,l)),mr(n,r,a);break;case 21:mr(n,r,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,mr(n,r,a),Nt=l;break;default:mr(n,r,a)}}function Dv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Ao(n)}catch(a){Ye(r,r.return,a)}}}function xv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ao(n)}catch(a){Ye(r,r.return,a)}}function Ew(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Rv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Rv),r;default:throw Error(s(435,n.tag))}}function eh(n,r){var a=Ew(n);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=Nw.bind(null,n,l);l.then(f,f)}})}function pn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(rs(b.type)){ct=b.stateNode,mn=!1;break e}break;case 5:ct=b.stateNode,mn=!1;break e;case 3:case 4:ct=b.stateNode.containerInfo,mn=!0;break e}b=b.return}if(ct===null)throw Error(s(160));Nv(d,_,f),ct=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Ov(r,n),r=r.sibling}var fi=null;function Ov(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pn(r,n),gn(n),l&4&&(Wr(3,n,n.return),ql(3,n),Wr(5,n,n.return));break;case 1:pn(r,n),gn(n),l&512&&(Nt||a===null||ji(a,a.return)),l&64&&dr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=fi;if(pn(r,n),gn(n),l&512&&(Nt||a===null||ji(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[wi]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Yt(d,l,a),d[St]=n,bt(d),l=d;break e;case"link":var _=O0("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=O0("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=n,bt(d),l=d}n.stateNode=l}else M0(f,n.type,n.stateNode);else n.stateNode=x0(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?M0(f,n.type,n.stateNode):x0(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Tm(n,n.memoizedProps,a.memoizedProps)}break;case 27:pn(r,n),gn(n),l&512&&(Nt||a===null||ji(a,a.return)),a!==null&&l&4&&Tm(n,n.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,n),gn(n),l&512&&(Nt||a===null||ji(a,a.return)),n.flags&32){f=n.stateNode;try{dn(f,"")}catch(de){Ye(n,n.return,de)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Tm(n,f,a!==null?a.memoizedProps:f)),l&1024&&(bm=!0);break;case 6:if(pn(r,n),gn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(de){Ye(n,n.return,de)}}break;case 3:if(gh=null,f=fi,fi=mh(r.containerInfo),pn(r,n),fi=f,gn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ao(r.containerInfo)}catch(de){Ye(n,n.return,de)}bm&&(bm=!1,Mv(n));break;case 4:l=fi,fi=mh(n.stateNode.containerInfo),pn(r,n),gn(n),fi=l;break;case 12:pn(r,n),gn(n);break;case 31:pn(r,n),gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,eh(n,l)));break;case 13:pn(r,n),gn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nh=sn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,eh(n,l)));break;case 22:f=n.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,G=dr,W=Nt;if(dr=G||f,Nt=W||O,pn(r,n),Nt=W,dr=G,gn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||O||dr||Nt||ca(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=O.stateNode;var te=O.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(de){Ye(O,O.return,de)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(de){Ye(O,O.return,de)}}}else if(r.tag===18){if(a===null){O=r;try{var Y=O.stateNode;f?A0(Y,!0):A0(O.stateNode,!1)}catch(de){Ye(O,O.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,eh(n,a))));break;case 19:pn(r,n),gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,eh(n,l)));break;case 30:break;case 21:break;default:pn(r,n),gn(n)}}function gn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(bv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Am(n);Zc(n,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var b=Am(n);Zc(n,b,_);break;case 3:case 4:var O=a.stateNode.containerInfo,G=Am(n);Sm(n,G,O);break;default:throw Error(s(161))}}catch(W){Ye(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Mv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Mv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function pr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Cv(n,r.alternate,r),r=r.sibling}function ca(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Wr(4,r,r.return),ca(r);break;case 1:ji(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Av(r,r.return,a),ca(r);break;case 27:Jl(r.stateNode);case 26:case 5:ji(r,r.return),ca(r);break;case 22:r.memoizedState===null&&ca(r);break;case 30:ca(r);break;default:ca(r)}n=n.sibling}}function gr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:gr(f,d,a),ql(4,d);break;case 1:if(gr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Ye(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)c_(O[f],b)}catch(G){Ye(l,l.return,G)}}a&&_&64&&Tv(d),Fl(d,d.return);break;case 27:wv(d);case 26:case 5:gr(f,d,a),a&&l===null&&_&4&&Sv(d),Fl(d,d.return);break;case 12:gr(f,d,a);break;case 31:gr(f,d,a),a&&_&4&&Dv(f,d);break;case 13:gr(f,d,a),a&&_&4&&xv(f,d);break;case 22:d.memoizedState===null&&gr(f,d,a),Fl(d,d.return);break;case 30:break;default:gr(f,d,a)}r=r.sibling}}function wm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Nl(a))}function Rm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Nl(n))}function di(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vv(n,r,a,l),r=r.sibling}function Vv(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:di(n,r,a,l),f&2048&&ql(9,r);break;case 1:di(n,r,a,l);break;case 3:di(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Nl(n)));break;case 12:if(f&2048){di(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){Ye(r,r.return,O)}}else di(n,r,a,l);break;case 31:di(n,r,a,l);break;case 13:di(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?di(n,r,a,l):Hl(n,r):d._visibility&2?di(n,r,a,l):(d._visibility|=2,co(n,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&wm(_,r);break;case 24:di(n,r,a,l),f&2048&&Rm(r.alternate,r);break;default:di(n,r,a,l)}}function co(n,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=n,_=r,b=a,O=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:co(d,_,b,O,f),ql(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?co(d,_,b,O,f):Hl(d,_):(W._visibility|=2,co(d,_,b,O,f)),f&&G&2048&&wm(_.alternate,_);break;case 24:co(d,_,b,O,f),f&&G&2048&&Rm(_.alternate,_);break;default:co(d,_,b,O,f)}r=r.sibling}}function Hl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Hl(a,l),f&2048&&wm(l.alternate,l);break;case 24:Hl(a,l),f&2048&&Rm(l.alternate,l);break;default:Hl(a,l)}r=r.sibling}}var Gl=8192;function ho(n,r,a){if(n.subtreeFlags&Gl)for(n=n.child;n!==null;)kv(n,r,a),n=n.sibling}function kv(n,r,a){switch(n.tag){case 26:ho(n,r,a),n.flags&Gl&&n.memoizedState!==null&&a2(a,fi,n.memoizedState,n.memoizedProps);break;case 5:ho(n,r,a);break;case 3:case 4:var l=fi;fi=mh(n.stateNode.containerInfo),ho(n,r,a),fi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Gl,Gl=16777216,ho(n,r,a),Gl=l):ho(n,r,a));break;default:ho(n,r,a)}}function Pv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function $l(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,Uv(l,n)}Pv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Lv(n),n=n.sibling}function Lv(n){switch(n.tag){case 0:case 11:case 15:$l(n),n.flags&2048&&Wr(9,n,n.return);break;case 3:$l(n);break;case 12:$l(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,th(n)):$l(n);break;default:$l(n)}}function th(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,Uv(l,n)}Pv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Wr(8,r,r.return),th(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,th(r));break;default:th(r)}n=n.sibling}}function Uv(n,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Wr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=n;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(Iv(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var Tw={getCacheForType:function(n){var r=Kt(Rt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return Kt(Rt).controller.signal}},Aw=typeof WeakMap=="function"?WeakMap:Map,He=0,nt=null,Ne=null,xe=0,Qe=0,Cn=null,Jr=!1,fo=!1,Cm=!1,yr=0,mt=0,Zr=0,ha=0,Im=0,In=0,mo=0,Kl=null,yn=null,Nm=!1,nh=0,jv=0,ih=1/0,rh=null,es=null,Pt=0,ts=null,po=null,_r=0,Dm=0,xm=null,zv=null,Ql=0,Om=null;function Nn(){return(He&2)!==0&&xe!==0?xe&-xe:J.T!==null?Um():sc()}function Bv(){if(In===0)if((xe&536870912)===0||Pe){var n=Us;Us<<=1,(Us&3932160)===0&&(Us=262144),In=n}else In=536870912;return n=wn.current,n!==null&&(n.flags|=32),In}function _n(n,r,a){(n===nt&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(go(n,0),ns(n,xe,In,!1)),js(n,a),((He&2)===0||n!==nt)&&(n===nt&&((He&2)===0&&(ha|=a),mt===4&&ns(n,xe,In,!1)),zi(n))}function qv(n,r,a){if((He&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&n.expiredLanes)===0||ii(n,r),f=l?ww(n,r):Vm(n,r,!0),d=l;do{if(f===0){fo&&!l&&ns(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!Sw(a)){f=Vm(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=n;f=Kl;var O=b.current.memoizedState.isDehydrated;if(O&&(go(b,_).flags|=256),_=Vm(b,_,!1),_!==2){if(Cm&&!O){b.errorRecoveryDisabledLanes|=d,ha|=d,f=4;break e}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){go(n,0),ns(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ns(l,r,In,!Jr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=nh+300-sn(),10<f)){if(ns(l,r,In,!Jr),Ai(l,0,!0)!==0)break e;_r=r,l.timeoutHandle=v0(Fv.bind(null,l,a,yn,rh,Nm,r,In,ha,mo,Jr,d,"Throttled",-0,0),f);break e}Fv(l,a,yn,rh,Nm,r,In,ha,mo,Jr,d,null,-0,0)}}break}while(!0);zi(n)}function Fv(n,r,a,l,f,d,_,b,O,G,W,te,$,Y){if(n.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},kv(r,d,te);var de=(d&62914560)===d?nh-sn():(d&4194048)===d?jv-sn():0;if(de=o2(te,de),de!==null){_r=d,n.cancelPendingCommit=de(Wv.bind(null,n,r,d,a,l,f,_,b,O,W,te,null,$,Y)),ns(n,d,_,!G);return}}Wv(n,r,d,a,l,f,_,b,O)}function Sw(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Sn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ns(n,r,a,l){r&=~Im,r&=~ha,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-gt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&zs(n,a,r)}function sh(){return(He&6)===0?(Yl(0),!1):!0}function Mm(){if(Ne!==null){if(Qe===0)var n=Ne.return;else n=Ne,or=na=null,Yd(n),so=null,xl=0,n=Ne;for(;n!==null;)Ev(n.alternate,n),n=n.return;Ne=null}}function go(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Fw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),_r=0,Mm(),nt=n,Ne=a=sr(n.current,null),xe=r,Qe=0,Cn=null,Jr=!1,fo=ii(n,r),Cm=!1,mo=In=Im=ha=Zr=mt=0,yn=Kl=null,Nm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-gt(l),d=1<<f;r|=n[f],l&=~d}return yr=r,Rc(),a}function Hv(n,r){Re=null,J.H=jl,r===ro||r===Vc?(r=a_(),Qe=3):r===Ld?(r=a_(),Qe=4):Qe=r===hm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,Ne===null&&(mt=1,Qc(n,Hn(r,n.current)))}function Gv(){var n=wn.current;return n===null?!0:(xe&4194048)===xe?Qn===null:(xe&62914560)===xe||(xe&536870912)!==0?n===Qn:!1}function $v(){var n=J.H;return J.H=jl,n===null?jl:n}function Kv(){var n=J.A;return J.A=Tw,n}function ah(){mt=4,Jr||(xe&4194048)!==xe&&wn.current!==null||(fo=!0),(Zr&134217727)===0&&(ha&134217727)===0||nt===null||ns(nt,xe,In,!1)}function Vm(n,r,a){var l=He;He|=2;var f=$v(),d=Kv();(nt!==n||xe!==r)&&(rh=null,go(n,r)),r=!1;var _=mt;e:do try{if(Qe!==0&&Ne!==null){var b=Ne,O=Cn;switch(Qe){case 8:Mm(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(r=!0);var G=Qe;if(Qe=0,Cn=null,yo(n,b,O,G),a&&fo){_=0;break e}break;default:G=Qe,Qe=0,Cn=null,yo(n,b,O,G)}}bw(),_=mt;break}catch(W){Hv(n,W)}while(!0);return r&&n.shellSuspendCounter++,or=na=null,He=l,J.H=f,J.A=d,Ne===null&&(nt=null,xe=0,Rc()),_}function bw(){for(;Ne!==null;)Qv(Ne)}function ww(n,r){var a=He;He|=2;var l=$v(),f=Kv();nt!==n||xe!==r?(rh=null,ih=sn()+500,go(n,r)):fo=ii(n,r);e:do try{if(Qe!==0&&Ne!==null){r=Ne;var d=Cn;t:switch(Qe){case 1:Qe=0,Cn=null,yo(n,r,d,1);break;case 2:case 9:if(r_(d)){Qe=0,Cn=null,Yv(r);break}r=function(){Qe!==2&&Qe!==9||nt!==n||(Qe=7),zi(n)},d.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:r_(d)?(Qe=0,Cn=null,Yv(r)):(Qe=0,Cn=null,yo(n,r,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var b=Ne;if(_?V0(_):b.stateNode.complete){Qe=0,Cn=null;var O=b.sibling;if(O!==null)Ne=O;else{var G=b.return;G!==null?(Ne=G,oh(G)):Ne=null}break t}}Qe=0,Cn=null,yo(n,r,d,5);break;case 6:Qe=0,Cn=null,yo(n,r,d,6);break;case 8:Mm(),mt=6;break e;default:throw Error(s(462))}}Rw();break}catch(W){Hv(n,W)}while(!0);return or=na=null,J.H=l,J.A=f,He=a,Ne!==null?0:(nt=null,xe=0,Rc(),mt)}function Rw(){for(;Ne!==null&&!cd();)Qv(Ne)}function Qv(n){var r=_v(n.alternate,n,yr);n.memoizedProps=n.pendingProps,r===null?oh(n):Ne=r}function Yv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=fv(a,r,r.pendingProps,r.type,void 0,xe);break;case 11:r=fv(a,r,r.pendingProps,r.type.render,r.ref,xe);break;case 5:Yd(r);default:Ev(a,r),r=Ne=Ky(r,yr),r=_v(a,r,yr)}n.memoizedProps=n.pendingProps,r===null?oh(n):Ne=r}function yo(n,r,a,l){or=na=null,Yd(r),so=null,xl=0;var f=r.return;try{if(mw(n,f,r,a,xe)){mt=1,Qc(n,Hn(a,n.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;mt=1,Qc(n,Hn(a,n.current)),Ne=null;return}r.flags&32768?(Pe||l===1?n=!0:fo||(xe&536870912)!==0?n=!1:(Jr=n=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xv(r,n)):oh(r)}function oh(n){var r=n;do{if((r.flags&32768)!==0){Xv(r,Jr);return}n=r.return;var a=yw(r.alternate,r,yr);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=n}while(r!==null);mt===0&&(mt=5)}function Xv(n,r){do{var a=_w(n.alternate,n);if(a!==null){a.flags&=32767,Ne=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=a}while(n!==null);mt=6,Ne=null}function Wv(n,r,a,l,f,d,_,b,O){n.cancelPendingCommit=null;do lh();while(Pt!==0);if((He&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Ad,dd(n,a,d,_,b,O),n===nt&&(Ne=nt=null,xe=0),po=r,ts=n,_r=a,Dm=d,xm=f,zv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Dw(Or,function(){return n0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=J.T,J.T=null,f=le.p,le.p=2,_=He,He|=4;try{vw(n,r,a)}finally{He=_,le.p=f,J.T=l}}Pt=1,Jv(),Zv(),e0()}}function Jv(){if(Pt===1){Pt=0;var n=ts,r=po,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var l=le.p;le.p=2;var f=He;He|=4;try{Ov(r,n);var d=$m,_=Uy(n.containerInfo),b=d.focusedElem,O=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Ly(b.ownerDocument.documentElement,b)){if(O!==null&&yd(b)){var G=O.start,W=O.end;if(W===void 0&&(W=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(W,b.value.length);else{var te=b.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var Y=$.getSelection(),de=b.textContent.length,ve=Math.min(O.start,de),et=O.end===void 0?ve:Math.min(O.end,de);!Y.extend&&ve>et&&(_=et,et=ve,ve=_);var z=Py(b,ve),k=Py(b,et);if(z&&k&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var H=te.createRange();H.setStart(z.node,z.offset),Y.removeAllRanges(),ve>et?(Y.addRange(H),Y.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),Y.addRange(H))}}}}for(te=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var ee=te[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Eh=!!Gm,$m=Gm=null}finally{He=f,le.p=l,J.T=a}}n.current=r,Pt=2}}function Zv(){if(Pt===2){Pt=0;var n=ts,r=po,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var l=le.p;le.p=2;var f=He;He|=4;try{Cv(n,r.alternate,r)}finally{He=f,le.p=l,J.T=a}}Pt=3}}function e0(){if(Pt===4||Pt===3){Pt=0,Ju();var n=ts,r=po,a=_r,l=zv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,po=ts=null,t0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(es=null),tr(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ni,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=J.T,f=le.p,le.p=2,J.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{J.T=r,le.p=f}}(_r&3)!==0&&lh(),zi(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===Om?Ql++:(Ql=0,Om=n):Ql=0,Yl(0)}}function t0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Nl(r)))}function lh(){return Jv(),Zv(),e0(),n0()}function n0(){if(Pt!==5)return!1;var n=ts,r=Dm;Dm=0;var a=tr(_r),l=J.T,f=le.p;try{le.p=32>a?32:a,J.T=null,a=xm,xm=null;var d=ts,_=_r;if(Pt=0,po=ts=null,_r=0,(He&6)!==0)throw Error(s(331));var b=He;if(He|=4,Lv(d.current),Vv(d,d.current,_,a),He=b,Yl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ni,d)}catch{}return!0}finally{le.p=f,J.T=l,t0(n,r)}}function i0(n,r,a){r=Hn(a,r),r=cm(n.stateNode,r,2),n=Qr(n,r,2),n!==null&&(js(n,2),zi(n))}function Ye(n,r,a){if(n.tag===3)i0(n,n,a);else for(;r!==null;){if(r.tag===3){i0(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(es===null||!es.has(l))){n=Hn(a,n),a=rv(2),l=Qr(r,a,2),l!==null&&(sv(a,l,r,n),js(l,2),zi(l));break}}r=r.return}}function km(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Aw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Cm=!0,f.add(a),n=Cw.bind(null,n,r,a),r.then(n,n))}function Cw(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(xe&a)===a&&(mt===4||mt===3&&(xe&62914560)===xe&&300>sn()-nh?(He&2)===0&&go(n,0):Im|=a,mo===xe&&(mo=0)),zi(n)}function r0(n,r){r===0&&(r=rc()),n=Zs(n,r),n!==null&&(js(n,r),zi(n))}function Iw(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),r0(n,a)}function Nw(n,r){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),r0(n,a)}function Dw(n,r){return kt(n,r)}var uh=null,_o=null,Pm=!1,ch=!1,Lm=!1,is=0;function zi(n){n!==_o&&n.next===null&&(_o===null?uh=_o=n:_o=_o.next=n),ch=!0,Pm||(Pm=!0,Ow())}function Yl(n,r){if(!Lm&&ch){Lm=!0;do for(var a=!1,l=uh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-gt(42|n)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,l0(l,d))}else d=xe,d=Ai(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ii(l,d)||(a=!0,l0(l,d));l=l.next}while(a);Lm=!1}}function xw(){s0()}function s0(){ch=Pm=!1;var n=0;is!==0&&qw()&&(n=is);for(var r=sn(),a=null,l=uh;l!==null;){var f=l.next,d=a0(l,r);d===0?(l.next=null,a===null?uh=f:a.next=f,f===null&&(_o=a)):(a=l,(n!==0||(d&3)!==0)&&(ch=!0)),l=f}Pt!==0&&Pt!==5||Yl(n),is!==0&&(is=0)}function a0(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-gt(d),b=1<<_,O=f[_];O===-1?((b&a)===0||(b&l)!==0)&&(f[_]=fd(b,r)):O<=r&&(n.expiredLanes|=b),d&=~b}if(r=nt,a=xe,a=Ai(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&xr(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ii(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&xr(l),tr(a)){case 2:case 8:a=sl;break;case 32:a=Or;break;case 268435456:a=Zu;break;default:a=Or}return l=o0.bind(null,n),a=kt(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&xr(l),n.callbackPriority=2,n.callbackNode=null,2}function o0(n,r){if(Pt!==0&&Pt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(lh()&&n.callbackNode!==a)return null;var l=xe;return l=Ai(n,n===nt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(qv(n,l,r),a0(n,sn()),n.callbackNode!=null&&n.callbackNode===a?o0.bind(null,n):null)}function l0(n,r){if(lh())return null;qv(n,r,!0)}function Ow(){Hw(function(){(He&6)!==0?kt(rl,xw):s0()})}function Um(){if(is===0){var n=no;n===0&&(n=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),is=n}return is}function u0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ba(""+n)}function c0(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function Mw(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=u0((f[jt]||null).action),_=l.submitter;_&&(r=(r=_[jt]||null)?u0(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new Mi("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(is!==0){var O=_?c0(f,_):new FormData(f);rm(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(b.preventDefault(),O=_?c0(f,_):new FormData(f),rm(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var jm=0;jm<Td.length;jm++){var zm=Td[jm],Vw=zm.toLowerCase(),kw=zm[0].toUpperCase()+zm.slice(1);hi(Vw,"on"+kw)}hi(By,"onAnimationEnd"),hi(qy,"onAnimationIteration"),hi(Fy,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(Wb,"onTransitionRun"),hi(Jb,"onTransitionStart"),hi(Zb,"onTransitionCancel"),hi(Hy,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function h0(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],O=b.instance,G=b.currentTarget;if(b=b.listener,O!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=G;try{d(f)}catch(W){wc(W)}f.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(b=l[_],O=b.instance,G=b.currentTarget,b=b.listener,O!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=G;try{d(f)}catch(W){wc(W)}f.currentTarget=null,d=O}}}}function De(n,r){var a=r[Pa];a===void 0&&(a=r[Pa]=new Set);var l=n+"__bubble";a.has(l)||(f0(r,n,2,!1),a.add(l))}function Bm(n,r,a){var l=0;r&&(l|=4),f0(a,n,l,r)}var hh="_reactListening"+Math.random().toString(36).slice(2);function qm(n){if(!n[hh]){n[hh]=!0,ll.forEach(function(a){a!=="selectionchange"&&(Pw.has(a)||Bm(a,!1,n),Bm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[hh]||(r[hh]=!0,Bm("selectionchange",!1,r))}}function f0(n,r,a,l){switch(B0(r)){case 2:var f=c2;break;case 8:f=h2;break;default:f=ip}a=f.bind(null,r,a,n),f=void 0,!Gs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Fm(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=Ri(b),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Ur(function(){var G=d,W=zn(a),te=[];e:{var $=Gy.get(n);if($!==void 0){var Y=Mi,de=n;switch(n){case"keypress":if(Ks(a)===0)break e;case"keydown":case"keyup":Y=Ac;break;case"focusin":de="focus",Y=Ys;break;case"focusout":de="blur",Y=Ys;break;case"beforeblur":case"afterblur":Y=Ys;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case By:case qy:case Fy:Y=pc;break;case Hy:Y=R;break;case"scroll":case"scrollend":Y=El;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=gc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=rr;break;case"toggle":case"beforetoggle":Y=we}var ve=(r&4)!==0,et=!ve&&(n==="scroll"||n==="scrollend"),z=ve?$!==null?$+"Capture":null:$;ve=[];for(var k=G,H;k!==null;){var ee=k;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||z===null||(ee=oi(k,z),ee!=null&&ve.push(Wl(k,ee,H))),et)break;k=k.return}0<ve.length&&($=new Y($,de,null,a,W),te.push({event:$,listeners:ve}))}}if((r&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",$&&a!==yl&&(de=a.relatedTarget||a.fromElement)&&(Ri(de)||de[bi]))break e;if((Y||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(de=a.relatedTarget||a.toElement,Y=G,de=de?Ri(de):null,de!==null&&(et=u(de),ve=de.tag,de!==et||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(Y=null,de=G),Y!==de)){if(ve=Tl,ee="onMouseLeave",z="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(ve=rr,ee="onPointerLeave",z="onPointerEnter",k="pointer"),et=Y==null?$:Tn(Y),H=de==null?$:Tn(de),$=new ve(ee,k+"leave",Y,a,W),$.target=et,$.relatedTarget=H,ee=null,Ri(W)===G&&(ve=new ve(z,k+"enter",de,a,W),ve.target=H,ve.relatedTarget=et,ee=ve),et=ee,Y&&de)t:{for(ve=Lw,z=Y,k=de,H=0,ee=z;ee;ee=ve(ee))H++;ee=0;for(var ge=k;ge;ge=ve(ge))ee++;for(;0<H-ee;)z=ve(z),H--;for(;0<ee-H;)k=ve(k),ee--;for(;H--;){if(z===k||k!==null&&z===k.alternate){ve=z;break t}z=ve(z),k=ve(k)}ve=null}else ve=null;Y!==null&&d0(te,$,Y,ve,!1),de!==null&&et!==null&&d0(te,et,de,ve,!0)}}e:{if($=G?Tn(G):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var Be=Dy;else if(Iy($))if(xy)Be=Qb;else{Be=$b;var me=Gb}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&za(G.elementType)&&(Be=Dy):Be=Kb;if(Be&&(Be=Be(n,G))){Ny(te,Be,a,W);break e}me&&me(n,$,G),n==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&ml($,"number",$.value)}switch(me=G?Tn(G):window,n){case"focusin":(Iy(me)||me.contentEditable==="true")&&(Qa=me,_d=G,Rl=null);break;case"focusout":Rl=_d=Qa=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,jy(te,a,W);break;case"selectionchange":if(Xb)break;case"keydown":case"keyup":jy(te,a,W)}var Ie;if(Fe)e:{switch(n){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ka?Xs(n,a)&&(Oe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Pi&&a.locale!=="ko"&&(Ka||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ka&&(Ie=vl()):(Oi=W,_l="value"in Oi?Oi.value:Oi.textContent,Ka=!0)),me=fh(G,Oe),0<me.length&&(Oe=new ki(Oe,n,null,a,W),te.push({event:Oe,listeners:me}),Ie?Oe.data=Ie:(Ie=$a(a),Ie!==null&&(Oe.data=Ie)))),(Ie=qn?Bb(n,a):qb(n,a))&&(Oe=fh(G,"onBeforeInput"),0<Oe.length&&(me=new ki("onBeforeInput","beforeinput",null,a,W),te.push({event:me,listeners:Oe}),me.data=Ie)),Mw(te,n,G,a,W)}h0(te,r)})}function Wl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function fh(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=oi(n,a),f!=null&&l.unshift(Wl(n,f,d)),f=oi(n,r),f!=null&&l.push(Wl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Lw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function d0(n,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var b=a,O=b.alternate,G=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||G===null||(O=G,f?(G=oi(a,d),G!=null&&_.unshift(Wl(a,G,O))):f||(G=oi(a,d),G!=null&&_.push(Wl(a,G,O)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var Uw=/\r\n?/g,jw=/\u0000|\uFFFD/g;function m0(n){return(typeof n=="string"?n:""+n).replace(Uw,`
`).replace(jw,"")}function p0(n,r){return r=m0(r),m0(n)===r}function Ze(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||dn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&dn(n,""+l);break;case"className":An(n,"class",l);break;case"tabIndex":An(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(n,a,l);break;case"style":gl(n,l,d);break;case"data":if(r!=="object"){An(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ba(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ze(n,r,"name",f.name,f,null),Ze(n,r,"formEncType",f.formEncType,f,null),Ze(n,r,"formMethod",f.formMethod,f,null),Ze(n,r,"formTarget",f.formTarget,f,null)):(Ze(n,r,"encType",f.encType,f,null),Ze(n,r,"method",f.method,f,null),Ze(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ba(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ai);break;case"onScroll":l!=null&&De("scroll",n);break;case"onScrollEnd":l!=null&&De("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ba(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":De("beforetoggle",n),De("toggle",n),Ua(n,"popover",l);break;case"xlinkActuate":wt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ua(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fc.get(a)||a,Ua(n,a,l))}}function Hm(n,r,a,l,f,d){switch(a){case"style":gl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?dn(n,l):(typeof l=="number"||typeof l=="bigint")&&dn(n,""+l);break;case"onScroll":l!=null&&De("scroll",n);break;case"onScrollEnd":l!=null&&De("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ul.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ua(n,a,l)}}}function Yt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",n),De("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,d,_,a,null)}}f&&Ze(n,r,"srcSet",a.srcSet,a,null),l&&Ze(n,r,"src",a.src,a,null);return;case"input":De("invalid",n);var b=d=_=f=null,O=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":_=W;break;case"checked":O=W;break;case"defaultChecked":G=W;break;case"value":d=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Ze(n,r,l,W,a,null)}}uc(n,d,b,O,G,_,f,!1);return;case"select":De("invalid",n),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Ze(n,r,f,b,a,null)}r=d,a=_,n.multiple=!!l,r!=null?Vr(n,!!l,r,!1):a!=null&&Vr(n,!!l,a,!0);return;case"textarea":De("invalid",n),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ze(n,r,_,b,a,null)}kr(n,l,f,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":Ze(n,r,O,l,a,null));return;case"dialog":De("beforetoggle",n),De("toggle",n),De("cancel",n),De("close",n);break;case"iframe":case"object":De("load",n);break;case"video":case"audio":for(l=0;l<Xl.length;l++)De(Xl[l],n);break;case"image":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"embed":case"source":case"link":De("error",n),De("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,G,l,a,null)}return;default:if(za(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Hm(n,r,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ze(n,r,b,l,a,null))}function zw(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,O=null,G=null,W=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=te;default:l.hasOwnProperty(Y)||Ze(n,r,Y,null,l,te)}}for(var $ in l){var Y=l[$];if(te=a[$],l.hasOwnProperty($)&&(Y!=null||te!=null))switch($){case"type":d=Y;break;case"name":f=Y;break;case"checked":G=Y;break;case"defaultChecked":W=Y;break;case"value":_=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==te&&Ze(n,r,$,Y,l,te)}}ja(n,_,b,O,G,W,d,f);return;case"select":Y=_=b=$=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(d)||Ze(n,r,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":$=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==O&&Ze(n,r,f,d,l,O)}r=b,a=_,l=Y,$!=null?Vr(n,!!a,$,!1):!!l!=!!a&&(r!=null?Vr(n,!!a,r,!0):Vr(n,!!a,a?[]:"",!1));return;case"textarea":Y=$=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(n,r,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":$=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(n,r,_,f,l,d)}cc(n,$,Y);return;case"option":for(var de in a)$=a[de],a.hasOwnProperty(de)&&$!=null&&!l.hasOwnProperty(de)&&(de==="selected"?n.selected=!1:Ze(n,r,de,null,l,$));for(O in l)$=l[O],Y=a[O],l.hasOwnProperty(O)&&$!==Y&&($!=null||Y!=null)&&(O==="selected"?n.selected=$&&typeof $!="function"&&typeof $!="symbol":Ze(n,r,O,$,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)$=a[ve],a.hasOwnProperty(ve)&&$!=null&&!l.hasOwnProperty(ve)&&Ze(n,r,ve,null,l,$);for(G in l)if($=l[G],Y=a[G],l.hasOwnProperty(G)&&$!==Y&&($!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Ze(n,r,G,$,l,Y)}return;default:if(za(r)){for(var et in a)$=a[et],a.hasOwnProperty(et)&&$!==void 0&&!l.hasOwnProperty(et)&&Hm(n,r,et,void 0,l,$);for(W in l)$=l[W],Y=a[W],!l.hasOwnProperty(W)||$===Y||$===void 0&&Y===void 0||Hm(n,r,W,$,l,Y);return}}for(var z in a)$=a[z],a.hasOwnProperty(z)&&$!=null&&!l.hasOwnProperty(z)&&Ze(n,r,z,null,l,$);for(te in l)$=l[te],Y=a[te],!l.hasOwnProperty(te)||$===Y||$==null&&Y==null||Ze(n,r,te,$,l,Y)}function g0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&g0(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],G=O.startTime;if(G>b)break;var W=O.transferSize,te=O.initiatorType;W&&g0(te)&&(O=O.responseEnd,_+=W*(O<b?1:(b-G)/(O-G)))}if(--l,r+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Gm=null,$m=null;function dh(n){return n.nodeType===9?n:n.ownerDocument}function y0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Km(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qm=null;function qw(){var n=window.event;return n&&n.type==="popstate"?n===Qm?!1:(Qm=n,!0):(Qm=null,!1)}var v0=typeof setTimeout=="function"?setTimeout:void 0,Fw=typeof clearTimeout=="function"?clearTimeout:void 0,E0=typeof Promise=="function"?Promise:void 0,Hw=typeof queueMicrotask=="function"?queueMicrotask:typeof E0<"u"?function(n){return E0.resolve(null).then(n).catch(Gw)}:v0;function Gw(n){setTimeout(function(){throw n})}function rs(n){return n==="head"}function T0(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),Ao(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Jl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Jl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[wi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Jl(n.ownerDocument.body);a=f}while(a);Ao(r)}function A0(n,r){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Ym(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ym(a),La(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function $w(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[wi])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Yn(n.nextSibling),n===null)break}return null}function Kw(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Yn(n.nextSibling),n===null))return null;return n}function S0(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Yn(n.nextSibling),n===null))return null;return n}function Xm(n){return n.data==="$?"||n.data==="$~"}function Wm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Qw(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Yn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Jm=null;function b0(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return Yn(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function w0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function R0(n,r,a){switch(r=dh(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Jl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);La(n)}var Xn=new Map,C0=new Set;function mh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var vr=le.d;le.d={f:Yw,r:Xw,D:Ww,C:Jw,L:Zw,m:e2,X:n2,S:t2,M:i2};function Yw(){var n=vr.f(),r=sh();return n||r}function Xw(n){var r=jn(n);r!==null&&r.tag===5&&r.type==="form"?H_(r):vr.r(n)}var vo=typeof document>"u"?null:document;function I0(n,r,a){var l=vo;if(l&&typeof r=="string"&&r){var f=fn(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),C0.has(f)||(C0.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Yt(r,"link",n),bt(r),l.head.appendChild(r)))}}function Ww(n){vr.D(n),I0("dns-prefetch",n,null)}function Jw(n,r){vr.C(n,r),I0("preconnect",n,r)}function Zw(n,r,a){vr.L(n,r,a);var l=vo;if(l&&n&&r){var f='link[rel="preload"][as="'+fn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(n)+'"]';var d=f;switch(r){case"style":d=Eo(n);break;case"script":d=To(n)}Xn.has(d)||(n=A({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Xn.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Zl(d))||r==="script"&&l.querySelector(eu(d))||(r=l.createElement("link"),Yt(r,"link",n),bt(r),l.head.appendChild(r)))}}function e2(n,r){vr.m(n,r);var a=vo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=To(n)}if(!Xn.has(d)&&(n=A({rel:"modulepreload",href:n},r),Xn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(eu(d)))return}l=a.createElement("link"),Yt(l,"link",n),bt(l),a.head.appendChild(l)}}}function t2(n,r,a){vr.S(n,r,a);var l=vo;if(l&&n){var f=Ci(l).hoistableStyles,d=Eo(n);r=r||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Zl(d)))b.loading=5;else{n=A({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Xn.get(d))&&Zm(n,a);var O=_=l.createElement("link");bt(O),Yt(O,"link",n),O._p=new Promise(function(G,W){O.onload=G,O.onerror=W}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ph(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function n2(n,r){vr.X(n,r);var a=vo;if(a&&n){var l=Ci(a).hoistableScripts,f=To(n),d=l.get(f);d||(d=a.querySelector(eu(f)),d||(n=A({src:n,async:!0},r),(r=Xn.get(f))&&ep(n,r),d=a.createElement("script"),bt(d),Yt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function i2(n,r){vr.M(n,r);var a=vo;if(a&&n){var l=Ci(a).hoistableScripts,f=To(n),d=l.get(f);d||(d=a.querySelector(eu(f)),d||(n=A({src:n,async:!0,type:"module"},r),(r=Xn.get(f))&&ep(n,r),d=a.createElement("script"),bt(d),Yt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function N0(n,r,a,l){var f=(f=Ce.current)?mh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Eo(a.href),a=Ci(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Eo(a.href);var d=Ci(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(Zl(n)))&&!d._p&&(_.instance=d,_.state.loading=5),Xn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(n,a),d||r2(f,n,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=To(a),a=Ci(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Eo(n){return'href="'+fn(n)+'"'}function Zl(n){return'link[rel="stylesheet"]['+n+"]"}function D0(n){return A({},n,{"data-precedence":n.precedence,precedence:null})}function r2(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Yt(r,"link",a),bt(r),n.head.appendChild(r))}function To(n){return'[src="'+fn(n)+'"]'}function eu(n){return"script[async]"+n}function x0(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return r.instance=l,bt(l),l;var f=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),bt(l),Yt(l,"style",f),ph(l,a.precedence,n),r.instance=l;case"stylesheet":f=Eo(a.href);var d=n.querySelector(Zl(f));if(d)return r.state.loading|=4,r.instance=d,bt(d),d;l=D0(a),(f=Xn.get(f))&&Zm(l,f),d=(n.ownerDocument||n).createElement("link"),bt(d);var _=d;return _._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),Yt(d,"link",l),r.state.loading|=4,ph(d,a.precedence,n),r.instance=d;case"script":return d=To(a.src),(f=n.querySelector(eu(d)))?(r.instance=f,bt(f),f):(l=a,(f=Xn.get(d))&&(l=A({},a),ep(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),bt(f),Yt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ph(l,a.precedence,n));return r.instance}function ph(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Zm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function ep(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var gh=null;function O0(n,r,a){if(gh===null){var l=new Map,f=gh=new Map;f.set(a,l)}else f=gh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[wi]||d[St]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=n+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function M0(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function s2(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(n=r.disabled,typeof r.precedence=="string"&&n==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function V0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function a2(n,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Eo(l.href),d=r.querySelector(Zl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=yh.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=d,bt(d);return}d=r.ownerDocument||r,l=D0(l),(f=Xn.get(f))&&Zm(l,f),d=d.createElement("link"),bt(d);var _=d;_._p=new Promise(function(b,O){_.onload=b,_.onerror=O}),Yt(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=yh.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var tp=0;function o2(n,r){return n.stylesheets&&n.count===0&&vh(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&vh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+r);0<n.imgBytes&&tp===0&&(tp=62500*Bw());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&vh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>tp?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function yh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var _h=null;function vh(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,_h=new Map,r.forEach(l2,n),_h=null,yh.call(n))}function l2(n,r){if(!(r.state.loading&4)){var a=_h.get(n);if(a)var l=a.get(null);else{a=new Map,_h.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=yh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var tu={$$typeof:q,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function u2(n,r,a,l,f,d,_,b,O){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function k0(n,r,a,l,f,d,_,b,O,G,W,te){return n=new u2(n,r,a,_,O,G,W,te,b),r=1,d===!0&&(r|=24),d=bn(3,null,null,r),n.current=d,d.stateNode=n,r=Vd(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Ud(d),n}function P0(n){return n?(n=Wa,n):Wa}function L0(n,r,a,l,f,d){f=P0(f),l.context===null?l.context=f:l.pendingContext=f,l=Kr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Qr(n,l,r),a!==null&&(_n(a,n,r),Ml(a,n,r))}function U0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function np(n,r){U0(n,r),(n=n.alternate)&&U0(n,r)}function j0(n){if(n.tag===13||n.tag===31){var r=Zs(n,67108864);r!==null&&_n(r,n,67108864),np(n,67108864)}}function z0(n){if(n.tag===13||n.tag===31){var r=Nn();r=Bs(r);var a=Zs(n,r);a!==null&&_n(a,n,r),np(n,r)}}var Eh=!0;function c2(n,r,a,l){var f=J.T;J.T=null;var d=le.p;try{le.p=2,ip(n,r,a,l)}finally{le.p=d,J.T=f}}function h2(n,r,a,l){var f=J.T;J.T=null;var d=le.p;try{le.p=8,ip(n,r,a,l)}finally{le.p=d,J.T=f}}function ip(n,r,a,l){if(Eh){var f=rp(l);if(f===null)Fm(n,r,l,Th,a),q0(n,l);else if(d2(f,n,r,a,l))l.stopPropagation();else if(q0(n,l),r&4&&-1<f2.indexOf(n)){for(;f!==null;){var d=jn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Ti(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var O=1<<31-gt(_);b.entanglements[1]|=O,_&=~O}zi(d),(He&6)===0&&(ih=sn()+500,Yl(0))}}break;case 31:case 13:b=Zs(d,2),b!==null&&_n(b,d,2),sh(),np(d,2)}if(d=rp(l),d===null&&Fm(n,r,l,Th,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Fm(n,r,l,null,a)}}function rp(n){return n=zn(n),sp(n)}var Th=null;function sp(n){if(Th=null,n=Ri(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=c(r),n!==null)return n;n=null}else if(a===31){if(n=m(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Th=n,null}function B0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ls()){case rl:return 2;case sl:return 8;case Or:case hd:return 32;case Zu:return 268435456;default:return 32}default:return 32}}var ap=!1,ss=null,as=null,os=null,nu=new Map,iu=new Map,ls=[],f2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q0(n,r){switch(n){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":nu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(r.pointerId)}}function ru(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=jn(r),r!==null&&j0(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function d2(n,r,a,l,f){switch(r){case"focusin":return ss=ru(ss,n,r,a,l,f),!0;case"dragenter":return as=ru(as,n,r,a,l,f),!0;case"mouseover":return os=ru(os,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return nu.set(d,ru(nu.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,iu.set(d,ru(iu.get(d)||null,n,r,a,l,f)),!0}return!1}function F0(n){var r=Ri(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){n.blockedOn=r,ri(n.priority,function(){z0(a)});return}}else if(r===31){if(r=m(a),r!==null){n.blockedOn=r,ri(n.priority,function(){z0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ah(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=rp(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);yl=l,a.target.dispatchEvent(l),yl=null}else return r=jn(a),r!==null&&j0(r),n.blockedOn=a,!1;r.shift()}return!0}function H0(n,r,a){Ah(n)&&a.delete(r)}function m2(){ap=!1,ss!==null&&Ah(ss)&&(ss=null),as!==null&&Ah(as)&&(as=null),os!==null&&Ah(os)&&(os=null),nu.forEach(H0),iu.forEach(H0)}function Sh(n,r){n.blockedOn===r&&(n.blockedOn=null,ap||(ap=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,m2)))}var bh=null;function G0(n){bh!==n&&(bh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){bh===n&&(bh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(sp(l||a)===null)continue;break}var d=jn(a);d!==null&&(n.splice(r,3),r-=3,rm(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ao(n){function r(O){return Sh(O,n)}ss!==null&&Sh(ss,n),as!==null&&Sh(as,n),os!==null&&Sh(os,n),nu.forEach(r),iu.forEach(r);for(var a=0;a<ls.length;a++){var l=ls[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ls.length&&(a=ls[0],a.blockedOn===null);)F0(a),a.blockedOn===null&&ls.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[jt]||null;if(typeof d=="function")_||G0(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[jt]||null)b=_.formAction;else if(sp(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),G0(a)}}}function $0(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function op(n){this._internalRoot=n}wh.prototype.render=op.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Nn();L0(a,l,n,r,null,null)},wh.prototype.unmount=op.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;L0(n.current,2,null,n,null,null),sh(),r[bi]=null}};function wh(n){this._internalRoot=n}wh.prototype.unstable_scheduleHydration=function(n){if(n){var r=sc();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ls.length&&r!==0&&r<ls[a].priority;a++);ls.splice(a,0,n),a===0&&F0(n)}};var K0=e.version;if(K0!=="19.2.3")throw Error(s(527,K0,"19.2.3"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var p2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{ni=Rh.inject(p2),Ht=Rh}catch{}}return au.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=ev,d=tv,_=nv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=k0(n,1,!1,null,null,a,l,null,f,d,_,$0),n[bi]=r.current,qm(n),new op(r)},au.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=ev,_=tv,b=nv,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=k0(n,1,!0,r,a??null,l,f,O,d,_,b,$0),r.context=P0(null),a=r.current,l=Nn(),l=Bs(l),f=Kr(l),f.callback=null,Qr(a,f,l),a=l,r.current.lanes=a,js(r,a),zi(r),n[bi]=r.current,qm(n),new wh(r)},au.version="19.2.3",au}var iE;function w2(){if(iE)return cp.exports;iE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),cp.exports=b2(),cp.exports}var R2=w2();const C2=y2(R2);var rE="popstate";function I2(i={}){function e(s,o){let{pathname:u,search:c,hash:m}=s.location;return Vp("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Tu(o)}return D2(e,t,null,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Jn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N2(){return Math.random().toString(36).substring(2,10)}function sE(i,e){return{usr:i.state,key:i.key,idx:e}}function Vp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?$o(e):e,state:t,key:e&&e.key||s||N2()}}function Tu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function $o(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function D2(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,m="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function A(){m="POP";let P=v(),K=P==null?null:P-g;g=P,p&&p({action:m,location:j.location,delta:K})}function w(P,K){m="PUSH";let Z=Vp(j.location,P,K);g=v()+1;let q=sE(Z,g),re=j.createHref(Z);try{c.pushState(q,"",re)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(re)}u&&p&&p({action:m,location:j.location,delta:1})}function D(P,K){m="REPLACE";let Z=Vp(j.location,P,K);g=v();let q=sE(Z,g),re=j.createHref(Z);c.replaceState(q,"",re),u&&p&&p({action:m,location:j.location,delta:0})}function U(P){return x2(P)}let j={get action(){return m},get location(){return i(o,c)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(rE,A),p=P,()=>{o.removeEventListener(rE,A),p=null}},createHref(P){return e(o,P)},createURL:U,encodeLocation(P){let K=U(P);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:w,replace:D,go(P){return c.go(P)}};return j}function x2(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ht(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Tu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function h1(i,e,t="/"){return O2(i,e,t,!1)}function O2(i,e,t,s){let o=typeof e=="string"?$o(e):e,u=br(o.pathname||"/",t);if(u==null)return null;let c=f1(i);M2(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=H2(u);m=q2(c[p],g,s)}return m}function f1(i,e=[],t=[],s="",o=!1){let u=(c,m,p=o,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ht(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let A=Sr([s,v.relativePath]),w=t.concat(v);c.children&&c.children.length>0&&(ht(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),f1(c.children,e,w,A,p)),!(c.path==null&&!c.index)&&e.push({path:A,score:z2(A,c.index),routesMeta:w})};return i.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let p of d1(c.path))u(c,m,!0,p)}),e}function d1(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=d1(s.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function M2(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:B2(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var V2=/^:[\w-]+$/,k2=3,P2=2,L2=1,U2=10,j2=-2,aE=i=>i==="*";function z2(i,e){let t=i.split("/"),s=t.length;return t.some(aE)&&(s+=j2),e&&(s+=P2),t.filter(o=>!aE(o)).reduce((o,u)=>o+(V2.test(u)?k2:u===""?L2:U2),s)}function B2(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function q2(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",A=Jh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!A&&g&&t&&!s[s.length-1].route.index&&(A=Jh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!A)return null;Object.assign(o,A.params),c.push({params:o,pathname:Sr([u,A.pathname]),pathnameBase:Q2(Sr([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=Sr([u,A.pathnameBase]))}return c}function Jh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=F2(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:A},w)=>{if(v==="*"){let U=m[w]||"";c=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const D=m[w];return A&&!D?g[v]=void 0:g[v]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function F2(i,e=!1,t=!0){Jn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function H2(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function br(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var m1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G2=i=>m1.test(i);function $2(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?$o(i):i,u;if(t)if(G2(t))u=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?u=oE(t.substring(1),"/"):u=oE(t,e)}else u=e;return{pathname:u,search:Y2(s),hash:X2(o)}}function oE(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function mp(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K2(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function fg(i){let e=K2(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function dg(i,e,t,s=!1){let o;typeof i=="string"?o=$o(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),mp("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),mp("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),mp("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=t;else{let A=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}m=A>=0?e[A]:"/"}let p=$2(o,m),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Sr=i=>i.join("/").replace(/\/\/+/g,"/"),Q2=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Y2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,X2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,W2=class{constructor(i,e,t,s=!1){this.status=i,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function J2(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function Z2(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var p1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function g1(i,e){let t=i;if(typeof t!="string"||!m1.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if(p1)try{let u=new URL(window.location.href),c=t.startsWith("//")?new URL(u.protocol+t):new URL(t),m=br(c.pathname,e);c.origin===u.origin&&m!=null?t=m+c.search+c.hash:o=!0}catch{Jn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var y1=["POST","PUT","PATCH","DELETE"];new Set(y1);var eR=["GET",...y1];new Set(eR);var Ko=I.createContext(null);Ko.displayName="DataRouter";var Cf=I.createContext(null);Cf.displayName="DataRouterState";var tR=I.createContext(!1),_1=I.createContext({isTransitioning:!1});_1.displayName="ViewTransition";var nR=I.createContext(new Map);nR.displayName="Fetchers";var iR=I.createContext(null);iR.displayName="Await";var Ln=I.createContext(null);Ln.displayName="Navigation";var Vu=I.createContext(null);Vu.displayName="Location";var ei=I.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var mg=I.createContext(null);mg.displayName="RouteError";var v1="REACT_ROUTER_ERROR",rR="REDIRECT",sR="ROUTE_ERROR_RESPONSE";function aR(i){if(i.startsWith(`${v1}:${rR}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function oR(i){if(i.startsWith(`${v1}:${sR}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new W2(e.status,e.statusText,e.data)}catch{}}function lR(i,{relative:e}={}){ht(Qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=I.useContext(Ln),{hash:o,pathname:u,search:c}=ku(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:Sr([t,u])),s.createHref({pathname:m,search:c,hash:o})}function Qo(){return I.useContext(Vu)!=null}function Wi(){return ht(Qo(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Vu).location}var E1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T1(i){I.useContext(Ln).static||I.useLayoutEffect(i)}function If(){let{isDataRoute:i}=I.useContext(ei);return i?bR():uR()}function uR(){ht(Qo(),"useNavigate() may be used only in the context of a <Router> component.");let i=I.useContext(Ko),{basename:e,navigator:t}=I.useContext(Ln),{matches:s}=I.useContext(ei),{pathname:o}=Wi(),u=JSON.stringify(fg(s)),c=I.useRef(!1);return T1(()=>{c.current=!0}),I.useCallback((p,g={})=>{if(Jn(c.current,E1),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=dg(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Sr([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,i])}var cR=I.createContext(null);function hR(i){let e=I.useContext(ei).outlet;return I.useMemo(()=>e&&I.createElement(cR.Provider,{value:i},e),[e,i])}function fR(){let{matches:i}=I.useContext(ei),e=i[i.length-1];return e?e.params:{}}function ku(i,{relative:e}={}){let{matches:t}=I.useContext(ei),{pathname:s}=Wi(),o=JSON.stringify(fg(t));return I.useMemo(()=>dg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function dR(i,e){return A1(i,e)}function A1(i,e,t,s,o){ht(Qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=I.useContext(Ln),{matches:c}=I.useContext(ei),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",A=m&&m.route;{let Z=A&&A.path||"";b1(g,!A||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let w=Wi(),D;if(e){let Z=typeof e=="string"?$o(e):e;ht(v==="/"||Z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),D=Z}else D=w;let U=D.pathname||"/",j=U;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");j="/"+U.replace(/^\//,"").split("/").slice(Z.length).join("/")}let P=h1(i,{pathname:j});Jn(A||P!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Jn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=_R(P&&P.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:Sr([v,u.encodeLocation?u.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:Sr([v,u.encodeLocation?u.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),c,t,s,o);return e&&K?I.createElement(Vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},K):K}function mR(){let i=SR(),e=J2(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:u},"ErrorBoundary")," or"," ",I.createElement("code",{style:u},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:o},t):null,c)}var pR=I.createElement(mR,null),S1=class extends I.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const t=oR(i.digest);t&&(i=t)}let e=i!==void 0?I.createElement(ei.Provider,{value:this.props.routeContext},I.createElement(mg.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?I.createElement(gR,{error:i},e):e}};S1.contextType=tR;var pp=new WeakMap;function gR({children:i,error:e}){let{basename:t}=I.useContext(Ln);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=aR(e.digest);if(s){let o=pp.get(e);if(o)throw o;let u=g1(s.location,t);if(p1&&!pp.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw pp.set(e,c),c}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function yR({routeContext:i,match:e,children:t}){let s=I.useContext(Ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(ei.Provider,{value:i},t)}function _R(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let u=i,c=t?.errors;if(c!=null){let v=u.findIndex(A=>A.route.id&&c?.[A.route.id]!==void 0);ht(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,p=-1;if(t)for(let v=0;v<u.length;v++){let A=u[v];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(p=v),A.route.id){let{loaderData:w,errors:D}=t,U=A.route.loader&&!w.hasOwnProperty(A.route.id)&&(!D||D[A.route.id]===void 0);if(A.route.lazy||U){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=t&&s?(v,A)=>{s(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:Z2(t.matches),errorInfo:A})}:void 0;return u.reduceRight((v,A,w)=>{let D,U=!1,j=null,P=null;t&&(D=c&&A.route.id?c[A.route.id]:void 0,j=A.route.errorElement||pR,m&&(p<0&&w===0?(b1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,P=null):p===w&&(U=!0,P=A.route.hydrateFallbackElement||null)));let K=e.concat(u.slice(0,w+1)),Z=()=>{let q;return D?q=j:U?q=P:A.route.Component?q=I.createElement(A.route.Component,null):A.route.element?q=A.route.element:q=v,I.createElement(yR,{match:A,routeContext:{outlet:v,matches:K,isDataRoute:t!=null},children:q})};return t&&(A.route.ErrorBoundary||A.route.errorElement||w===0)?I.createElement(S1,{location:t.location,revalidation:t.revalidation,component:j,error:D,children:Z(),routeContext:{outlet:null,matches:K,isDataRoute:!0},onError:g}):Z()},null)}function pg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vR(i){let e=I.useContext(Ko);return ht(e,pg(i)),e}function ER(i){let e=I.useContext(Cf);return ht(e,pg(i)),e}function TR(i){let e=I.useContext(ei);return ht(e,pg(i)),e}function gg(i){let e=TR(i),t=e.matches[e.matches.length-1];return ht(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function AR(){return gg("useRouteId")}function SR(){let i=I.useContext(mg),e=ER("useRouteError"),t=gg("useRouteError");return i!==void 0?i:e.errors?.[t]}function bR(){let{router:i}=vR("useNavigate"),e=gg("useNavigate"),t=I.useRef(!1);return T1(()=>{t.current=!0}),I.useCallback(async(o,u={})=>{Jn(t.current,E1),t.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var lE={};function b1(i,e,t){!e&&!lE[i]&&(lE[i]=!0,Jn(!1,t))}I.memo(wR);function wR({routes:i,future:e,state:t,onError:s}){return A1(i,void 0,t,s,e)}function RR({to:i,replace:e,state:t,relative:s}){ht(Qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=I.useContext(Ln);Jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=I.useContext(ei),{pathname:c}=Wi(),m=If(),p=dg(i,fg(u),c,s==="path"),g=JSON.stringify(p);return I.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function CR(i){return hR(i.context)}function Dn(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){ht(!Qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[m,o,u,c]);typeof t=="string"&&(t=$o(t));let{pathname:g="/",search:v="",hash:A="",state:w=null,key:D="default"}=t,U=I.useMemo(()=>{let j=br(g,m);return j==null?null:{location:{pathname:j,search:v,hash:A,state:w,key:D},navigationType:s}},[m,g,v,A,w,D,s]);return Jn(U!=null,`<Router basename="${m}"> is not able to match the URL "${g}${v}${A}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:I.createElement(Ln.Provider,{value:p},I.createElement(Vu.Provider,{children:e,value:U}))}function NR({children:i,location:e}){return dR(kp(i),e)}function kp(i,e=[]){let t=[];return I.Children.forEach(i,(s,o)=>{if(!I.isValidElement(s))return;let u=[...e,o];if(s.type===I.Fragment){t.push.apply(t,kp(s.props.children,u));return}ht(s.type===Dn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=kp(s.props.children,u)),t.push(c)}),t}var Lh="get",Uh="application/x-www-form-urlencoded";function Nf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function DR(i){return Nf(i)&&i.tagName.toLowerCase()==="button"}function xR(i){return Nf(i)&&i.tagName.toLowerCase()==="form"}function OR(i){return Nf(i)&&i.tagName.toLowerCase()==="input"}function MR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function VR(i,e){return i.button===0&&(!e||e==="_self")&&!MR(i)}var Ch=null;function kR(){if(Ch===null)try{new FormData(document.createElement("form"),0),Ch=!1}catch{Ch=!0}return Ch}var PR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gp(i){return i!=null&&!PR.has(i)?(Jn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uh}"`),null):i}function LR(i,e){let t,s,o,u,c;if(xR(i)){let m=i.getAttribute("action");s=m?br(m,e):null,t=i.getAttribute("method")||Lh,o=gp(i.getAttribute("enctype"))||Uh,u=new FormData(i)}else if(DR(i)||OR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?br(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Lh,o=gp(i.getAttribute("formenctype"))||gp(m.getAttribute("enctype"))||Uh,u=new FormData(m,i),!kR()){let{name:g,type:v,value:A}=i;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,A)}}else{if(Nf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Lh,s=null,o=Uh,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function UR(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&br(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function jR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function BR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await jR(u,t);return c.links?c.links():[]}return[]}));return GR(s.flat(1).filter(zR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function uE(i,e,t,s,o,u){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function qR(i,e,{includeHydrateFallback:t}={}){return FR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function FR(i){return[...new Set(i)]}function HR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function GR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(HR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function w1(){let i=I.useContext(Ko);return yg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function $R(){let i=I.useContext(Cf);return yg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var _g=I.createContext(void 0);_g.displayName="FrameworkContext";function R1(){let i=I.useContext(_g);return yg(i,"You must render this element inside a <HydratedRouter> element"),i}function KR(i,e){let t=I.useContext(_g),[s,o]=I.useState(!1),[u,c]=I.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:A}=e,w=I.useRef(null);I.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let j=K=>{K.forEach(Z=>{c(Z.isIntersecting)})},P=new IntersectionObserver(j,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[i]),I.useEffect(()=>{if(s){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[s]);let D=()=>{o(!0)},U=()=>{o(!1),c(!1)};return t?i!=="intent"?[u,w,{}]:[u,w,{onFocus:ou(m,D),onBlur:ou(p,U),onMouseEnter:ou(g,D),onMouseLeave:ou(v,U),onTouchStart:ou(A,D)}]:[!1,w,{}]}function ou(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function QR({page:i,...e}){let{router:t}=w1(),s=I.useMemo(()=>h1(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?I.createElement(XR,{page:i,matches:s,...e}):null}function YR(i){let{manifest:e,routeModules:t}=R1(),[s,o]=I.useState([]);return I.useEffect(()=>{let u=!1;return BR(i,e,t).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,t]),s}function XR({page:i,matches:e,...t}){let s=Wi(),{manifest:o,routeModules:u}=R1(),{basename:c}=w1(),{loaderData:m,matches:p}=$R(),g=I.useMemo(()=>uE(i,e,p,o,s,"data"),[i,e,p,o,s]),v=I.useMemo(()=>uE(i,e,p,o,s,"assets"),[i,e,p,o,s]),A=I.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,j=!1;if(e.forEach(K=>{let Z=o.routes[K.route.id];!Z||!Z.hasLoader||(!g.some(q=>q.route.id===K.route.id)&&K.route.id in m&&u[K.route.id]?.shouldRevalidate||Z.hasClientLoader?j=!0:U.add(K.route.id))}),U.size===0)return[];let P=UR(i,c,"data");return j&&U.size>0&&P.searchParams.set("_routes",e.filter(K=>U.has(K.route.id)).map(K=>K.route.id).join(",")),[P.pathname+P.search]},[c,m,s,o,g,e,i,u]),w=I.useMemo(()=>qR(v,o),[v,o]),D=YR(v);return I.createElement(I.Fragment,null,A.map(U=>I.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...t})),w.map(U=>I.createElement("link",{key:U,rel:"modulepreload",href:U,...t})),D.map(({key:U,link:j})=>I.createElement("link",{key:U,nonce:t.nonce,...j})))}function WR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var JR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JR&&(window.__reactRouterVersion="7.11.0")}catch{}function ZR({basename:i,children:e,unstable_useTransitions:t,window:s}){let o=I.useRef();o.current==null&&(o.current=I2({window:s,v5Compat:!0}));let u=o.current,[c,m]=I.useState({action:u.action,location:u.location}),p=I.useCallback(g=>{t===!1?m(g):I.startTransition(()=>m(g))},[t]);return I.useLayoutEffect(()=>u.listen(p),[u,p]),I.createElement(IR,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:t})}var C1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ln=I.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:v,viewTransition:A,unstable_defaultShouldRevalidate:w,...D},U){let{basename:j,unstable_useTransitions:P}=I.useContext(Ln),K=typeof g=="string"&&C1.test(g),Z=g1(g,j);g=Z.to;let q=lR(g,{relative:o}),[re,oe,ce]=KR(s,D),N=nC(g,{replace:c,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:A,unstable_defaultShouldRevalidate:w,unstable_useTransitions:P});function S(V){e&&e(V),V.defaultPrevented||N(V)}let C=I.createElement("a",{...D,...ce,href:Z.absoluteURL||q,onClick:Z.isExternal||u?e:S,ref:WR(U,oe),target:p,"data-discover":!K&&t==="render"?"true":void 0});return re&&!K?I.createElement(I.Fragment,null,C,I.createElement(QR,{page:q})):C});ln.displayName="Link";var jh=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},v){let A=ku(c,{relative:g.relative}),w=Wi(),D=I.useContext(Cf),{navigator:U,basename:j}=I.useContext(Ln),P=D!=null&&oC(A)&&m===!0,K=U.encodeLocation?U.encodeLocation(A).pathname:A.pathname,Z=w.pathname,q=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),q=q?q.toLowerCase():null,K=K.toLowerCase()),q&&j&&(q=br(q,j)||q);const re=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let oe=Z===K||!o&&Z.startsWith(K)&&Z.charAt(re)==="/",ce=q!=null&&(q===K||!o&&q.startsWith(K)&&q.charAt(K.length)==="/"),N={isActive:oe,isPending:ce,isTransitioning:P},S=oe?e:void 0,C;typeof s=="function"?C=s(N):C=[s,oe?"active":null,ce?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(N):u;return I.createElement(ln,{...g,"aria-current":S,className:C,ref:v,style:V,to:c,viewTransition:m},typeof p=="function"?p(N):p)});jh.displayName="NavLink";var eC=I.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:c=Lh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:A,unstable_defaultShouldRevalidate:w,...D},U)=>{let{unstable_useTransitions:j}=I.useContext(Ln),P=sC(),K=aC(m,{relative:g}),Z=c.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&C1.test(m),re=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let ce=oe.nativeEvent.submitter,N=ce?.getAttribute("formmethod")||c,S=()=>P(ce||oe.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:A,unstable_defaultShouldRevalidate:w});j&&t!==!1?I.startTransition(()=>S()):S()};return I.createElement("form",{ref:U,method:Z,action:K,onSubmit:s?p:re,...D,"data-discover":!q&&i==="render"?"true":void 0})});eC.displayName="Form";function tC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I1(i){let e=I.useContext(Ko);return ht(e,tC(i)),e}function nC(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=If(),v=Wi(),A=ku(i,{relative:u});return I.useCallback(w=>{if(VR(w,e)){w.preventDefault();let D=t!==void 0?t:Tu(v)===Tu(A),U=()=>g(i,{replace:D,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m});p?I.startTransition(()=>U()):U()}},[v,g,A,t,s,e,i,o,u,c,m,p])}var iC=0,rC=()=>`__${String(++iC)}__`;function sC(){let{router:i}=I1("useSubmit"),{basename:e}=I.useContext(Ln),t=AR(),s=i.fetch,o=i.navigate;return I.useCallback(async(u,c={})=>{let{action:m,method:p,encType:g,formData:v,body:A}=LR(u,e);if(c.navigate===!1){let w=c.fetcherKey||rC();await s(w,t,c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:A,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:A,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,t])}function aC(i,{relative:e}={}){let{basename:t}=I.useContext(Ln),s=I.useContext(ei);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ku(i||".",{relative:e})},c=Wi();if(i==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:Sr([t,u.pathname])),Tu(u)}function oC(i,{relative:e}={}){let t=I.useContext(_1);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=I1("useViewTransitionState"),o=ku(i,{relative:e});if(!t.isTransitioning)return!1;let u=br(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=br(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Jh(o.pathname,c)!=null||Jh(o.pathname,u)!=null}var lC=c1();let uC={data:""},cC=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||uC},hC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fC=/\/\*[^]*?\*\/|  +/g,cE=/\n+/g,hs=(i,e)=>{let t="",s="",o="";for(let u in i){let c=i[u];u[0]=="@"?u[1]=="i"?t=u+" "+c+";":s+=u[1]=="f"?hs(c,u):u+"{"+hs(c,u[1]=="k"?"":e)+"}":typeof c=="object"?s+=hs(c,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):c!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=hs.p?hs.p(u,c):u+":"+c+";")}return t+(e&&o?e+"{"+o+"}":o)+s},Er={},N1=i=>{if(typeof i=="object"){let e="";for(let t in i)e+=t+N1(i[t]);return e}return i},dC=(i,e,t,s,o)=>{let u=N1(i),c=Er[u]||(Er[u]=(p=>{let g=0,v=11;for(;g<p.length;)v=101*v+p.charCodeAt(g++)>>>0;return"go"+v})(u));if(!Er[c]){let p=u!==i?i:(g=>{let v,A,w=[{}];for(;v=hC.exec(g.replace(fC,""));)v[4]?w.shift():v[3]?(A=v[3].replace(cE," ").trim(),w.unshift(w[0][A]=w[0][A]||{})):w[0][v[1]]=v[2].replace(cE," ").trim();return w[0]})(i);Er[c]=hs(o?{["@keyframes "+c]:p}:p,t?"":"."+c)}let m=t&&Er.g?Er.g:null;return t&&(Er.g=Er[c]),((p,g,v,A)=>{A?g.data=g.data.replace(A,p):g.data.indexOf(p)===-1&&(g.data=v?p+g.data:g.data+p)})(Er[c],e,s,m),c},mC=(i,e,t)=>i.reduce((s,o,u)=>{let c=e[u];if(c&&c.call){let m=c(t),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;c=p?"."+p:m&&typeof m=="object"?m.props?"":hs(m,""):m===!1?"":m}return s+o+(c??"")},"");function Df(i){let e=this||{},t=i.call?i(e.p):i;return dC(t.unshift?t.raw?mC(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,cC(e.target),e.g,e.o,e.k)}let D1,Pp,Lp;Df.bind({g:1});let wr=Df.bind({k:1});function pC(i,e,t,s){hs.p=e,D1=i,Pp=t,Lp=s}function Ds(i,e){let t=this||{};return function(){let s=arguments;function o(u,c){let m=Object.assign({},u),p=m.className||o.className;t.p=Object.assign({theme:Pp&&Pp()},m),t.o=/ *go\d+/.test(p),m.className=Df.apply(t,s)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),Lp&&g[0]&&Lp(m),D1(g,m)}return o}}var gC=i=>typeof i=="function",Zh=(i,e)=>gC(i)?i(e):i,yC=(()=>{let i=0;return()=>(++i).toString()})(),x1=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),_C=20,vg="default",O1=(i,e)=>{let{toastLimit:t}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,t)};case 1:return{...i,toasts:i.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:s}=e;return O1(i,{type:i.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...i,toasts:i.toasts.map(c=>c.id===o||o===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let u=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+u}))}}},zh=[],M1={toasts:[],pausedAt:void 0,settings:{toastLimit:_C}},qi={},V1=(i,e=vg)=>{qi[e]=O1(qi[e]||M1,i),zh.forEach(([t,s])=>{t===e&&s(qi[e])})},k1=i=>Object.keys(qi).forEach(e=>V1(i,e)),vC=i=>Object.keys(qi).find(e=>qi[e].toasts.some(t=>t.id===i)),xf=(i=vg)=>e=>{V1(e,i)},EC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},TC=(i={},e=vg)=>{let[t,s]=I.useState(qi[e]||M1),o=I.useRef(qi[e]);I.useEffect(()=>(o.current!==qi[e]&&s(qi[e]),zh.push([e,s]),()=>{let c=zh.findIndex(([m])=>m===e);c>-1&&zh.splice(c,1)}),[e]);let u=t.toasts.map(c=>{var m,p,g;return{...i,...i[c.type],...c,removeDelay:c.removeDelay||((m=i[c.type])==null?void 0:m.removeDelay)||i?.removeDelay,duration:c.duration||((p=i[c.type])==null?void 0:p.duration)||i?.duration||EC[c.type],style:{...i.style,...(g=i[c.type])==null?void 0:g.style,...c.style}}});return{...t,toasts:u}},AC=(i,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...t,id:t?.id||yC()}),Pu=i=>(e,t)=>{let s=AC(e,i,t);return xf(s.toasterId||vC(s.id))({type:2,toast:s}),s.id},Lt=(i,e)=>Pu("blank")(i,e);Lt.error=Pu("error");Lt.success=Pu("success");Lt.loading=Pu("loading");Lt.custom=Pu("custom");Lt.dismiss=(i,e)=>{let t={type:3,toastId:i};e?xf(e)(t):k1(t)};Lt.dismissAll=i=>Lt.dismiss(void 0,i);Lt.remove=(i,e)=>{let t={type:4,toastId:i};e?xf(e)(t):k1(t)};Lt.removeAll=i=>Lt.remove(void 0,i);Lt.promise=(i,e,t)=>{let s=Lt.loading(e.loading,{...t,...t?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?Zh(e.success,o):void 0;return u?Lt.success(u,{id:s,...t,...t?.success}):Lt.dismiss(s),o}).catch(o=>{let u=e.error?Zh(e.error,o):void 0;u?Lt.error(u,{id:s,...t,...t?.error}):Lt.dismiss(s)}),i};var SC=1e3,bC=(i,e="default")=>{let{toasts:t,pausedAt:s}=TC(i,e),o=I.useRef(new Map).current,u=I.useCallback((A,w=SC)=>{if(o.has(A))return;let D=setTimeout(()=>{o.delete(A),c({type:4,toastId:A})},w);o.set(A,D)},[]);I.useEffect(()=>{if(s)return;let A=Date.now(),w=t.map(D=>{if(D.duration===1/0)return;let U=(D.duration||0)+D.pauseDuration-(A-D.createdAt);if(U<0){D.visible&&Lt.dismiss(D.id);return}return setTimeout(()=>Lt.dismiss(D.id,e),U)});return()=>{w.forEach(D=>D&&clearTimeout(D))}},[t,s,e]);let c=I.useCallback(xf(e),[e]),m=I.useCallback(()=>{c({type:5,time:Date.now()})},[c]),p=I.useCallback((A,w)=>{c({type:1,toast:{id:A,height:w}})},[c]),g=I.useCallback(()=>{s&&c({type:6,time:Date.now()})},[s,c]),v=I.useCallback((A,w)=>{let{reverseOrder:D=!1,gutter:U=8,defaultPosition:j}=w||{},P=t.filter(q=>(q.position||j)===(A.position||j)&&q.height),K=P.findIndex(q=>q.id===A.id),Z=P.filter((q,re)=>re<K&&q.visible).length;return P.filter(q=>q.visible).slice(...D?[Z+1]:[0,Z]).reduce((q,re)=>q+(re.height||0)+U,0)},[t]);return I.useEffect(()=>{t.forEach(A=>{if(A.dismissed)u(A.id,A.removeDelay);else{let w=o.get(A.id);w&&(clearTimeout(w),o.delete(A.id))}})},[t,u]),{toasts:t,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:v}}},wC=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,RC=wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CC=wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,IC=Ds("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${RC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${CC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,NC=wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,DC=Ds("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${NC} 1s linear infinite;
`,xC=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,OC=wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,MC=Ds("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${OC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,VC=Ds("div")`
  position: absolute;
`,kC=Ds("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,PC=wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,LC=Ds("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${PC} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,UC=({toast:i})=>{let{icon:e,type:t,iconTheme:s}=i;return e!==void 0?typeof e=="string"?I.createElement(LC,null,e):e:t==="blank"?null:I.createElement(kC,null,I.createElement(DC,{...s}),t!=="loading"&&I.createElement(VC,null,t==="error"?I.createElement(IC,{...s}):I.createElement(MC,{...s})))},jC=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zC=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,BC="0%{opacity:0;} 100%{opacity:1;}",qC="0%{opacity:1;} 100%{opacity:0;}",FC=Ds("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,HC=Ds("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,GC=(i,e)=>{let t=i.includes("top")?1:-1,[s,o]=x1()?[BC,qC]:[jC(t),zC(t)];return{animation:e?`${wr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$C=I.memo(({toast:i,position:e,style:t,children:s})=>{let o=i.height?GC(i.position||e||"top-center",i.visible):{opacity:0},u=I.createElement(UC,{toast:i}),c=I.createElement(HC,{...i.ariaProps},Zh(i.message,i));return I.createElement(FC,{className:i.className,style:{...o,...t,...i.style}},typeof s=="function"?s({icon:u,message:c}):I.createElement(I.Fragment,null,u,c))});pC(I.createElement);var KC=({id:i,className:e,style:t,onHeightUpdate:s,children:o})=>{let u=I.useCallback(c=>{if(c){let m=()=>{let p=c.getBoundingClientRect().height;s(i,p)};m(),new MutationObserver(m).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return I.createElement("div",{ref:u,className:e,style:t},o)},QC=(i,e)=>{let t=i.includes("top"),s=t?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:x1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},YC=Df`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ih=16,XC=({reverseOrder:i,position:e="top-center",toastOptions:t,gutter:s,children:o,toasterId:u,containerStyle:c,containerClassName:m})=>{let{toasts:p,handlers:g}=bC(t,u);return I.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:Ih,left:Ih,right:Ih,bottom:Ih,pointerEvents:"none",...c},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(v=>{let A=v.position||e,w=g.calculateOffset(v,{reverseOrder:i,gutter:s,defaultPosition:e}),D=QC(A,w);return I.createElement(KC,{id:v.id,key:v.id,onHeightUpdate:g.updateHeight,className:v.visible?YC:"",style:D},v.type==="custom"?Zh(v.message,v):o?o(v):I.createElement($C,{toast:v,position:A}))}))},Ge=Lt;const WC="data:image/svg+xml,%3csvg%20width='32'%20height='48'%20viewBox='0%202%2018%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.13082%2013.9768C1.18296%2013.9144%201.24817%2013.8642%201.32184%2013.8298C1.39551%2013.7953%201.47584%2013.7775%201.55716%2013.7775H12.7587L13.1809%2011.4562C13.2041%2011.3282%2013.2716%2011.2124%2013.3714%2011.1291C13.4713%2011.0457%2013.5972%2011%2013.7273%2011H15.4445C15.5918%2011%2015.7331%2011.0585%2015.8373%2011.1627C15.9415%2011.2669%2016%2011.4082%2016%2011.5555C16%2011.7028%2015.9415%2011.8441%2015.8373%2011.9483C15.7331%2012.0525%2015.5918%2012.111%2015.4445%2012.111H14.1946L12.4198%2021.8523C12.3676%2022.1412%2012.2399%2022.4112%2012.0497%2022.6349C12.3122%2022.88%2012.5016%2023.193%2012.597%2023.5393C12.6924%2023.8855%2012.6901%2024.2513%2012.5902%2024.5963C12.4904%2024.9412%2012.297%2025.2518%2012.0314%2025.4935C11.7658%2025.7353%2011.4385%2025.8987%2011.0857%2025.9658C10.7329%2026.0329%2010.3684%2026.0009%2010.0327%2025.8735C9.69697%2025.746%209.40309%2025.5281%209.18364%2025.2438C8.9642%2024.9596%208.82777%2024.6201%208.78949%2024.263C8.7512%2023.906%208.81256%2023.5453%208.96675%2023.2209H5.81294C5.93721%2023.4811%206.00152%2023.7659%206.00111%2024.0542C6.00111%2024.4387%205.88708%2024.8146%205.67345%2025.1344C5.45981%2025.4541%205.15617%2025.7033%204.80091%2025.8504C4.44564%2025.9976%204.05473%2026.0361%203.67758%2025.9611C3.30044%2025.8861%202.95401%2025.7009%202.6821%2025.429C2.4102%2025.1571%202.22503%2024.8106%202.15001%2024.4335C2.07499%2024.0564%202.1135%2023.6654%202.26065%2023.3102C2.4078%2022.9549%202.657%2022.6513%202.97673%2022.4376C3.29645%2022.224%203.67235%2022.11%204.05688%2022.11H10.7804C10.9105%2022.1099%2011.0365%2022.0643%2011.1364%2021.9809C11.2362%2021.8975%2011.3037%2021.7817%2011.3269%2021.6538L11.547%2020.4435H3.49236C3.10209%2020.4434%202.72422%2020.3064%202.42463%2020.0563C2.12503%2019.8062%201.92272%2019.4588%201.85296%2019.0749L1.00861%2014.4323C0.994316%2014.352%200.997854%2014.2696%201.01897%2014.1909C1.04009%2014.1122%201.07828%2014.0391%201.13082%2013.9768ZM9.88957%2024.0542C9.88957%2024.219%209.93844%2024.3801%2010.03%2024.5171C10.1216%2024.6541%2010.2517%2024.7609%2010.4039%2024.824C10.5562%2024.8871%2010.7237%2024.9036%2010.8854%2024.8714C11.047%2024.8393%2011.1955%2024.7599%2011.312%2024.6434C11.4285%2024.5269%2011.5079%2024.3784%2011.54%2024.2168C11.5722%2024.0551%2011.5557%2023.8876%2011.4926%2023.7353C11.4296%2023.5831%2011.3228%2023.4529%2011.1857%2023.3614C11.0487%2023.2698%2010.8876%2023.2209%2010.7228%2023.2209C10.5018%2023.2209%2010.2899%2023.3087%2010.1336%2023.465C9.97736%2023.6213%209.88957%2023.8332%209.88957%2024.0542ZM3.22364%2024.0542C3.22364%2024.219%203.27251%2024.3801%203.36407%2024.5171C3.45563%2024.6541%203.58576%2024.7609%203.73801%2024.824C3.89027%2024.8871%204.05781%2024.9036%204.21944%2024.8714C4.38107%2024.8393%204.52954%2024.7599%204.64607%2024.6434C4.7626%2024.5269%204.84196%2024.3784%204.87411%2024.2168C4.90626%2024.0551%204.88976%2023.8876%204.8267%2023.7353C4.76363%2023.5831%204.65683%2023.4529%204.51981%2023.3614C4.38278%2023.2698%204.22168%2023.2209%204.05688%2023.2209C3.83589%2023.2209%203.62396%2023.3087%203.46769%2023.465C3.31143%2023.6213%203.22364%2023.8332%203.22364%2024.0542ZM2.94589%2018.8763C2.96921%2019.0046%203.03695%2019.1207%203.13725%2019.2041C3.23754%2019.2875%203.364%2019.3329%203.49444%2019.3325H11.7491L12.5566%2014.8885H2.22306L2.94589%2018.8763Z'%20fill='%23FF68C4'/%3e%3ccircle%20cx='2.5'%20cy='10.5'%20r='2.5'%20fill='%23FF009B'/%3e%3c!--%20//Logica%20items%20cart%20--%3e%3cpath%20d='M2.01138%209.44V9.108H2.76338V12H2.39538V9.44H2.01138Z'%20fill='white'/%3e%3c/svg%3e",P1=""+new URL("logo-desktop-CR_Mk_JO.svg",import.meta.url).href,L1=I.createContext(null),JC=()=>{};var hE={};const U1=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},ZC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],c=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],c=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},j1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,D=g&63;p||(D=64,c||(w=64)),s.push(t[v],t[A],t[w],t[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(U1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ZC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new eI;const w=u<<2|m>>4;if(s.push(w),g!==64){const D=m<<4&240|g>>2;if(s.push(D),A!==64){const U=g<<6&192|A;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class eI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tI=function(i){const e=U1(i);return j1.encodeByteArray(e,!0)},ef=function(i){return tI(i).replace(/\./g,"")},z1=function(i){try{return j1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const iI=()=>nI().__FIREBASE_DEFAULTS__,rI=()=>{if(typeof process>"u"||typeof hE>"u")return;const i=hE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},sI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&z1(i[1]);return e&&JSON.parse(e)},Of=()=>{try{return JC()||iI()||rI()||sI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},B1=i=>Of()?.emulatorHosts?.[i],q1=i=>{const e=B1(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},F1=()=>Of()?.config,H1=i=>Of()?.[`_${i}`];class aI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function ba(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Eg(i){return(await fetch(i,{credentials:"include"})).ok}function G1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[ef(JSON.stringify(t)),ef(JSON.stringify(c)),""].join(".")}const pu={};function oI(){const i={prod:[],emulator:[]};for(const e of Object.keys(pu))pu[e]?i.emulator.push(e):i.prod.push(e);return i}function lI(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let fE=!1;function Tg(i,e){if(typeof window>"u"||typeof document>"u"||!ba(window.location.host)||pu[i]===e||pu[i]||fE)return;pu[i]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=oI().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,D){w.setAttribute("width","24"),w.setAttribute("id",D),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{fE=!0,c()},w}function v(w,D){w.setAttribute("id",D),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=lI(s),D=t("text"),U=document.getElementById(D)||document.createElement("span"),j=t("learnmore"),P=document.getElementById(j)||document.createElement("a"),K=t("preprendIcon"),Z=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const q=w.element;m(q),v(P,j);const re=g();p(Z,K),q.append(Z,U,P,re),document.body.appendChild(q)}u?(U.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function cI(){const i=Of()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ag(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function fI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dI(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function mI(){return!cI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sg(){try{return typeof indexedDB=="object"}catch{return!1}}function bg(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function $1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const pI="FirebaseError";class ti extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=pI,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wa.prototype.create)}}class wa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?gI(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new ti(o,m,s)}}function gI(i,e){return i.replace(yI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const yI=/\{\$([^}]+)}/g;function _I(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ss(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],c=e[o];if(dE(u)&&dE(c)){if(!Ss(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function dE(i){return i!==null&&typeof i=="object"}function Lu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function lu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function uu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function vI(i,e){const t=new EI(i,e);return t.subscribe.bind(t)}class EI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");TI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=yp),o.error===void 0&&(o.error=yp),o.complete===void 0&&(o.complete=yp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function yp(){}const AI=1e3,SI=2,bI=14400*1e3,wI=.5;function mE(i,e=AI,t=SI){const s=e*Math.pow(t,i),o=Math.round(wI*s*(Math.random()-.5)*2);return Math.min(bI,s+o)}function rt(i){return i&&i._delegate?i._delegate:i}class Zn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fa="[DEFAULT]";class RI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new aI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(II(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CI(i){return i===fa?void 0:i}function II(i){return i.instantiationMode==="EAGER"}class NI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new RI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const DI={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},xI=Me.INFO,OI={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},MI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=OI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mf{constructor(e){this.name=e,this._logLevel=xI,this._logHandler=MI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const VI=(i,e)=>e.some(t=>i instanceof t);let pE,gE;function kI(){return pE||(pE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PI(){return gE||(gE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K1=new WeakMap,Up=new WeakMap,Q1=new WeakMap,_p=new WeakMap,wg=new WeakMap;function LI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{t(ys(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&K1.set(t,i)}).catch(()=>{}),wg.set(e,i),e}function UI(i){if(Up.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});Up.set(i,e)}let jp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Up.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Q1.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ys(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function jI(i){jp=i(jp)}function zI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(vp(this),e,...t);return Q1.set(s,e.sort?e.sort():[e]),ys(s)}:PI().includes(i)?function(...e){return i.apply(vp(this),e),ys(K1.get(this))}:function(...e){return ys(i.apply(vp(this),e))}}function BI(i){return typeof i=="function"?zI(i):(i instanceof IDBTransaction&&UI(i),VI(i,kI())?new Proxy(i,jp):i)}function ys(i){if(i instanceof IDBRequest)return LI(i);if(_p.has(i))return _p.get(i);const e=BI(i);return e!==i&&(_p.set(i,e),wg.set(e,i)),e}const vp=i=>wg.get(i);function Y1(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),m=ys(c);return s&&c.addEventListener("upgradeneeded",p=>{s(ys(c.result),p.oldVersion,p.newVersion,ys(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const qI=["get","getKey","getAll","getAllKeys","count"],FI=["put","add","delete","clear"],Ep=new Map;function yE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Ep.get(e))return Ep.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=FI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qI.includes(t)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Ep.set(e,u),u}jI(i=>({...i,get:(e,t,s)=>yE(e,t)||i.get(e,t,s),has:(e,t)=>!!yE(e,t)||i.has(e,t)}));class HI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function GI(i){return i.getComponent()?.type==="VERSION"}const zp="@firebase/app",_E="0.14.6";const Rr=new Mf("@firebase/app"),$I="@firebase/app-compat",KI="@firebase/analytics-compat",QI="@firebase/analytics",YI="@firebase/app-check-compat",XI="@firebase/app-check",WI="@firebase/auth",JI="@firebase/auth-compat",ZI="@firebase/database",eN="@firebase/data-connect",tN="@firebase/database-compat",nN="@firebase/functions",iN="@firebase/functions-compat",rN="@firebase/installations",sN="@firebase/installations-compat",aN="@firebase/messaging",oN="@firebase/messaging-compat",lN="@firebase/performance",uN="@firebase/performance-compat",cN="@firebase/remote-config",hN="@firebase/remote-config-compat",fN="@firebase/storage",dN="@firebase/storage-compat",mN="@firebase/firestore",pN="@firebase/ai",gN="@firebase/firestore-compat",yN="firebase",_N="12.6.0";const Bp="[DEFAULT]",vN={[zp]:"fire-core",[$I]:"fire-core-compat",[QI]:"fire-analytics",[KI]:"fire-analytics-compat",[XI]:"fire-app-check",[YI]:"fire-app-check-compat",[WI]:"fire-auth",[JI]:"fire-auth-compat",[ZI]:"fire-rtdb",[eN]:"fire-data-connect",[tN]:"fire-rtdb-compat",[nN]:"fire-fn",[iN]:"fire-fn-compat",[rN]:"fire-iid",[sN]:"fire-iid-compat",[aN]:"fire-fcm",[oN]:"fire-fcm-compat",[lN]:"fire-perf",[uN]:"fire-perf-compat",[cN]:"fire-rc",[hN]:"fire-rc-compat",[fN]:"fire-gcs",[dN]:"fire-gcs-compat",[mN]:"fire-fst",[gN]:"fire-fst-compat",[pN]:"fire-vertex","fire-js":"fire-js",[yN]:"fire-js-all"};const tf=new Map,EN=new Map,qp=new Map;function vE(i,e){try{i.container.addComponent(e)}catch(t){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function gi(i){const e=i.name;if(qp.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;qp.set(e,i);for(const t of tf.values())vE(t,i);for(const t of EN.values())vE(t,i);return!0}function xs(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Wn(i){return i==null?!1:i.settings!==void 0}const TN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new wa("app","Firebase",TN);class AN{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}const Ra=_N;function X1(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:Bp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(t||(t=F1()),!t)throw _s.create("no-options");const u=tf.get(o);if(u){if(Ss(t,u.options)&&Ss(s,u.config))return u;throw _s.create("duplicate-app",{appName:o})}const c=new NI(o);for(const p of qp.values())c.addComponent(p);const m=new AN(t,s,c);return tf.set(o,m),m}function Vf(i=Bp){const e=tf.get(i);if(!e&&i===Bp&&F1())return X1();if(!e)throw _s.create("no-app",{appName:i});return e}function En(i,e,t){let s=vN[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(c.join(" "));return}gi(new Zn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const SN="firebase-heartbeat-database",bN=1,Au="firebase-heartbeat-store";let Tp=null;function W1(){return Tp||(Tp=Y1(SN,bN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Au)}catch(t){console.warn(t)}}}}).catch(i=>{throw _s.create("idb-open",{originalErrorMessage:i.message})})),Tp}async function wN(i){try{const t=(await W1()).transaction(Au),s=await t.objectStore(Au).get(J1(i));return await t.done,s}catch(e){if(e instanceof ti)Rr.warn(e.message);else{const t=_s.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(t.message)}}}async function EE(i,e){try{const s=(await W1()).transaction(Au,"readwrite");await s.objectStore(Au).put(e,J1(i)),await s.done}catch(t){if(t instanceof ti)Rr.warn(t.message);else{const s=_s.create("idb-set",{originalErrorMessage:t?.message});Rr.warn(s.message)}}}function J1(i){return`${i.name}!${i.options.appId}`}const RN=1024,CN=30;class IN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DN(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=TE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>CN){const o=xN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=TE(),{heartbeatsToSend:t,unsentEntries:s}=NN(this._heartbeatsCache.heartbeats),o=ef(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Rr.warn(e),""}}}function TE(){return new Date().toISOString().substring(0,10)}function NN(i,e=RN){const t=[];let s=i.slice();for(const o of i){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),AE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),AE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class DN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sg()?bg().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await wN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return EE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return EE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function AE(i){return ef(JSON.stringify({version:2,heartbeats:i})).length}function xN(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}function ON(i){gi(new Zn("platform-logger",e=>new HI(e),"PRIVATE")),gi(new Zn("heartbeat",e=>new IN(e),"PRIVATE")),En(zp,_E,i),En(zp,_E,"esm2020"),En("fire-js","")}ON("");function Z1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MN=Z1,eA=new wa("auth","Firebase",Z1());const nf=new Mf("@firebase/auth");function VN(i,...e){nf.logLevel<=Me.WARN&&nf.warn(`Auth (${Ra}): ${i}`,...e)}function Bh(i,...e){nf.logLevel<=Me.ERROR&&nf.error(`Auth (${Ra}): ${i}`,...e)}function yi(i,...e){throw Rg(i,...e)}function Fi(i,...e){return Rg(i,...e)}function tA(i,e,t){const s={...MN(),[e]:t};return new wa("auth","Firebase",s).create(e,{appName:i.name})}function vs(i){return tA(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return eA.create(i,...e)}function Te(i,e,...t){if(!i)throw Rg(e,...t)}function Tr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Bh(e),new Error(e)}function Cr(i,e){i||Tr(e)}function Fp(){return typeof self<"u"&&self.location?.href||""}function kN(){return SE()==="http:"||SE()==="https:"}function SE(){return typeof self<"u"&&self.location?.protocol||null}function PN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kN()||Ag()||"connection"in navigator)?navigator.onLine:!0}function LN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Uu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cr(t>e,"Short delay should be less than long delay!"),this.isMobile=uI()||fI()}get(){return PN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cg(i,e){Cr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class nA{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const UN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zN=new Uu(3e4,6e4);function Ca(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Os(i,e,t,s,o={}){return iA(i,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const m=Lu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return hI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&ba(i.emulatorConfig.host)&&(g.credentials="include"),nA.fetch()(await rA(i,i.config.apiHost,t,m),g)})}async function iA(i,e,t){i._canInitEmulator=!1;const s={...UN,...e};try{const o=new qN(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Nh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Nh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Nh(i,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw tA(i,v,g);yi(i,v)}}catch(o){if(o instanceof ti)throw o;yi(i,"network-request-failed",{message:String(o)})}}async function kf(i,e,t,s,o={}){const u=await Os(i,e,t,s,o);return"mfaPendingCredential"in u&&yi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function rA(i,e,t,s){const o=`${e}${t}?${s}`,u=i,c=u.config.emulator?Cg(i.config,o):`${i.config.apiScheme}://${o}`;return jN.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function BN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Fi(this.auth,"network-request-failed")),zN.get())})}}function Nh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Fi(i,e,s);return o.customData._tokenResponse=t,o}function bE(i){return i!==void 0&&i.enterprise!==void 0}class FN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HN(i,e){return Os(i,"GET","/v2/recaptchaConfig",Ca(i,e))}async function GN(i,e){return Os(i,"POST","/v1/accounts:delete",e)}async function rf(i,e){return Os(i,"POST","/v1/accounts:lookup",e)}function gu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $N(i,e=!1){const t=rt(i),s=await t.getIdToken(e),o=Ig(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:gu(Ap(o.auth_time)),issuedAtTime:gu(Ap(o.iat)),expirationTime:gu(Ap(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ap(i){return Number(i)*1e3}function Ig(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Bh("JWT malformed, contained fewer than 3 sections"),null;try{const o=z1(t);return o?JSON.parse(o):(Bh("Failed to decode base64 JWT payload"),null)}catch(o){return Bh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function wE(i){const e=Ig(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Su(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ti&&KN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function KN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class QN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sf(i){const e=i.auth,t=await i.getIdToken(),s=await Su(i,rf(e,{idToken:t}));Te(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?sA(o.providerUserInfo):[],c=XN(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Hp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function YN(i){const e=rt(i);await sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XN(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function sA(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function WN(i,e){const t=await iA(i,{},async()=>{const s=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await rA(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&ba(i.emulatorConfig.host)&&(p.credentials="include"),nA.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function JN(i,e){return Os(i,"POST","/v2/accounts:revokeToken",Ca(i,e))}class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=wE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await WN(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,c=new No;return s&&(Te(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return Tr("not implemented")}}function cs(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class mi{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new QN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Su(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return $N(this,e)}reload(){return YN(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await sf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Su(this,GN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:D,providerData:U,stsTokenManager:j}=t;Te(A&&j,e,"internal-error");const P=No.fromJSON(this.name,j);Te(typeof A=="string",e,"internal-error"),cs(s,e.name),cs(o,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof D=="boolean",e,"internal-error"),cs(u,e.name),cs(c,e.name),cs(m,e.name),cs(p,e.name),cs(g,e.name),cs(v,e.name);const K=new mi({uid:A,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:D,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:v});return U&&Array.isArray(U)&&(K.providerData=U.map(Z=>({...Z}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(e,t,s=!1){const o=new No;o.updateFromServerResponse(t);const u=new mi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await sf(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?sA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new No;m.updateFromIdToken(s);const p=new mi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const RE=new Map;function Ar(i){Cr(i instanceof Function,"Expected a class definition");let e=RE.get(i);return e?(Cr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,RE.set(i,e),e)}class aA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aA.type="NONE";const CE=aA;function qh(i,e,t){return`firebase:${i}:${e}:${t}`}class Do{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=qh(this.userKey,o.apiKey,u),this.fullPersistenceKey=qh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rf(this.auth,{idToken:e}).catch(()=>{});return t?mi._fromGetAccountInfoResponse(this.auth,t,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Do(Ar(CE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ar(CE);const c=qh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const v=await g._get(c);if(v){let A;if(typeof v=="string"){const w=await rf(e,{idToken:v}).catch(()=>{});if(!w)break;A=await mi._fromGetAccountInfoResponse(e,w,v)}else A=mi._fromJSON(e,v);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Do(u,e,s):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Do(u,e,s))}}function IE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fA(e))return"Blackberry";if(dA(e))return"Webos";if(lA(e))return"Safari";if((e.includes("chrome/")||uA(e))&&!e.includes("edge/"))return"Chrome";if(hA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function oA(i=rn()){return/firefox\//i.test(i)}function lA(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uA(i=rn()){return/crios\//i.test(i)}function cA(i=rn()){return/iemobile/i.test(i)}function hA(i=rn()){return/android/i.test(i)}function fA(i=rn()){return/blackberry/i.test(i)}function dA(i=rn()){return/webos/i.test(i)}function Ng(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ZN(i=rn()){return Ng(i)&&!!window.navigator?.standalone}function eD(){return dI()&&document.documentMode===10}function mA(i=rn()){return Ng(i)||hA(i)||dA(i)||fA(i)||/windows phone/i.test(i)||cA(i)}function pA(i,e=[]){let t;switch(i){case"Browser":t=IE(rn());break;case"Worker":t=`${IE(rn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ra}/${s}`}class tD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function nD(i,e={}){return Os(i,"GET","/v2/passwordPolicy",Ca(i,e))}const iD=6;class rD{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??iD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class sD{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NE(this),this.idTokenSubscription=new NE(this),this.beforeStateQueue=new tD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rf(this,{idToken:e}),s=await mi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(vs(this));const t=e?rt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nD(this),t=new rD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await JN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Yo(i){return rt(i)}class NE{constructor(e){this.auth=e,this.observer=null,this.addObserver=vI(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aD(i){Pf=i}function gA(i){return Pf.loadJS(i)}function oD(){return Pf.recaptchaEnterpriseScript}function lD(){return Pf.gapiScript}function uD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class cD{constructor(){this.enterprise=new hD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class hD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const fD="recaptcha-enterprise",yA="NO_RECAPTCHA";class dD{constructor(e){this.type=fD,this.auth=Yo(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{HN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new FN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;bE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(yA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cD().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(m=>{if(!t&&bE(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=oD();p.length!==0&&(p+=m),gA(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function DE(i,e,t,s=!1,o=!1){const u=new dD(i);let c;if(o)c=yA;else try{c=await u.verify(t)}catch{c=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function xE(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await DE(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await DE(i,e,t,t==="getOobCode");return s(i,c)}else return Promise.reject(u)})}function mD(i,e){const t=xs(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Ss(u,e??{}))return o;yi(o,"already-initialized")}return t.initialize({options:e})}function pD(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ar);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function gD(i,e,t){const s=Yo(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=_A(e),{host:c,port:m}=yD(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Ss(g,s.config.emulator)&&Ss(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ba(c)?(Eg(`${u}//${c}${p}`),Tg("Auth",!0)):_D()}function _A(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function yD(i){const e=_A(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:OE(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:OE(c)}}}function OE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function _D(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Dg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,t){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}async function vD(i,e){return Os(i,"POST","/v1/accounts:signUp",e)}async function ED(i,e){return kf(i,"POST","/v1/accounts:signInWithPassword",Ca(i,e))}async function TD(i,e){return kf(i,"POST","/v1/accounts:signInWithEmailLink",Ca(i,e))}async function AD(i,e){return kf(i,"POST","/v1/accounts:signInWithEmailLink",Ca(i,e))}class bu extends Dg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new bu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new bu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xE(e,t,"signInWithPassword",ED);case"emailLink":return TD(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xE(e,s,"signUpPassword",vD);case"emailLink":return AD(e,{idToken:t,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xo(i,e){return kf(i,"POST","/v1/accounts:signInWithIdp",Ca(i,e))}const SD="http://localhost";class _a extends Dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const c=new _a(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return xo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,xo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xo(e,t)}buildRequest(){const e={requestUri:SD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lu(t)}return e}}function bD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wD(i){const e=lu(uu(i)).link,t=e?lu(uu(e)).deep_link_id:null,s=lu(uu(i)).deep_link_id;return(s?lu(uu(s)).link:null)||s||t||e||i}class xg{constructor(e){const t=lu(uu(e)),s=t.apiKey??null,o=t.oobCode??null,u=bD(t.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=wD(e);try{return new xg(t)}catch{return null}}}class Xo{constructor(){this.providerId=Xo.PROVIDER_ID}static credential(e,t){return bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=xg.parseLink(t);return Te(s,"argument-error"),bu._fromEmailAndCode(e,s.code,s.tenantId)}}Xo.PROVIDER_ID="password";Xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class vA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ju extends vA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fs extends ju{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";class ds extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _a._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ds.credential(t,s)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";class ms extends ju{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";class ps extends ju{constructor(){super("twitter.com")}static credential(e,t){return _a._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ps.credential(t,s)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await mi._fromIdTokenResponse(e,s,o),c=ME(s);return new Po({user:u,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=ME(s);return new Po({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function ME(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class af extends ti{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,af.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new af(e,t,s,o)}}function EA(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?af._fromErrorAndOperation(i,u,e,s):u})}async function RD(i,e,t=!1){const s=await Su(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Po._forOperation(i,"link",s)}async function CD(i,e,t=!1){const{auth:s}=i;if(Wn(s.app))return Promise.reject(vs(s));const o="reauthenticate";try{const u=await Su(i,EA(s,o,e,i),t);Te(u.idToken,s,"internal-error");const c=Ig(u.idToken);Te(c,s,"internal-error");const{sub:m}=c;return Te(i.uid===m,s,"user-mismatch"),Po._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&yi(s,"user-mismatch"),u}}async function TA(i,e,t=!1){if(Wn(i.app))return Promise.reject(vs(i));const s="signIn",o=await EA(i,s,e),u=await Po._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function ID(i,e){return TA(Yo(i),e)}async function ND(i){const e=Yo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function AA(i,e,t){return Wn(i.app)?Promise.reject(vs(i)):ID(rt(i),Xo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ND(i),s})}function DD(i,e,t,s){return rt(i).onIdTokenChanged(e,t,s)}function xD(i,e,t){return rt(i).beforeAuthStateChanged(e,t)}function OD(i,e,t,s){return rt(i).onAuthStateChanged(e,t,s)}function SA(i){return rt(i).signOut()}const of="__sak";class bA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(of,"1"),this.storage.removeItem(of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const MD=1e3,VD=10;class wA extends bA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);eD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},MD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wA.type="LOCAL";const kD=wA;class RA extends bA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RA.type="SESSION";const CA=RA;function PD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Lf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(t.origin,u)),p=await PD(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];function Og(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class LD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Og("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Hi(){return window}function UD(i){Hi().location.href=i}function IA(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function jD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zD(){return navigator?.serviceWorker?.controller||null}function BD(){return IA()?self:null}const NA="firebaseLocalStorageDb",qD=1,lf="firebaseLocalStorage",DA="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uf(i,e){return i.transaction([lf],e?"readwrite":"readonly").objectStore(lf)}function FD(){const i=indexedDB.deleteDatabase(NA);return new zu(i).toPromise()}function Gp(){const i=indexedDB.open(NA,qD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(lf,{keyPath:DA})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(lf)?e(s):(s.close(),await FD(),e(await Gp()))})})}async function VE(i,e,t){const s=Uf(i,!0).put({[DA]:e,value:t});return new zu(s).toPromise()}async function HD(i,e){const t=Uf(i,!1).get(e),s=await new zu(t).toPromise();return s===void 0?null:s.value}function kE(i,e){const t=Uf(i,!0).delete(e);return new zu(t).toPromise()}const GD=800,$D=3;class xA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>$D)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(BD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jD(),!this.activeServiceWorker)return;this.sender=new LD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gp();return await VE(e,of,"1"),await kE(e,of),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>VE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>HD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>kE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uf(o,!1).getAll();return new zu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xA.type="LOCAL";const KD=xA;new Uu(3e4,6e4);function QD(i,e){return e?Ar(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Mg extends Dg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function YD(i){return TA(i.auth,new Mg(i),i.bypassAuthState)}function XD(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),CD(t,new Mg(i),i.bypassAuthState)}async function WD(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),RD(t,new Mg(i),i.bypassAuthState)}class OA{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YD;case"linkViaPopup":case"linkViaRedirect":return WD;case"reauthViaPopup":case"reauthViaRedirect":return XD;default:yi(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JD=new Uu(2e3,1e4);class Co extends OA{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Co.currentPopupAction&&Co.currentPopupAction.cancel(),Co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=Og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JD.get())};e()}}Co.currentPopupAction=null;const ZD="pendingRedirect",Fh=new Map;class ex extends OA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Fh.get(this.auth._key());if(!e){try{const s=await tx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Fh.set(this.auth._key(),e)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tx(i,e){const t=rx(e),s=ix(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function nx(i,e){Fh.set(i._key(),e)}function ix(i){return Ar(i._redirectPersistence)}function rx(i){return qh(ZD,i.config.apiKey,i.name)}async function sx(i,e,t=!1){if(Wn(i.app))return Promise.reject(vs(i));const s=Yo(i),o=QD(s,e),c=await new ex(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const ax=600*1e3;class ox{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!MA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Fi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ax&&this.cachedEventUids.clear(),this.cachedEventUids.has(PE(e))}saveEventToCache(e){this.cachedEventUids.add(PE(e)),this.lastProcessedEventTime=Date.now()}}function PE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function MA({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function lx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MA(i);default:return!1}}async function ux(i,e={}){return Os(i,"GET","/v1/projects",e)}const cx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hx=/^https?/;async function fx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await ux(i);for(const t of e)try{if(dx(t))return}catch{}yi(i,"unauthorized-domain")}function dx(i){const e=Fp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!hx.test(t))return!1;if(cx.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const mx=new Uu(3e4,6e4);function LE(){const i=Hi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function px(i){return new Promise((e,t)=>{function s(){LE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LE(),t(Fi(i,"network-request-failed"))},timeout:mx.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)s();else{const o=uD("iframefcb");return Hi()[o]=()=>{gapi.load?s():t(Fi(i,"network-request-failed"))},gA(`${lD()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Hh=null,e})}let Hh=null;function gx(i){return Hh=Hh||px(i),Hh}const yx=new Uu(5e3,15e3),_x="__/auth/iframe",vx="emulator/auth/iframe",Ex={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ax(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Cg(e,vx):`https://${i.config.authDomain}/${_x}`,s={apiKey:e.apiKey,appName:i.name,v:Ra},o=Tx.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Lu(s).slice(1)}`}async function Sx(i){const e=await gx(i),t=Hi().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:Ax(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ex,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Fi(i,"network-request-failed"),m=Hi().setTimeout(()=>{u(c)},yx.get());function p(){Hi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const bx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wx=500,Rx=600,Cx="_blank",Ix="http://localhost";class UE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Nx(i,e,t,s=wx,o=Rx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...bx,width:s.toString(),height:o.toString(),top:u,left:c},g=rn().toLowerCase();t&&(m=uA(g)?Cx:t),oA(g)&&(e=e||Ix,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[D,U])=>`${w}${D}=${U},`,"");if(ZN(g)&&m!=="_self")return Dx(e||"",m),new UE(null);const A=window.open(e||"",m,v);Te(A,i,"popup-blocked");try{A.focus()}catch{}return new UE(A)}function Dx(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const xx="__/auth/handler",Ox="emulator/auth/handler",Mx=encodeURIComponent("fac");async function jE(i,e,t,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Ra,eventId:o};if(e instanceof vA){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",_I(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,A]of Object.entries({}))c[v]=A}if(e instanceof ju){const v=e.getScopes().filter(A=>A!=="");v.length>0&&(c.scopes=v.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${Mx}=${encodeURIComponent(p)}`:"";return`${Vx(i)}?${Lu(m).slice(1)}${g}`}function Vx({config:i}){return i.emulator?Cg(i,Ox):`https://${i.authDomain}/${xx}`}const Sp="webStorageSupport";class kx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CA,this._completeRedirectFn=sx,this._overrideRedirectResult=nx}async _openPopup(e,t,s,o){Cr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await jE(e,t,s,Fp(),o);return Nx(e,u,Og())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await jE(e,t,s,Fp(),o);return UD(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await Sx(e),s=new ox(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sp,{type:Sp},o=>{const u=o?.[0]?.[Sp];u!==void 0&&t(!!u),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mA()||lA()||Ng()}}const Px=kx;var zE="@firebase/auth",BE="1.12.0";class Lx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ux(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jx(i){gi(new Zn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pA(i)},g=new sD(s,o,u,p);return pD(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),gi(new Zn("auth-internal",e=>{const t=Yo(e.getProvider("auth").getImmediate());return(s=>new Lx(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),En(zE,BE,Ux(i)),En(zE,BE,"esm2020")}const zx=300,Bx=H1("authIdTokenMaxAge")||zx;let qE=null;const qx=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>Bx)return;const o=t?.token;qE!==o&&(qE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Fx(i=Vf()){const e=xs(i,"auth");if(e.isInitialized())return e.getImmediate();const t=mD(i,{popupRedirectResolver:Px,persistence:[KD,kD,CA]}),s=H1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=qx(u.toString());xD(t,c,()=>c(t.currentUser)),DD(t,m=>c(m))}}const o=B1("auth");return o&&gD(t,`http://${o}`),t}function Hx(){return document.getElementsByTagName("head")?.[0]??document}aD({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Fi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",Hx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jx("Browser");var Gx="firebase",$x="12.7.0";En(Gx,$x,"app");var FE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Es,VA;(function(){var i;function e(N,S){function C(){}C.prototype=S.prototype,N.F=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,M,B){for(var x=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)x[ot-2]=arguments[ot];return S.prototype[M].apply(V,x)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)V[M]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(M=0;M<16;++M)V[M]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],M=N.g[2];let B=N.g[3],x;x=S+(B^C&(M^B))+V[0]+3614090360&4294967295,S=C+(x<<7&4294967295|x>>>25),x=B+(M^S&(C^M))+V[1]+3905402710&4294967295,B=S+(x<<12&4294967295|x>>>20),x=M+(C^B&(S^C))+V[2]+606105819&4294967295,M=B+(x<<17&4294967295|x>>>15),x=C+(S^M&(B^S))+V[3]+3250441966&4294967295,C=M+(x<<22&4294967295|x>>>10),x=S+(B^C&(M^B))+V[4]+4118548399&4294967295,S=C+(x<<7&4294967295|x>>>25),x=B+(M^S&(C^M))+V[5]+1200080426&4294967295,B=S+(x<<12&4294967295|x>>>20),x=M+(C^B&(S^C))+V[6]+2821735955&4294967295,M=B+(x<<17&4294967295|x>>>15),x=C+(S^M&(B^S))+V[7]+4249261313&4294967295,C=M+(x<<22&4294967295|x>>>10),x=S+(B^C&(M^B))+V[8]+1770035416&4294967295,S=C+(x<<7&4294967295|x>>>25),x=B+(M^S&(C^M))+V[9]+2336552879&4294967295,B=S+(x<<12&4294967295|x>>>20),x=M+(C^B&(S^C))+V[10]+4294925233&4294967295,M=B+(x<<17&4294967295|x>>>15),x=C+(S^M&(B^S))+V[11]+2304563134&4294967295,C=M+(x<<22&4294967295|x>>>10),x=S+(B^C&(M^B))+V[12]+1804603682&4294967295,S=C+(x<<7&4294967295|x>>>25),x=B+(M^S&(C^M))+V[13]+4254626195&4294967295,B=S+(x<<12&4294967295|x>>>20),x=M+(C^B&(S^C))+V[14]+2792965006&4294967295,M=B+(x<<17&4294967295|x>>>15),x=C+(S^M&(B^S))+V[15]+1236535329&4294967295,C=M+(x<<22&4294967295|x>>>10),x=S+(M^B&(C^M))+V[1]+4129170786&4294967295,S=C+(x<<5&4294967295|x>>>27),x=B+(C^M&(S^C))+V[6]+3225465664&4294967295,B=S+(x<<9&4294967295|x>>>23),x=M+(S^C&(B^S))+V[11]+643717713&4294967295,M=B+(x<<14&4294967295|x>>>18),x=C+(B^S&(M^B))+V[0]+3921069994&4294967295,C=M+(x<<20&4294967295|x>>>12),x=S+(M^B&(C^M))+V[5]+3593408605&4294967295,S=C+(x<<5&4294967295|x>>>27),x=B+(C^M&(S^C))+V[10]+38016083&4294967295,B=S+(x<<9&4294967295|x>>>23),x=M+(S^C&(B^S))+V[15]+3634488961&4294967295,M=B+(x<<14&4294967295|x>>>18),x=C+(B^S&(M^B))+V[4]+3889429448&4294967295,C=M+(x<<20&4294967295|x>>>12),x=S+(M^B&(C^M))+V[9]+568446438&4294967295,S=C+(x<<5&4294967295|x>>>27),x=B+(C^M&(S^C))+V[14]+3275163606&4294967295,B=S+(x<<9&4294967295|x>>>23),x=M+(S^C&(B^S))+V[3]+4107603335&4294967295,M=B+(x<<14&4294967295|x>>>18),x=C+(B^S&(M^B))+V[8]+1163531501&4294967295,C=M+(x<<20&4294967295|x>>>12),x=S+(M^B&(C^M))+V[13]+2850285829&4294967295,S=C+(x<<5&4294967295|x>>>27),x=B+(C^M&(S^C))+V[2]+4243563512&4294967295,B=S+(x<<9&4294967295|x>>>23),x=M+(S^C&(B^S))+V[7]+1735328473&4294967295,M=B+(x<<14&4294967295|x>>>18),x=C+(B^S&(M^B))+V[12]+2368359562&4294967295,C=M+(x<<20&4294967295|x>>>12),x=S+(C^M^B)+V[5]+4294588738&4294967295,S=C+(x<<4&4294967295|x>>>28),x=B+(S^C^M)+V[8]+2272392833&4294967295,B=S+(x<<11&4294967295|x>>>21),x=M+(B^S^C)+V[11]+1839030562&4294967295,M=B+(x<<16&4294967295|x>>>16),x=C+(M^B^S)+V[14]+4259657740&4294967295,C=M+(x<<23&4294967295|x>>>9),x=S+(C^M^B)+V[1]+2763975236&4294967295,S=C+(x<<4&4294967295|x>>>28),x=B+(S^C^M)+V[4]+1272893353&4294967295,B=S+(x<<11&4294967295|x>>>21),x=M+(B^S^C)+V[7]+4139469664&4294967295,M=B+(x<<16&4294967295|x>>>16),x=C+(M^B^S)+V[10]+3200236656&4294967295,C=M+(x<<23&4294967295|x>>>9),x=S+(C^M^B)+V[13]+681279174&4294967295,S=C+(x<<4&4294967295|x>>>28),x=B+(S^C^M)+V[0]+3936430074&4294967295,B=S+(x<<11&4294967295|x>>>21),x=M+(B^S^C)+V[3]+3572445317&4294967295,M=B+(x<<16&4294967295|x>>>16),x=C+(M^B^S)+V[6]+76029189&4294967295,C=M+(x<<23&4294967295|x>>>9),x=S+(C^M^B)+V[9]+3654602809&4294967295,S=C+(x<<4&4294967295|x>>>28),x=B+(S^C^M)+V[12]+3873151461&4294967295,B=S+(x<<11&4294967295|x>>>21),x=M+(B^S^C)+V[15]+530742520&4294967295,M=B+(x<<16&4294967295|x>>>16),x=C+(M^B^S)+V[2]+3299628645&4294967295,C=M+(x<<23&4294967295|x>>>9),x=S+(M^(C|~B))+V[0]+4096336452&4294967295,S=C+(x<<6&4294967295|x>>>26),x=B+(C^(S|~M))+V[7]+1126891415&4294967295,B=S+(x<<10&4294967295|x>>>22),x=M+(S^(B|~C))+V[14]+2878612391&4294967295,M=B+(x<<15&4294967295|x>>>17),x=C+(B^(M|~S))+V[5]+4237533241&4294967295,C=M+(x<<21&4294967295|x>>>11),x=S+(M^(C|~B))+V[12]+1700485571&4294967295,S=C+(x<<6&4294967295|x>>>26),x=B+(C^(S|~M))+V[3]+2399980690&4294967295,B=S+(x<<10&4294967295|x>>>22),x=M+(S^(B|~C))+V[10]+4293915773&4294967295,M=B+(x<<15&4294967295|x>>>17),x=C+(B^(M|~S))+V[1]+2240044497&4294967295,C=M+(x<<21&4294967295|x>>>11),x=S+(M^(C|~B))+V[8]+1873313359&4294967295,S=C+(x<<6&4294967295|x>>>26),x=B+(C^(S|~M))+V[15]+4264355552&4294967295,B=S+(x<<10&4294967295|x>>>22),x=M+(S^(B|~C))+V[6]+2734768916&4294967295,M=B+(x<<15&4294967295|x>>>17),x=C+(B^(M|~S))+V[13]+1309151649&4294967295,C=M+(x<<21&4294967295|x>>>11),x=S+(M^(C|~B))+V[4]+4149444226&4294967295,S=C+(x<<6&4294967295|x>>>26),x=B+(C^(S|~M))+V[11]+3174756917&4294967295,B=S+(x<<10&4294967295|x>>>22),x=M+(S^(B|~C))+V[2]+718787259&4294967295,M=B+(x<<15&4294967295|x>>>17),x=C+(B^(M|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+B&4294967295}s.prototype.v=function(N,S){S===void 0&&(S=N.length);const C=S-this.blockSize,V=this.C;let M=this.h,B=0;for(;B<S;){if(M==0)for(;B<=C;)o(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<S;)if(V[M++]=N.charCodeAt(B++),M==this.blockSize){o(this,V),M=0;break}}else for(;B<S;)if(V[M++]=N[B++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=S},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[S++]=this.g[C]>>>V&255;return N};function u(N,S){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function c(N,S){this.h=S;const C=[];let V=!0;for(let M=N.length-1;M>=0;M--){const B=N[M]|0;V&&B==S||(C[M]=B,V=!1)}this.g=C}var m={};function p(N){return-128<=N&&N<128?u(N,function(S){return new c([S|0],S<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return P(g(-N));const S=[];let C=1;for(let V=0;N>=C;V++)S[V]=N/C|0,C*=4294967296;return new c(S,0)}function v(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return P(v(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(S,8));let V=A;for(let B=0;B<N.length;B+=8){var M=Math.min(8,N.length-B);const x=parseInt(N.substring(B,B+M),S);M<8?(M=g(Math.pow(S,M)),V=V.j(M).add(g(x))):(V=V.j(C),V=V.add(g(x)))}return V}var A=p(0),w=p(1),D=p(16777216);i=c.prototype,i.m=function(){if(j(this))return-P(this).m();let N=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*S,S*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(U(this))return"0";if(j(this))return"-"+P(this).toString(N);const S=g(Math.pow(N,6));var C=this;let V="";for(;;){const M=re(C,S).g;C=K(C,M.j(S));let B=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=M,U(C))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function U(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function j(N){return N.h==-1}i.l=function(N){return N=K(this,N),j(N)?-1:U(N)?0:1};function P(N){const S=N.g.length,C=[];for(let V=0;V<S;V++)C[V]=~N.g[V];return new c(C,~N.h).add(w)}i.abs=function(){return j(this)?P(this):this},i.add=function(N){const S=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let M=0;M<=S;M++){let B=V+(this.i(M)&65535)+(N.i(M)&65535),x=(B>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);V=x>>>16,B&=65535,x&=65535,C[M]=x<<16|B}return new c(C,C[C.length-1]&-2147483648?-1:0)};function K(N,S){return N.add(P(S))}i.j=function(N){if(U(this)||U(N))return A;if(j(this))return j(N)?P(this).j(P(N)):P(P(this).j(N));if(j(N))return P(this.j(P(N)));if(this.l(D)<0&&N.l(D)<0)return g(this.m()*N.m());const S=this.g.length+N.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<N.g.length;M++){const B=this.i(V)>>>16,x=this.i(V)&65535,ot=N.i(M)>>>16,Mt=N.i(M)&65535;C[2*V+2*M]+=x*Mt,Z(C,2*V+2*M),C[2*V+2*M+1]+=B*Mt,Z(C,2*V+2*M+1),C[2*V+2*M+1]+=x*ot,Z(C,2*V+2*M+1),C[2*V+2*M+2]+=B*ot,Z(C,2*V+2*M+2)}for(N=0;N<S;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=S;N<2*S;N++)C[N]=0;return new c(C,0)};function Z(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function q(N,S){this.g=N,this.h=S}function re(N,S){if(U(S))throw Error("division by zero");if(U(N))return new q(A,A);if(j(N))return S=re(P(N),S),new q(P(S.g),P(S.h));if(j(S))return S=re(N,P(S)),new q(P(S.g),S.h);if(N.g.length>30){if(j(N)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var C=w,V=S;V.l(N)<=0;)C=oe(C),V=oe(V);var M=ce(C,1),B=ce(V,1);for(V=ce(V,2),C=ce(C,2);!U(V);){var x=B.add(V);x.l(N)<=0&&(M=M.add(C),B=x),V=ce(V,1),C=ce(C,1)}return S=K(N,M.j(S)),new q(M,S)}for(M=A;N.l(S)>=0;){for(C=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=g(C),x=B.j(S);j(x)||x.l(N)>0;)C-=V,B=g(C),x=B.j(S);U(B)&&(B=w),M=M.add(B),N=K(N,x)}return new q(M,N)}i.B=function(N){return re(this,N).h},i.and=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&N.i(V);return new c(C,this.h&N.h)},i.or=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|N.i(V);return new c(C,this.h|N.h)},i.xor=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^N.i(V);return new c(C,this.h^N.h)};function oe(N){const S=N.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new c(C,N.h)}function ce(N,S){const C=S>>5;S%=32;const V=N.g.length-C,M=[];for(let B=0;B<V;B++)M[B]=S>0?N.i(B+C)>>>S|N.i(B+C+1)<<32-S:N.i(B+C);return new c(M,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,VA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Es=c}).apply(typeof FE<"u"?FE:typeof self<"u"?self:typeof window<"u"?window:{});var Dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kA,cu,PA,Gh,$p,LA,UA,jA;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dh=="object"&&Dh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=t(this);function o(h,y){if(y)e:{var E=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var F=h[R];if(!(F in E))break e;E=E[F]}h=h[h.length-1],R=E[h],y=y(R),y!=R&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],R;for(R in y)Object.prototype.hasOwnProperty.call(y,R)&&E.push([R,y[R]]);return E}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function A(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(R,F,Q){for(var ae=Array(arguments.length-2),we=2;we<arguments.length;we++)ae[we-2]=arguments[we];return y.prototype[F].apply(R,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function D(h){const y=h.length;if(y>0){const E=Array(y);for(let R=0;R<y;R++)E[R]=h[R];return E}return[]}function U(h,y){for(let R=1;R<arguments.length;R++){const F=arguments[R];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=h.length||0;const Q=F.length||0;h.length=E+Q;for(let ae=0;ae<Q;ae++)h[E+ae]=F[ae]}else h.push(F)}}class j{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(h){c.setTimeout(()=>{throw h},0)}function K(){var h=N;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Z{constructor(){this.h=this.g=null}add(y,E){const R=q.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var q=new j(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ce=!1,N=new Z,S=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(C)}};function C(){for(var h;h=K();){try{h.h.call(h.g)}catch(E){P(E)}var y=q;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ce=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function x(h){return/^[\s\xa0]*$/.test(h)}function ot(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}A(ot,M),ot.prototype.init=function(h,y){const E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Mt="closure_listenable_"+(Math.random()*1e6|0),J=0;function le(h,y,E,R,F){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=F,this.key=++J,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ze(h,y,E){for(const R in h)y.call(E,h[R],R,h)}function $e(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function L(h){const y={};for(const E in h)y[E]=h[E];return y}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,y){let E,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(E in R)h[E]=R[E];for(let Q=0;Q<ne.length;Q++)E=ne[Q],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,y,E,R,F){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ae=Ce(h,y,R,F);return ae>-1?(y=h[ae],E||(y.fa=!1)):(y=new le(y,this.src,Q,!!R,F),y.fa=E,h.push(y)),y};function Ae(h,y){const E=y.type;if(E in h.g){var R=h.g[E],F=Array.prototype.indexOf.call(R,y,void 0),Q;(Q=F>=0)&&Array.prototype.splice.call(R,F,1),Q&&(ye(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ce(h,y,E,R){for(let F=0;F<h.length;++F){const Q=h[F];if(!Q.da&&Q.listener==y&&Q.capture==!!E&&Q.ha==R)return F}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Vt={};function lt(h,y,E,R,F){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)lt(h,y[Q],E,R,F);return null}return E=il(E),h&&h[Mt]?h.J(y,E,m(R)?!!R.capture:!1,F):ks(h,y,E,!1,R,F)}function ks(h,y,E,R,F,Q){if(!y)throw Error("Invalid event type");const ae=m(F)?!!F.capture:!!F;let we=Ps(h);if(we||(h[Le]=we=new fe(h)),E=we.add(y,E,R,ae,Q),E.proxy)return E;if(R=Oa(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)B||(F=ae),F===void 0&&(F=!1),h.addEventListener(y.toString(),R,F);else if(h.attachEvent)h.attachEvent(vi(y.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Oa(){function h(E){return y.call(h.src,h.listener,E)}const y=tl;return h}function Ma(h,y,E,R,F){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Ma(h,y[Q],E,R,F);else R=m(R)?!!R.capture:!!R,E=il(E),h&&h[Mt]?(h=h.i,Q=String(y).toString(),Q in h.g&&(y=h.g[Q],E=Ce(y,E,R,F),E>-1&&(ye(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Ps(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ce(y,E,R,F)),(E=h>-1?y[h]:null)&&Va(E))}function Va(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Mt])Ae(y.i,h);else{var E=h.type,R=h.proxy;y.removeEventListener?y.removeEventListener(E,R,h.capture):y.detachEvent?y.detachEvent(vi(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=Ps(y))?(Ae(E,h),E.h==0&&(E.src=null,y[Le]=null)):ye(h)}}}function vi(h){return h in Vt?Vt[h]:Vt[h]="on"+h}function tl(h,y){if(h.da)h=!0;else{y=new ot(y,this);const E=h.listener,R=h.ha||h.src;h.fa&&Va(h),h=E.call(R,y)}return h}function Ps(h){return h=h[Le],h instanceof fe?h:null}var nl="__closure_events_fn_"+(Math.random()*1e9>>>0);function il(h){return typeof h=="function"?h:(h[nl]||(h[nl]=function(y){return h.handleEvent(y)}),h[nl])}function Tt(){V.call(this),this.i=new fe(this),this.M=this,this.G=null}A(Tt,V),Tt.prototype[Mt]=!0,Tt.prototype.removeEventListener=function(h,y,E,R){Ma(this,h,y,E,R)};function kt(h,y){var E,R=h.G;if(R)for(E=[];R;R=R.G)E.push(R);if(h=h.M,R=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var F=y;y=new M(R,h),ue(y,F)}F=!0;let Q,ae;if(E)for(ae=E.length-1;ae>=0;ae--)Q=y.g=E[ae],F=xr(Q,R,!0,y)&&F;if(Q=y.g=h,F=xr(Q,R,!0,y)&&F,F=xr(Q,R,!1,y)&&F,E)for(ae=0;ae<E.length;ae++)Q=y.g=E[ae],F=xr(Q,R,!1,y)&&F}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let R=0;R<E.length;R++)ye(E[R]);delete h.g[y],h.h--}}this.G=null},Tt.prototype.J=function(h,y,E,R){return this.i.add(String(h),y,!1,E,R)},Tt.prototype.K=function(h,y,E,R){return this.i.add(String(h),y,!0,E,R)};function xr(h,y,E,R){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let Q=0;Q<y.length;++Q){const ae=y[Q];if(ae&&!ae.da&&ae.capture==E){const we=ae.listener,yt=ae.ha||ae.src;ae.fa&&Ae(h.i,ae),F=we.call(yt,R)!==!1&&F}}return F&&!R.defaultPrevented}function cd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Ju(h){h.g=cd(()=>{h.g=null,h.i&&(h.i=!1,Ju(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class sn extends V{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ju(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(h){V.call(this),this.h=h,this.g={}}A(Ls,V);var rl=[];function sl(h){ze(h.g,function(y,E){this.g.hasOwnProperty(E)&&Va(y)},h),h.g={}}Ls.prototype.N=function(){Ls.Z.N.call(this),sl(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Or=c.JSON.stringify,hd=c.JSON.parse,Zu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ec(){}function tc(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){M.call(this,"d")}A(Ht,M);function Un(){M.call(this,"c")}A(Un,M);var gt={},nc=null;function ka(){return nc=nc||new Tt}gt.Ia="serverreachability";function ic(h){M.call(this,gt.Ia,h)}A(ic,M);function Ei(h){const y=ka();kt(y,new ic(y))}gt.STAT_EVENT="statevent";function Us(h,y){M.call(this,gt.STAT_EVENT,h),this.stat=y}A(Us,M);function At(h){const y=ka();kt(y,new Us(y,h))}gt.Ja="timingevent";function Ti(h,y){M.call(this,gt.Ja,h),this.size=y}A(Ti,M);function Ai(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function fd(h,y,E,R,F,Q){h.info(function(){if(h.g)if(Q){var ae="",we=Q.split("&");for(let Fe=0;Fe<we.length;Fe++){var yt=we[Fe].split("=");if(yt.length>1){const ut=yt[0];yt=yt[1];const qn=ut.split("_");ae=qn.length>=2&&qn[1]=="type"?ae+(ut+"="+yt+"&"):ae+(ut+"=redacted&")}}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+y+`
`+E+`
`+ae})}function rc(h,y,E,R,F,Q,ae){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+y+`
`+E+`
`+Q+" "+ae})}function Si(h,y,E,R){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+dd(h,E)+(R?" "+R:"")})}function js(h,y){h.info(function(){return"TIMEOUT: "+y})}ii.prototype.info=function(){};function dd(h,y){if(!h.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var F=R[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ae=1;ae<R.length;ae++)R[ae]=""}}}}return Or(Q)}catch{return y}}var zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function Bs(){}A(Bs,ec),Bs.prototype.g=function(){return new XMLHttpRequest},ol=new Bs;function tr(h){return encodeURIComponent(String(h))}function sc(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function ri(h,y,E,R){this.j=h,this.i=y,this.l=E,this.S=R||1,this.V=new Ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var St={},jt={};function bi(h,y,E){h.M=1,h.A=qs(wt(y)),h.u=E,h.R=!0,Pa(h,null)}function Pa(h,y){h.F=Date.now(),wi(h),h.B=wt(h.A);var E=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),za(E.i,"t",R),h.C=0,E=h.j.L,h.h=new si,h.g=Ec(h.j,E?y:null,!h.u),h.P>0&&(h.O=new sn(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,R=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(rl[0]=F.toString()),F=rl);for(let Q=0;Q<F.length;Q++){const ae=lt(E,F[Q],R||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Ei(),fd(h.i,h.v,h.B,h.l,h.S,h.u)}ri.prototype.ba=function(h){h=h.target;const y=this.O;y&&li(h)==3?y.j():this.Y(h)},ri.prototype.Y=function(h){try{if(h==this.g)e:{const we=li(this.g),yt=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||we!=4||yt==7||(yt==8||Fe<=0?Ei(3):Ei(2)),Ri(this);var y=this.g.ca();this.X=y;var E=md(this);if(this.o=y==200,rc(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var R,F=this.g;if((R=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(R)){var Q=R;break t}}Q=null}if(h=Q)Si(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,h);else{this.o=!1,this.m=3,At(12),Tn(this),jn(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=oc(this,E),ut==jt){we==4&&(this.m=4,At(14),h=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==St){this.m=4,At(15),Si(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Si(this.i,this.l,ut,null),Ci(this,ut);if(ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||E.length!=0||this.h.h||(this.m=1,At(16),h=!1),this.o=this.o&&h,!h)Si(this.i,this.l,E,"[Invalid Chunked Response]"),Tn(this),jn(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Al(ae),ae.P=!0,At(11))}}else Si(this.i,this.l,E,null),Ci(this,E);we==4&&Tn(this),this.o&&!this.K&&(we==4?gc(this.j,this):(this.o=!1,wi(this)))}else ir(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Tn(this),jn(this)}}}catch{}};function md(h){if(!ac(h))return h.g.la();const y=Gt(h.g);if(y==="")return"";let E="";const R=y.length,F=li(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Tn(h),jn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<R;Q++)h.h.h=!0,E+=h.h.i.decode(y[Q],{stream:!(F&&Q==R-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function ac(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function oc(h,y){var E=h.C,R=y.indexOf(`
`,E);return R==-1?jt:(E=Number(y.substring(E,R)),isNaN(E)?St:(R+=1,R+E>y.length?jt:(y=y.slice(R,R+E),h.C=R+E,y)))}ri.prototype.cancel=function(){this.K=!0,Tn(this)};function wi(h){h.T=Date.now()+h.H,La(h,h.H)}function La(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ai(g(h.aa,h),y)}function Ri(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ri.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(js(this.i,this.B),this.M!=2&&(Ei(),At(17)),Tn(this),this.m=2,jn(this)):La(this,this.T-h)};function jn(h){h.j.I==0||h.K||gc(h.j,h)}function Tn(h){Ri(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,sl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ci(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Ni(E.h,h))){if(!h.L&&Ni(E.h,h)&&E.I==3){try{var R=E.Ba.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ga(E),zr(E);else break e;Ys(E),At(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ai(g(E.Va,E),6e3));Ii(E.h)<=1&&E.ta&&(E.ta=void 0)}else ki(E,11)}else if((h.L||E.g==h)&&Ga(E),!x(y))for(F=E.Ba.g.parse(y),y=0;y<F.length;y++){let Fe=F[y];const ut=Fe[0];if(!(ut<=E.K))if(E.K=ut,Fe=Fe[1],E.I==2)if(Fe[0]=="c"){E.M=Fe[1],E.ba=Fe[2];const qn=Fe[3];qn!=null&&(E.ka=qn,E.j.info("VER="+E.ka));const Pi=Fe[4];Pi!=null&&(E.za=Pi,E.j.info("SVER="+E.za));const ui=Fe[5];ui!=null&&typeof ui=="number"&&ui>0&&(R=1.5*ui,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const ci=h.g;if(ci){const Xs=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xs){var Q=R.h;Q.g||Xs.indexOf("spdy")==-1&&Xs.indexOf("quic")==-1&&Xs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(cl(Q,Q.h),Q.h=null))}if(R.G){const $a=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(R.wa=$a,Ke(R.J,R.G,$a))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ae=h;if(R.na=vc(R,R.L?R.ba:null,R.W),ae.L){hl(R.h,ae);var we=ae,yt=R.O;yt&&(we.H=yt),we.D&&(Ri(we),wi(we)),R.g=ae}else mc(R);E.i.length>0&&Vi(E)}else Fe[0]!="stop"&&Fe[0]!="close"||ki(E,7);else E.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?ki(E,7):El(E):Fe[0]!="noop"&&E.l&&E.l.qa(Fe),E.A=0)}}Ei(4)}catch{}}var bt=class{constructor(h,y){this.g=h,this.map=y}};function ll(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ul(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ii(h){return h.h?1:h.g?h.g.size:0}function Ni(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function cl(h,y){h.g?h.g.add(y):h.h=y}function hl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ll.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function fl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return D(h.i)}var lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const R=h[E].indexOf("=");let F,Q=null;R>=0?(F=h[E].substring(0,R),Q=h[E].substring(R+1)):F=h[E],y(F,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof An?(this.l=h.l,zt(this,h.j),this.o=h.o,this.g=h.g,Mr(this,h.u),this.h=h.h,dl(this,fc(h.i)),this.m=h.m):h&&(y=String(h).match(lc))?(this.l=!1,zt(this,y[1]||"",!0),this.o=Di(y[2]||""),this.g=Di(y[3]||"",!0),Mr(this,y[4]),this.h=Di(y[5]||"",!0),dl(this,y[6]||"",!0),this.m=Di(y[7]||"")):(this.l=!1,this.i=new kr(null,this.l))}An.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Fs(y,ja,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Fs(y,ja,!0),"@"),h.push(tr(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Fs(E,E.charAt(0)=="/"?ml:uc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Fs(E,cc)),h.join("")},An.prototype.resolve=function(h){const y=wt(this);let E=!!h.j;E?zt(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var R=h.h;if(E)Mr(y,h.u);else if(E=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var F=y.h.lastIndexOf("/");F!=-1&&(R=y.h.slice(0,F+1)+R)}if(F=R,F==".."||F==".")R="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){R=F.lastIndexOf("/",0)==0,F=F.split("/");const Q=[];for(let ae=0;ae<F.length;){const we=F[ae++];we=="."?R&&ae==F.length&&Q.push(""):we==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),R&&ae==F.length&&Q.push("")):(Q.push(we),R=!0)}R=Q.join("/")}else R=F}return E?y.h=R:E=h.i.toString()!=="",E?dl(y,fc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function wt(h){return new An(h)}function zt(h,y,E){h.j=E?Di(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Mr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function dl(h,y,E){y instanceof kr?(h.i=y,Ba(h.i,h.l)):(E||(y=Fs(y,Vr)),h.i=new kr(y,h.l))}function Ke(h,y,E){h.i.set(y,E)}function qs(h){return Ke(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Di(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Fs(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,fn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ja=/[#\/\?@]/g,uc=/[#\?:]/g,ml=/[#\?]/g,Vr=/[#\?@]/g,cc=/#/g;function kr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ua(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=kr.prototype,i.add=function(h,y){dn(this),this.i=null,h=Pr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function hc(h,y){dn(h),y=Pr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function pl(h,y){return dn(h),y=Pr(h,y),h.g.has(y)}i.forEach=function(h,y){dn(this),this.g.forEach(function(E,R){E.forEach(function(F){h.call(y,F,R,this)},this)},this)};function gl(h,y){dn(h);let E=[];if(typeof y=="string")pl(h,y)&&(E=E.concat(h.g.get(Pr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return dn(this),this.i=null,h=Pr(this,h),pl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=gl(this,h),h.length>0?String(h[0]):y):y};function za(h,y,E){hc(h,y),E.length>0&&(h.i=null,h.g.set(Pr(h,y),D(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let R=0;R<y.length;R++){var E=y[R];const F=tr(E);E=gl(this,E);for(let Q=0;Q<E.length;Q++){let ae=F;E[Q]!==""&&(ae+="="+tr(E[Q])),h.push(ae)}}return this.i=h.join("&")};function fc(h){const y=new kr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Pr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ba(h,y){y&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(E,R){const F=R.toLowerCase();R!=F&&(hc(this,R),za(this,F,E))},h)),h.j=y}function ai(h,y){const E=new ii;if(c.Image){const R=new Image;R.onload=v(zn,E,"TestLoadImage: loaded",!0,y,R),R.onerror=v(zn,E,"TestLoadImage: error",!1,y,R),R.onabort=v(zn,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=v(zn,E,"TestLoadImage: timeout",!1,y,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else y(!1)}function yl(h,y){const E=new ii,R=new AbortController,F=setTimeout(()=>{R.abort(),zn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:R.signal}).then(Q=>{clearTimeout(F),Q.ok?zn(E,"TestPingServer: ok",!0,y):zn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),zn(E,"TestPingServer: error",!1,y)})}function zn(h,y,E,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(E)}catch{}}function Lr(){this.g=new Zu}function xi(h){this.i=h.Sb||null,this.h=h.ab||!1}A(xi,ec),xi.prototype.g=function(){return new Hs(this.i,this.h)};function Hs(h,y){Tt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Hs,Tt),i=Hs.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,oi(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function qa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Ur(this):oi(this),this.readyState==3&&qa(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Ur(this))},i.Na=function(h){this.g&&(this.response=h,Ur(this))},i.ga=function(){this.g&&Ur(this)};function Ur(h){h.readyState=4,h.l=null,h.j=null,h.B=null,oi(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function oi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Bn(h){let y="";return ze(h,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function Gs(h,y,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Bn(E),typeof h=="string"?E!=null&&tr(E):Ke(h,y,E))}function We(h){Tt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(We,Tt);var Oi=/^https?$/i,_l=["POST","PUT"];i=We.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Q){$s(this,Q);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)E.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())E.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(_l,y,void 0)>=0)||R||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of E)this.g.setRequestHeader(Q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){$s(this,Q)}};function $s(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,vl(h),nr(h)}function vl(h){h.A||(h.A=!0,kt(h,"complete"),kt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,kt(this,"complete"),kt(this,"abort"),nr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),We.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ks(this):this.Xa())},i.Xa=function(){Ks(this)};function Ks(h){if(h.h&&typeof u<"u"){if(h.v&&li(h)==4)setTimeout(h.Ca.bind(h),0);else if(kt(h,"readystatechange"),li(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var R;if(R=Q===0){let ae=String(h.D).match(lc)[1]||null;!ae&&c.self&&c.self.location&&(ae=c.self.location.protocol.slice(0,-1)),R=!Oi.test(ae?ae.toLowerCase():"")}E=R}if(E)kt(h,"complete"),kt(h,"success");else{h.o=6;try{var F=li(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",vl(h)}}finally{nr(h)}}}}function nr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||kt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function li(h){return h.g?h.g.readyState:0}i.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),hd(y)}};function Gt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ir(h){const y={};h=(h.g&&li(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(x(h[R]))continue;var E=sc(h[R]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=y[F]||[];y[F]=Q,Q.push(E)}$e(y,function(R){return R.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function jr(h){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,h),this.Za=Mi("retryDelaySeedMs",1e4,h),this.Ta=Mi("forwardChannelMaxRetries",2,h),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ll(h&&h.concurrentRequestLimit),this.Ba=new Lr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=jr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,R){At(0),this.W=h,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=vc(this,null,this.W),Vi(this)};function El(h){if(Fa(h),h.I==3){var y=h.V++,E=wt(h.J);if(Ke(E,"SID",h.M),Ke(E,"RID",y),Ke(E,"TYPE","terminate"),Qs(h,E),y=new ri(h,h.j,y),y.M=2,y.A=qs(wt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=Ec(y.j,null),y.g.ea(y.A)),y.F=Date.now(),wi(y)}_c(h)}function zr(h){h.g&&(Al(h),h.g.cancel(),h.g=null)}function Fa(h){zr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ga(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Vi(h){if(!ul(h.h)&&!h.m){h.m=!0;var y=h.Ea;oe||S(),ce||(oe(),ce=!0),N.add(y,h),h.D=0}}function Ha(h,y){return Ii(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ai(g(h.Ea,h,y),yc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new ri(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=L(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(F.J=Q,Q=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=dc(this,F,y),E=wt(this.J),Ke(E,"RID",h),Ke(E,"CVER",22),this.G&&Ke(E,"X-HTTP-Session-Id",this.G),Qs(this,E),Q&&(this.R?y="headers="+tr(Bn(Q))+"&"+y:this.u&&Gs(E,this.u,Q)),cl(this.h,F),this.Ra&&Ke(E,"TYPE","init"),this.S?(Ke(E,"$req",y),Ke(E,"SID","null"),F.U=!0,bi(F,E,null)):bi(F,E,y),this.I=2}}else this.I==3&&(h?Tl(this,h):this.i.length==0||ul(this.h)||Tl(this))};function Tl(h,y){var E;y?E=y.l:E=h.V++;const R=wt(h.J);Ke(R,"SID",h.M),Ke(R,"RID",E),Ke(R,"AID",h.K),Qs(h,R),h.u&&h.o&&Gs(R,h.u,h.o),E=new ri(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=dc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),cl(h.h,E),bi(E,R,y)}function Qs(h,y){h.H&&ze(h.H,function(E,R){Ke(y,R,E)}),h.l&&ze({},function(E,R){Ke(y,R,E)})}function dc(h,y,E){E=Math.min(h.i.length,E);const R=h.l?g(h.l.Ka,h.l,h):null;e:{var F=h.i;let we=-1;for(;;){const yt=["count="+E];we==-1?E>0?(we=F[0].g,yt.push("ofs="+we)):we=0:yt.push("ofs="+we);let Fe=!0;for(let ut=0;ut<E;ut++){var Q=F[ut].g;const qn=F[ut].map;if(Q-=we,Q<0)we=Math.max(0,F[ut].g-100),Fe=!1;else try{Q="req"+Q+"_"||"";try{var ae=qn instanceof Map?qn:Object.entries(qn);for(const[Pi,ui]of ae){let ci=ui;m(ui)&&(ci=Or(ui)),yt.push(Q+Pi+"="+encodeURIComponent(ci))}}catch(Pi){throw yt.push(Q+"type="+encodeURIComponent("_badmap")),Pi}}catch{R&&R(qn)}}if(Fe){ae=yt.join("&");break e}}ae=void 0}return h=h.i.splice(0,E),y.G=h,ae}function mc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;oe||S(),ce||(oe(),ce=!0),N.add(y,h),h.A=0}}function Ys(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ai(g(h.Da,h),yc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,pc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ai(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),zr(this),pc(this))};function Al(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function pc(h){h.g=new ri(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=wt(h.na);Ke(y,"RID","rpc"),Ke(y,"SID",h.M),Ke(y,"AID",h.K),Ke(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ke(y,"TO",h.ia),Ke(y,"TYPE","xmlhttp"),Qs(h,y),h.u&&h.o&&Gs(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=qs(wt(y)),E.u=null,E.R=!0,Pa(E,h)}i.Va=function(){this.C!=null&&(this.C=null,zr(this),Ys(this),At(19))};function Ga(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function gc(h,y){var E=null;if(h.g==y){Ga(h),Al(h),h.g=null;var R=2}else if(Ni(h.h,y))E=y.G,hl(h.h,y),R=1;else return;if(h.I!=0){if(y.o)if(R==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var F=h.D;R=ka(),kt(R,new Ti(R,E)),Vi(h)}else mc(h);else if(F=y.m,F==3||F==0&&y.X>0||!(R==1&&Ha(h,y)||R==2&&Ys(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),F){case 1:ki(h,5);break;case 4:ki(h,10);break;case 3:ki(h,6);break;default:ki(h,2)}}}function yc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function ki(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),R=h.Ua;const F=!R;R=new An(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||zt(R,"https"),qs(R),F?ai(R.toString(),E):yl(R.toString(),E)}else At(2);h.I=0,h.l&&h.l.pa(y),_c(h),Fa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function _c(h){if(h.I=0,h.ja=[],h.l){const y=fl(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ja,y),U(h.ja,h.i),h.h.i.length=0,D(h.i),h.i.length=0),h.l.oa()}}function vc(h,y,E){var R=E instanceof An?wt(E):new An(E);if(R.g!="")y&&(R.g=y+"."+R.g),Mr(R,R.u);else{var F=c.location;R=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const Q=new An(null);R&&zt(Q,R),y&&(Q.g=y),F&&Mr(Q,F),E&&(Q.h=E),R=Q}return E=h.G,y=h.wa,E&&y&&Ke(R,E,y),Ke(R,"VER",h.ka),Qs(h,R),R}function Ec(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new We(new xi({ab:E})):new We(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}i=Tc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Br(){}Br.prototype.g=function(h,y){return new an(h,y)};function an(h,y){Tt.call(this),this.g=new jr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!x(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new rr(this)}A(an,Tt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){El(this.g)},an.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Or(h),h=E);y.i.push(new bt(y.Ya++,h)),y.I==3&&Vi(y)},an.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,an.Z.N.call(this)};function Ac(h){Ht.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}A(Ac,Ht);function Sc(){Un.call(this),this.status=1}A(Sc,Un);function rr(h){this.g=h}A(rr,Tc),rr.prototype.ra=function(){kt(this.g,"a")},rr.prototype.qa=function(h){kt(this.g,new Ac(h))},rr.prototype.pa=function(h){kt(this.g,new Sc)},rr.prototype.oa=function(){kt(this.g,"b")},Br.prototype.createWebChannel=Br.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,jA=function(){return new Br},UA=function(){return ka()},LA=gt,$p={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Gh=zs,al.COMPLETE="complete",PA=al,tc.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,cu=tc,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,kA=We}).apply(typeof Dh<"u"?Dh:typeof self<"u"?self:typeof window<"u"?window:{});const HE="@firebase/firestore",GE="4.9.3";class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Wo="12.7.0";const va=new Mf("@firebase/firestore");function So(){return va.logLevel}function he(i,...e){if(va.logLevel<=Me.DEBUG){const t=e.map(Vg);va.debug(`Firestore (${Wo}): ${i}`,...t)}}function Ir(i,...e){if(va.logLevel<=Me.ERROR){const t=e.map(Vg);va.error(`Firestore (${Wo}): ${i}`,...t)}}function Lo(i,...e){if(va.logLevel<=Me.WARN){const t=e.map(Vg);va.warn(`Firestore (${Wo}): ${i}`,...t)}}function Vg(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function _e(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,zA(i,s,t)}function zA(i,e,t){let s=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ir(s),new Error(s)}function je(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||zA(e,o,s)}function Se(i,e){return i}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class BA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(tn.UNAUTHENTICATED)))}shutdown(){}}class Qx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Yx{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gi,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gi)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(je(typeof s.accessToken=="string",31837,{l:s}),new BA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class Xx{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Wx{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new Xx(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $E{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){je(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $E(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $E(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Zx(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class kg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Zx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Kp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return bp(o)===bp(u)?Ve(o,u):bp(o)?1:-1}return Ve(i.length,e.length)}const e4=55296,t4=57343;function bp(i){const e=i.charCodeAt(0);return e>=e4&&e<=t4}function Uo(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}const KE="__name__";class Bi{constructor(e,t,s){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&_e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Bi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ve(e.length,t.length)}static compareSegments(e,t){const s=Bi.isNumericId(e),o=Bi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Bi.extractNumericId(e).compare(Bi.extractNumericId(t)):Kp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class Xe extends Bi{construct(e,t,s){return new Xe(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Xe(t)}static emptyPath(){return new Xe([])}}const n4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Bi{construct(e,t,s){return new Wt(e,t,s)}static isValidIdentifier(e){return n4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===KE}static keyField(){return new Wt([KE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new se(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new se(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new se(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(Xe.fromString(e))}static fromName(e){return new pe(Xe.fromString(e).popFirst(5))}static empty(){return new pe(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new Xe(e.slice()))}}function qA(i,e,t){if(!t)throw new se(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function i4(i,e,t,s){if(e===!0&&s===!0)throw new se(X.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function QE(i){if(!pe.isDocumentKey(i))throw new se(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function YE(i){if(pe.isDocumentKey(i))throw new se(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function FA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function jf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":_e(12329,{type:typeof i})}function Mn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new se(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jf(i);throw new se(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function r4(i,e){if(e<=0)throw new se(X.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function Ot(i,e){const t={typeString:i};return e&&(t.value=e),t}function Bu(i,e){if(!FA(i))throw new se(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new se(X.INVALID_ARGUMENT,t);return!0}const XE=-62135596800,WE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*WE);return new it(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<XE)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-XE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Ot("string",it._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new it(0,0))}static max(){return new Ee(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wu=-1;function s4(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new it(t+1,0):new it(t,s));return new bs(o,pe.empty(),e)}function a4(i){return new bs(i.readTime,i.key,wu)}class bs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new bs(Ee.min(),pe.empty(),wu)}static max(){return new bs(Ee.max(),pe.empty(),wu)}}function o4(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(i.documentKey,e.documentKey),t!==0?t:Ve(i.largestBatchId,e.largestBatchId))}const l4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Jo(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==l4)throw i;he("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,s)=>{t(e)}))}static reject(e){return new ie(((t,s)=>{s(e)}))}static waitFor(e){return new ie(((t,s)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&t()}),(p=>s(p)))})),c=!0,u===o&&t()}))}static or(e){let t=ie.resolve(!1);for(const s of e)t=t.next((o=>o?ie.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,u)=>{s.push(t.call(this,o,u))})),this.waitFor(s)}static mapArray(e,t){return new ie(((s,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++m,m===u&&s(c)}),(v=>o(v)))}}))}static doWhile(e,t){return new ie(((s,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):s()};u()}))}}function c4(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zo(i){return i.name==="IndexedDbTransactionError"}class zf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zf.ce=-1;const Pg=-1;function qu(i){return i==null}function uf(i){return i===0&&1/i==-1/0}function h4(i){return typeof i=="number"&&Number.isInteger(i)&&!uf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const HA="";function f4(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=JE(e)),e=d4(i.get(t),e);return JE(e)}function d4(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case HA:t+="";break;default:t+=u}}return t}function JE(i){return i+HA+""}function ZE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ms(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function GA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ft{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Xt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eT(this.data.getIterator())}getIteratorFrom(e){return new eT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class eT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new On([])}unionWith(e){let t=new Ut(Wt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class $A extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $A("Invalid base64 string: "+u):u}})(e);return new Jt(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const m4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(i){if(je(!!i,39018),typeof i=="string"){let e=0;const t=m4.exec(i);if(je(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Rs(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}const KA="server_timestamp",QA="__type__",YA="__previous_value__",XA="__local_write_time__";function Bf(i){return(i?.mapValue?.fields||{})[QA]?.stringValue===KA}function qf(i){const e=i.mapValue.fields[YA];return Bf(e)?qf(e):e}function Ru(i){const e=ws(i.mapValue.fields[XA].timestampValue);return new it(e.seconds,e.nanos)}class p4{constructor(e,t,s,o,u,c,m,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const cf="(default)";class Cu{constructor(e,t){this.projectId=e,this.database=t||cf}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===cf}isEqual(e){return e instanceof Cu&&e.projectId===this.projectId&&e.database===this.database}}const WA="__type__",g4="__max__",Oh={mapValue:{}},JA="__vector__",hf="value";function Cs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Bf(i)?4:_4(i)?9007199254740991:y4(i)?10:11:_e(28295,{value:i})}function Yi(i,e){if(i===e)return!0;const t=Cs(i);if(t!==Cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ru(i).isEqual(Ru(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=ws(o.timestampValue),m=ws(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Rs(o.bytesValue).isEqual(Rs(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Et(o.doubleValue),m=Et(u.doubleValue);return c===m?uf(c)===uf(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return Uo(i.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(ZE(c)!==ZE(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!Yi(c[p],m[p])))return!1;return!0})(i,e);default:return _e(52216,{left:i})}}function Iu(i,e){return(i.values||[]).find((t=>Yi(t,e)))!==void 0}function jo(i,e){if(i===e)return 0;const t=Cs(i),s=Cs(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=Et(u.integerValue||u.doubleValue),p=Et(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return tT(i.timestampValue,e.timestampValue);case 4:return tT(Ru(i),Ru(e));case 5:return Kp(i.stringValue,e.stringValue);case 6:return(function(u,c){const m=Rs(u),p=Rs(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ve(m[g],p[g]);if(v!==0)return v}return Ve(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=Ve(Et(u.latitude),Et(c.latitude));return m!==0?m:Ve(Et(u.longitude),Et(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return nT(i.arrayValue,e.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[hf]?.arrayValue,v=p[hf]?.arrayValue,A=Ve(g?.values?.length||0,v?.values?.length||0);return A!==0?A:nT(g,v)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Oh.mapValue&&c===Oh.mapValue)return 0;if(u===Oh.mapValue)return 1;if(c===Oh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let A=0;A<p.length&&A<v.length;++A){const w=Kp(p[A],v[A]);if(w!==0)return w;const D=jo(m[p[A]],g[v[A]]);if(D!==0)return D}return Ve(p.length,v.length)})(i.mapValue,e.mapValue);default:throw _e(23264,{he:t})}}function tT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const t=ws(i),s=ws(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function nT(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=jo(t[o],s[o]);if(u)return u}return Ve(t.length,s.length)}function zo(i){return Qp(i)}function Qp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=ws(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Rs(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return pe.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Qp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Qp(t.fields[c])}`;return o+"}"})(i.mapValue):_e(61005,{value:i})}function $h(i){switch(Cs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qf(i);return e?16+$h(e):16;case 5:return 2*i.stringValue.length;case 6:return Rs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+$h(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ms(s.fields,((u,c)=>{o+=u.length+$h(c)})),o})(i.mapValue);default:throw _e(13486,{value:i})}}function ff(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Yp(i){return!!i&&"integerValue"in i}function Lg(i){return!!i&&"arrayValue"in i}function iT(i){return!!i&&"nullValue"in i}function rT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Kh(i){return!!i&&"mapValue"in i}function y4(i){return(i?.mapValue?.fields||{})[WA]?.stringValue===JA}function yu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ms(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=yu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yu(i.arrayValue.values[t]);return e}return{...i}}function _4(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===g4}class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(t)}setAll(e){let t=Wt.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}c?s[m.lastSegment()]=yu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Kh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ms(t,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new un(yu(this.value))}}function ZA(i){const e=[];return Ms(i.fields,((t,s)=>{const o=new Wt([t]);if(Kh(s)){const u=ZA(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new On(e)}class Ft{constructor(e,t,s,o,u,c,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,Ee.min(),Ee.min(),Ee.min(),un.empty(),0)}static newFoundDocument(e,t,s,o){return new Ft(e,1,t,Ee.min(),s,o,0)}static newNoDocument(e,t){return new Ft(e,2,t,Ee.min(),Ee.min(),un.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,Ee.min(),Ee.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bo{constructor(e,t){this.position=e,this.inclusive=t}}function sT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(c.referenceValue),t.key):s=jo(c,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function aT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Yi(i.position[t],e.position[t]))return!1;return!0}class Nu{constructor(e,t="asc"){this.field=e,this.dir=t}}function v4(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class eS{}class xt extends eS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new T4(e,t,s):t==="array-contains"?new b4(e,s):t==="in"?new w4(e,s):t==="not-in"?new R4(e,s):t==="array-contains-any"?new C4(e,s):new xt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new A4(e,s):new S4(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(jo(t,this.value)):t!==null&&Cs(this.value)===Cs(t)&&this.matchesComparison(jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends eS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new _i(e,t)}matches(e){return tS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tS(i){return i.op==="and"}function nS(i){return E4(i)&&tS(i)}function E4(i){for(const e of i.filters)if(e instanceof _i)return!1;return!0}function Xp(i){if(i instanceof xt)return i.field.canonicalString()+i.op.toString()+zo(i.value);if(nS(i))return i.filters.map((e=>Xp(e))).join(",");{const e=i.filters.map((t=>Xp(t))).join(",");return`${i.op}(${e})`}}function iS(i,e){return i instanceof xt?(function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Yi(s.value,o.value)})(i,e):i instanceof _i?(function(s,o){return o instanceof _i&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,m)=>u&&iS(c,o.filters[m])),!0):!1})(i,e):void _e(19439)}function rS(i){return i instanceof xt?(function(t){return`${t.field.canonicalString()} ${t.op} ${zo(t.value)}`})(i):i instanceof _i?(function(t){return t.op.toString()+" {"+t.getFilters().map(rS).join(" ,")+"}"})(i):"Filter"}class T4 extends xt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class A4 extends xt{constructor(e,t){super(e,"in",t),this.keys=sS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class S4 extends xt{constructor(e,t){super(e,"not-in",t),this.keys=sS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function sS(i,e){return(e.arrayValue?.values||[]).map((t=>pe.fromName(t.referenceValue)))}class b4 extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Lg(t)&&Iu(t.arrayValue,this.value)}}class w4 extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Iu(this.value.arrayValue,t)}}class R4 extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Iu(this.value.arrayValue,t)}}class C4 extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Lg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Iu(this.value.arrayValue,s)))}}class I4{constructor(e,t=null,s=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function oT(i,e=null,t=[],s=[],o=null,u=null,c=null){return new I4(i,e,t,s,o,u,c)}function Ug(i){const e=Se(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Xp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),qu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>zo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>zo(s))).join(",")),e.Te=t}return e.Te}function jg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!v4(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!iS(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!aT(i.startAt,e.startAt)&&aT(i.endAt,e.endAt)}function Wp(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Ia{constructor(e,t=null,s=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function N4(i,e,t,s,o,u,c,m){return new Ia(i,e,t,s,o,u,c,m)}function Ff(i){return new Ia(i)}function lT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function zg(i){return i.collectionGroup!==null}function Oo(i){const e=Se(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Ut(Wt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Nu(u,s))})),t.has(Wt.keyField().canonicalString())||e.Ie.push(new Nu(Wt.keyField(),s))}return e.Ie}function $i(i){const e=Se(i);return e.Ee||(e.Ee=D4(e,Oo(i))),e.Ee}function D4(i,e){if(i.limitType==="F")return oT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Nu(o.field,u)}));const t=i.endAt?new Bo(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Bo(i.startAt.position,i.startAt.inclusive):null;return oT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Jp(i,e){const t=i.filters.concat([e]);return new Ia(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function df(i,e,t){return new Ia(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Hf(i,e){return jg($i(i),$i(e))&&i.limitType===e.limitType}function aS(i){return`${Ug($i(i))}|lt:${i.limitType}`}function bo(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>rS(o))).join(", ")}]`),qu(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>zo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>zo(o))).join(",")),`Target(${s})`})($i(i))}; limitType=${i.limitType})`}function Gf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of Oo(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=sT(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,Oo(s),o)||s.endAt&&!(function(c,m,p){const g=sT(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,Oo(s),o))})(i,e)}function x4(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function oS(i){return(e,t)=>{let s=!1;for(const o of Oo(i)){const u=O4(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function O4(i,e,t){const s=i.field.isKeyField()?pe.comparator(e.key,t.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?jo(p,g):_e(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:i.dir})}}class Na{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,((t,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return GA(this.inner)}size(){return this.innerSize}}const M4=new ft(pe.comparator);function Nr(){return M4}const lS=new ft(pe.comparator);function hu(...i){let e=lS;for(const t of i)e=e.insert(t.key,t);return e}function uS(i){let e=lS;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ma(){return _u()}function cS(){return _u()}function _u(){return new Na((i=>i.toString()),((i,e)=>i.isEqual(e)))}const V4=new ft(pe.comparator),k4=new Ut(pe.comparator);function ke(...i){let e=k4;for(const t of i)e=e.add(t);return e}const P4=new Ut(Ve);function L4(){return P4}function Bg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function hS(i){return{integerValue:""+i}}function U4(i,e){return h4(e)?hS(e):Bg(i,e)}class $f{constructor(){this._=void 0}}function j4(i,e,t){return i instanceof Du?(function(o,u){const c={fields:{[QA]:{stringValue:KA},[XA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bf(u)&&(u=qf(u)),u&&(c.fields[YA]=u),{mapValue:c}})(t,e):i instanceof xu?dS(i,e):i instanceof Ou?mS(i,e):(function(o,u){const c=fS(o,u),m=uT(c)+uT(o.Ae);return Yp(c)&&Yp(o.Ae)?hS(m):Bg(o.serializer,m)})(i,e)}function z4(i,e,t){return i instanceof xu?dS(i,e):i instanceof Ou?mS(i,e):t}function fS(i,e){return i instanceof mf?(function(s){return Yp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Du extends $f{}class xu extends $f{constructor(e){super(),this.elements=e}}function dS(i,e){const t=pS(e);for(const s of i.elements)t.some((o=>Yi(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Ou extends $f{constructor(e){super(),this.elements=e}}function mS(i,e){let t=pS(e);for(const s of i.elements)t=t.filter((o=>!Yi(o,s)));return{arrayValue:{values:t}}}class mf extends $f{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function uT(i){return Et(i.integerValue||i.doubleValue)}function pS(i){return Lg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class B4{constructor(e,t){this.field=e,this.transform=t}}function q4(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof xu&&o instanceof xu||s instanceof Ou&&o instanceof Ou?Uo(s.elements,o.elements,Yi):s instanceof mf&&o instanceof mf?Yi(s.Ae,o.Ae):s instanceof Du&&o instanceof Du})(i.transform,e.transform)}class F4{constructor(e,t){this.version=e,this.transformResults=t}}class nn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nn}static exists(e){return new nn(void 0,e)}static updateTime(e){return new nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Kf{}function gS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Qf(i.key,nn.none()):new Fu(i.key,i.data,nn.none());{const t=i.data,s=un.empty();let o=new Ut(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new Vs(i.key,s,new On(o.toArray()),nn.none())}}function H4(i,e,t){i instanceof Fu?(function(o,u,c){const m=o.value.clone(),p=hT(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,t):i instanceof Vs?(function(o,u,c){if(!Qh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=hT(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(yS(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,t):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function vu(i,e,t,s){return i instanceof Fu?(function(u,c,m,p){if(!Qh(u.precondition,c))return m;const g=u.value.clone(),v=fT(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,t,s):i instanceof Vs?(function(u,c,m,p){if(!Qh(u.precondition,c))return m;const g=fT(u.fieldTransforms,p,c),v=c.data;return v.setAll(yS(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(i,e,t,s):(function(u,c,m){return Qh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,t)}function G4(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=fS(s.transform,o||null);u!=null&&(t===null&&(t=un.empty()),t.set(s.field,u))}return t||null}function cT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Uo(s,o,((u,c)=>q4(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Fu extends Kf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vs extends Kf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function yS(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function hT(i,e,t){const s=new Map;je(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],c=u.transform,m=e.data.field(u.field);s.set(u.field,z4(c,m,t[o]))}return s}function fT(i,e,t){const s=new Map;for(const o of i){const u=o.transform,c=t.data.field(o.field);s.set(o.field,j4(u,c,e))}return s}class Qf extends Kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _S extends Kf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $4{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&H4(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=vu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=vu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=cS();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=t.has(o.key)?null:m;const p=gS(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,((t,s)=>cT(t,s)))&&Uo(this.baseMutations,e.baseMutations,((t,s)=>cT(t,s)))}}class qg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return V4})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new qg(e,t,s,o)}}class K4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Q4{constructor(e,t){this.count=e,this.unchangedNames=t}}var Dt,Ue;function vS(i){switch(i){case X.OK:return _e(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return _e(15467,{code:i})}}function ES(i){if(i===void 0)return Ir("GRPC error has no .code"),X.UNKNOWN;switch(i){case Dt.OK:return X.OK;case Dt.CANCELLED:return X.CANCELLED;case Dt.UNKNOWN:return X.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return X.INTERNAL;case Dt.UNAVAILABLE:return X.UNAVAILABLE;case Dt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Dt.NOT_FOUND:return X.NOT_FOUND;case Dt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Dt.ABORTED:return X.ABORTED;case Dt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Dt.DATA_LOSS:return X.DATA_LOSS;default:return _e(39323,{code:i})}}(Ue=Dt||(Dt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function Y4(){return new TextEncoder}const X4=new Es([4294967295,4294967295],0);function dT(i){const e=Y4().encode(i),t=new VA;return t.update(e),new Uint8Array(t.digest())}function mT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Es([t,s],0),new Es([o,u],0)]}class Fg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new fu(`Invalid padding: ${t}`);if(s<0)throw new fu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new fu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Es.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Es.fromNumber(s)));return o.compare(X4)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=dT(e),[s,o]=mT(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Fg(u,o,t);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const t=dT(e),[s,o]=mT(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Yf(Ee.min(),o,new ft(Ve),Nr(),ke())}}class Hu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Hu(s,t,ke(),ke(),ke())}}class Yh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class TS{constructor(e,t){this.targetId=e,this.Ce=t}}class AS{constructor(e,t,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class pT{constructor(){this.ve=0,this.Fe=gT(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),t=ke(),s=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}})),new Hu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=gT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class W4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Nr(),this.Je=Mh(),this.He=Mh(),this.Ye=new ft(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Wp(u))if(s===0){const c=new pe(u.path);this.et(t,c,Ft.newNoDocument(c,Ee.min()))}else je(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let c,m;try{c=Rs(s).toUint8Array()}catch(p){if(p instanceof $A)return Lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Fg(c,o,u)}catch(p){return Lo(p instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Wp(m.target)){const p=new pe(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Ft.newNoDocument(p,e))}u.Be&&(t.set(c,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Yf(e,t,this.Ye,this.je,s);return this.je=Nr(),this.Je=Mh(),this.He=Mh(),this.Ye=new ft(Ve),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new pT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ut(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ut(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Mh(){return new ft(pe.comparator)}function gT(){return new ft(pe.comparator)}const J4={asc:"ASCENDING",desc:"DESCENDING"},Z4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eO={and:"AND",or:"OR"};class tO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Zp(i,e){return i.useProto3Json||qu(e)?e:{value:e}}function pf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function nO(i,e){return pf(i,e.toTimestamp())}function Vn(i){return je(!!i,49232),Ee.fromTimestamp((function(t){const s=ws(t);return new it(s.seconds,s.nanos)})(i))}function Hg(i,e){return eg(i,e).canonicalString()}function eg(i,e){const t=(function(o){return new Xe(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function bS(i){const e=Xe.fromString(i);return je(DS(e),10190,{key:e.toString()}),e}function gf(i,e){return Hg(i.databaseId,e.path)}function Eu(i,e){const t=bS(e);if(t.get(1)!==i.databaseId.projectId)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new pe(RS(t))}function wS(i,e){return Hg(i.databaseId,e)}function iO(i){const e=bS(i);return e.length===4?Xe.emptyPath():RS(e)}function tg(i){return new Xe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function RS(i){return je(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function yT(i,e,t){return{name:gf(i,e),fields:t.value.mapValue.fields}}function rO(i,e){return"found"in e?(function(s,o){je(!!o.found,43571),o.found.name,o.found.updateTime;const u=Eu(s,o.found.name),c=Vn(o.found.updateTime),m=o.found.createTime?Vn(o.found.createTime):Ee.min(),p=new un({mapValue:{fields:o.found.fields}});return Ft.newFoundDocument(u,c,m,p)})(i,e):"missing"in e?(function(s,o){je(!!o.missing,3894),je(!!o.readTime,22933);const u=Eu(s,o.missing),c=Vn(o.readTime);return Ft.newNoDocument(u,c)})(i,e):_e(7234,{result:e})}function sO(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(je(v===void 0||typeof v=="string",58123),Jt.fromBase64String(v||"")):(je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Jt.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?X.UNKNOWN:ES(g.code);return new se(v,g.message||"")})(c);t=new AS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Eu(i,s.document.name),u=Vn(s.document.updateTime),c=s.document.createTime?Vn(s.document.createTime):Ee.min(),m=new un({mapValue:{fields:s.document.fields}}),p=Ft.newFoundDocument(o,u,c,m),g=s.targetIds||[],v=s.removedTargetIds||[];t=new Yh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Eu(i,s.document),u=s.readTime?Vn(s.readTime):Ee.min(),c=Ft.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Yh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Eu(i,s.document),u=s.removedTargetIds||[];t=new Yh([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new Q4(o,u),m=s.targetId;t=new TS(m,c)}}return t}function CS(i,e){let t;if(e instanceof Fu)t={update:yT(i,e.key,e.value)};else if(e instanceof Qf)t={delete:gf(i,e.key)};else if(e instanceof Vs)t={update:yT(i,e.key,e.data),updateMask:mO(e.fieldMask)};else{if(!(e instanceof _S))return _e(16599,{Vt:e.type});t={verify:gf(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof Du)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ou)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof mf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:nO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(i,e.precondition)),t}function aO(i,e){return i&&i.length>0?(je(e!==void 0,14353),i.map((t=>(function(o,u){let c=o.updateTime?Vn(o.updateTime):Vn(u);return c.isEqual(Ee.min())&&(c=Vn(u)),new F4(c,o.transformResults||[])})(t,e)))):[]}function oO(i,e){return{documents:[wS(i,e.path)]}}function lO(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=wS(i,o);const u=(function(g){if(g.length!==0)return NS(_i.create(g,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:wo(w.field),direction:hO(w.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=Zp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function uO(i){let e=iO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){je(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=(function(A){const w=IS(A);return w instanceof _i&&nS(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(A){return A.map((w=>(function(U){return new Nu(Ro(U.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(w)))})(t.orderBy));let m=null;t.limit&&(m=(function(A){let w;return w=typeof A=="object"?A.value:A,qu(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(A){const w=!!A.before,D=A.values||[];return new Bo(D,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(A){const w=!A.before,D=A.values||[];return new Bo(D,w)})(t.endAt)),N4(e,o,c,u,m,"F",p,g)}function cO(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IS(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ro(t.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ro(t.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ro(t.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ro(t.unaryFilter.field);return xt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(i):i.fieldFilter!==void 0?(function(t){return xt.create(Ro(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return _i.create(t.compositeFilter.filters.map((s=>IS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(t.compositeFilter.op))})(i):_e(30097,{filter:i})}function hO(i){return J4[i]}function fO(i){return Z4[i]}function dO(i){return eO[i]}function wo(i){return{fieldPath:i.canonicalString()}}function Ro(i){return Wt.fromServerFormat(i.fieldPath)}function NS(i){return i instanceof xt?(function(t){if(t.op==="=="){if(rT(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NAN"}};if(iT(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rT(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NAN"}};if(iT(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(t.field),op:fO(t.op),value:t.value}}})(i):i instanceof _i?(function(t){const s=t.getFilters().map((o=>NS(o)));return s.length===1?s[0]:{compositeFilter:{op:dO(t.op),filters:s}}})(i):_e(54877,{filter:i})}function mO(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function DS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class gs{constructor(e,t,s,o,u=Ee.min(),c=Ee.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pO{constructor(e){this.yt=e}}function gO(i){const e=uO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?df(e,e.limit,"L"):e}class yO{constructor(){this.Cn=new _O}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(bs.min())}updateCollectionGroup(e,t,s){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class _O{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ut(Xe.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(Xe.comparator)).toArray()}}const _T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xS=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(xS,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class qo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qo(0)}static cr(){return new qo(-1)}}const vT="LruGarbageCollector",vO=1048576;function ET([i,e],[t,s]){const o=Ve(i,t);return o===0?Ve(e,s):o}class EO{constructor(e){this.Ir=e,this.buffer=new Ut(ET),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();ET(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class TO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(vT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?he(vT,"Ignoring IndexedDB error during garbage collection: ",t):await Jo(t)}await this.Vr(3e5)}))}}class AO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(zf.ce);const s=new EO(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(_T)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_T):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,c=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,m=Date.now(),this.removeTargets(e,s,t)))).next((A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(g=Date.now(),So()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function SO(i,e){return new AO(i,e)}class bO{constructor(){this.changes=new Na((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ie.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class RO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&vu(s.mutation,o,On.empty(),it.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ke()){const o=ma();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((u=>{let c=hu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=ma();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ke())))}populateOverlays(e,t,s){const o=[];return s.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{t.set(c,m)}))}))}computeViews(e,t,s,o){let u=Nr();const c=_u(),m=(function(){return _u()})();return t.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Vs)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),vu(v.mutation,g,v.mutation.getFieldMask(),it.now())):c.set(g.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>m.set(g,new wO(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=_u();let o=new ft(((c,m)=>c-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||On.empty();v=m.applyToLocalView(g,v),s.set(p,v);const A=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,A)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,A=cS();v.forEach((w=>{if(!u.has(w)){const D=gS(t.get(w),s.get(w));D!==null&&A.set(w,D),u=u.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ie.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return pe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ie.resolve(ma());let m=wu,p=u;return c.next((g=>ie.forEach(g,((v,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{p=p.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ke()))).next((v=>({batchId:m,changes:uS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next((s=>{let o=hu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let c=hu();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(A,w){return new Ia(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((A,w)=>{c=c.insert(A,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Ft.newInvalidDocument(v)))}));let m=hu();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&vu(v.mutation,g,On.empty(),it.now()),Gf(t,g)&&(m=m.insert(p,g))})),m}))}}class CO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Vn(o.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:gO(o.bundledQuery),readTime:Vn(o.readTime)}})(t)),ie.resolve()}}class IO{constructor(){this.overlays=new ft(pe.comparator),this.qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ma();return ie.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,u)=>{this.St(e,t,u)})),ie.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,t,s){const o=ma(),u=t.length+1,c=new pe(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ft(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ma(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ma(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return ie.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new K4(t,s));let u=this.qr.get(t);u===void 0&&(u=ke(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}class NO{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}class Gg{constructor(){this.Qr=new Ut(qt.$r),this.Ur=new Ut(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new qt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new qt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new pe(new Xe([])),s=new qt(t,e),o=new qt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new pe(new Xe([])),s=new qt(t,e),o=new qt(t,e+1);let u=ke();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const t=new qt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return pe.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||pe.comparator(e.key,t.key)}}class DO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ut(qt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new $4(u,t,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,t){return ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Pg:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new qt(t,0),o=new qt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ut(Ve);return t.forEach((o=>{const u=new qt(o,0),c=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const c=new qt(new pe(u),0);let m=new Ut(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),ie.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){je(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(t.mutations,(o=>{const u=new qt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new qt(t,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xO{constructor(e){this.ri=e,this.docs=(function(){return new ft(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ie.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let s=Nr();return t.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ft.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Nr();const c=t.path,m=new pe(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||o4(a4(v),s)<=0||(o.has(v.key)||Gf(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,t,s,o){_e(9500)}ii(e,t){return ie.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new OO(this)}getSize(e){return ie.resolve(this.size)}}class OO extends bO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class MO{constructor(e){this.persistence=e,this.si=new Na((t=>Ug(t)),jg),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Gg,this.targetCount=0,this.ai=qo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Pr(t),ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ie.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ie.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ie.resolve(s)}containsKey(e,t){return ie.resolve(this._i.containsKey(t))}}class OS{constructor(e,t){this.ui={},this.overlays={},this.ci=new zf(0),this.li=!1,this.li=!0,this.hi=new NO,this.referenceDelegate=e(this),this.Pi=new MO(this),this.indexManager=new yO,this.remoteDocumentCache=(function(o){return new xO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new pO(t),this.Ii=new CO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new DO(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new VO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class VO extends u4{constructor(e){super(),this.currentSequenceNumber=e}}class $g{constructor(e){this.persistence=e,this.Ri=new Gg,this.Vi=null}static mi(e){return new $g(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((u=>{u||t.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class yf{constructor(e,t){this.persistence=e,this.pi=new Na((s=>f4(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=SO(this,t)}static mi(e,t){return new yf(e,t)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((m=>{m||(s++,u.removeEntry(c,Ee.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$h(e.data.value)),t}br(e,t,s){return ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Kg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Kg(e,t.fromCache,s,o)}}class kO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class PO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mI()?8:c4(rn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,t,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new kO;return this.Ss(e,t,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,t,c,m.size)}))})).next((()=>u.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(So()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(So()<=Me.DEBUG&&he("QueryEngine","Query:",bo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(So()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(t))):ie.resolve())}ys(e,t){if(lT(t))return ie.resolve(null);let s=$i(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=df(t,null,"F"),s=$i(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=ke(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(t,m);return this.Cs(t,g,c,p.readTime)?this.ys(e,df(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,s,o){return lT(t)||o.isEqual(Ee.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(t,u);return this.Cs(t,c,s,o)?ie.resolve(null):(So()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bo(t)),this.vs(e,c,t,s4(o,wu)).next((m=>m)))}))}Ds(e,t){let s=new Ut(oS(e));return t.forEach(((o,u)=>{Gf(e,u)&&(s=s.add(u))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return So()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",bo(t)),this.ps.getDocumentsMatchingQuery(e,t,bs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(t.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Qg="LocalStore",LO=3e8;class UO{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ft(Ve),this.xs=new Na((u=>Ug(u)),jg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function jO(i,e,t,s){return new UO(i,e,t,s)}async function MS(i,e){const t=Se(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let p=ke();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function zO(i,e){const t=Se(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const A=g.batch,w=A.keys();let D=ie.resolve();return w.forEach((U=>{D=D.next((()=>v.getEntry(p,U))).next((j=>{const P=g.docVersions.get(U);je(P!==null,48541),j.version.compareTo(P)<0&&(A.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),v.addEntry(j)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(p,A)))})(t,s,e,u).next((()=>u.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function VS(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function BO(i,e){const t=Se(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((v,A)=>{const w=o.get(A);if(!w)return;m.push(t.Pi.removeMatchingKeys(u,v.removedDocuments,A).next((()=>t.Pi.addMatchingKeys(u,v.addedDocuments,A))));let D=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?D=D.withResumeToken(Jt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):v.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(v.resumeToken,s)),o=o.insert(A,D),(function(j,P,K){return j.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=LO?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(w,D,v)&&m.push(t.Pi.updateTargetData(u,D))}));let p=Nr(),g=ke();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(qO(u,c,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Ee.min())){const v=t.Pi.getLastRemoteSnapshotVersion(u).next((A=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(v)}return ie.waitFor(m).next((()=>c.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(t.Ms=o,u)))}function qO(i,e,t){let s=ke(),o=ke();return t.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let c=Nr();return t.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):he(Qg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function FO(i,e){const t=Se(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Pg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function HO(i,e){const t=Se(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):t.Pi.allocateTargetId(s).next((c=>(o=new gs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function ng(i,e,t){const s=Se(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Zo(c))throw c;he(Qg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function TT(i,e,t){const s=Se(i);let o=Ee.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const A=Se(p),w=A.xs.get(v);return w!==void 0?ie.resolve(A.Ms.get(w)):A.Pi.getTargetData(g,v)})(s,c,$i(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?o:Ee.min(),t?u:ke()))).next((m=>(GO(s,x4(e),m),{documents:m,Qs:u})))))}function GO(i,e,t){let s=i.Os.get(e)||Ee.min();t.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class AT{constructor(){this.activeTargetIds=L4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $O{constructor(){this.Mo=new AT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new AT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class KO{Oo(e){}shutdown(){}}const ST="ConnectivityMonitor";class bT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(ST,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(ST,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vh=null;function ig(){return Vh===null?Vh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vh++,"0x"+Vh.toString(16)}const wp="RestConnection",QO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===cf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const c=ig(),m=this.zo(e,t.toUriEncodedString());he(wp,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=ba(g);return this.Jo(e,m,p,s,v).then((A=>(he(wp,`Received RPC '${e}' ${c}: `,A),A)),(A=>{throw Lo(wp,`RPC '${e}' ${c} failed with error: `,A,"url: ",m,"request:",s),A}))}Ho(e,t,s,o,u,c){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const s=QO[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class XO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const en="WebChannelConnection";class WO extends YO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const c=ig();return new Promise(((m,p)=>{const g=new kA;g.setWithCredentials(!0),g.listenOnce(PA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Gh.NO_ERROR:const A=g.getResponseJson();he(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(A)),m(A);break;case Gh.TIMEOUT:he(en,`RPC '${e}' ${c} timed out`),p(new se(X.DEADLINE_EXCEEDED,"Request time out"));break;case Gh.HTTP_ERROR:const w=g.getStatus();if(he(en,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const U=D?.error;if(U&&U.status&&U.message){const j=(function(K){const Z=K.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Z)>=0?Z:X.UNKNOWN})(U.status);p(new se(j,U.message))}else p(new se(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new se(X.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(en,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);he(en,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",v,s,15)}))}T_(e,t,s){const o=ig(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=jA(),m=UA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=u.join("");he(en,`Creating RPC '${e}' stream ${o}: ${v}`,p);const A=c.createWebChannel(v,p);this.I_(A);let w=!1,D=!1;const U=new XO({Yo:P=>{D?he(en,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(w||(he(en,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),he(en,`RPC '${e}' stream ${o} sending:`,P),A.send(P))},Zo:()=>A.close()}),j=(P,K,Z)=>{P.listen(K,(q=>{try{Z(q)}catch(re){setTimeout((()=>{throw re}),0)}}))};return j(A,cu.EventType.OPEN,(()=>{D||(he(en,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),j(A,cu.EventType.CLOSE,(()=>{D||(D=!0,he(en,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(A))})),j(A,cu.EventType.ERROR,(P=>{D||(D=!0,Lo(en,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),U.a_(new se(X.UNAVAILABLE,"The operation could not be completed")))})),j(A,cu.EventType.MESSAGE,(P=>{if(!D){const K=P.data[0];je(!!K,16349);const Z=K,q=Z?.error||Z[0]?.error;if(q){he(en,`RPC '${e}' stream ${o} received error:`,q);const re=q.status;let oe=(function(S){const C=Dt[S];if(C!==void 0)return ES(C)})(re),ce=q.message;oe===void 0&&(oe=X.INTERNAL,ce="Unknown error status: "+re+" with message "+q.message),D=!0,U.a_(new se(oe,ce)),A.close()}else he(en,`RPC '${e}' stream ${o} received:`,K),U.u_(K)}})),j(m,LA.STAT_EVENT,(P=>{P.stat===$p.PROXY?he(en,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===$p.NOPROXY&&he(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Rp(){return typeof document<"u"?document:null}function Xf(i){return new tO(i,!0)}class Yg{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const wT="PersistentStream";class kS{constructor(e,t,s,o,u,c,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Yg(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Ir(t.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new se(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(wT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(wT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JO extends kS{constructor(e,t,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=sO(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ee.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ee.min():c.readTime?Vn(c.readTime):Ee.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=tg(this.serializer),t.addTarget=(function(u,c){let m;const p=c.target;if(m=Wp(p)?{documents:oO(u,p)}:{query:lO(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=SS(u,c.resumeToken);const g=Zp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ee.min())>0){m.readTime=pf(u,c.snapshotVersion.toTimestamp());const g=Zp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=cO(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=tg(this.serializer),t.removeTarget=e,this.q_(t)}}class ZO extends kS{constructor(e,t,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=aO(e.writeResults,e.commitTime),s=Vn(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=tg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>CS(this.serializer,s)))};this.q_(t)}}class e3{}class t3 extends e3{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,eg(t,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(X.UNKNOWN,u.toString())}))}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,eg(t,s),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(X.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class n3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ir(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ea="RemoteStore";class i3{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Da(this)&&(he(Ea,"Restarting streams for network reachability change."),await(async function(p){const g=Se(p);g.Ea.add(4),await Gu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Wf(g)})(this))}))})),this.Ra=new n3(s,o)}}async function Wf(i){if(Da(i))for(const e of i.da)await e(!0)}async function Gu(i){for(const e of i.da)await e(!1)}function PS(i,e){const t=Se(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Zg(t)?Jg(t):el(t).O_()&&Wg(t,e))}function Xg(i,e){const t=Se(i),s=el(t);t.Ia.delete(e),s.O_()&&LS(t,e),t.Ia.size===0&&(s.O_()?s.L_():Da(t)&&t.Ra.set("Unknown"))}function Wg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}el(i).Y_(e)}function LS(i,e){i.Va.Ue(e),el(i).Z_(e)}function Jg(i){i.Va=new W4({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),el(i).start(),i.Ra.ua()}function Zg(i){return Da(i)&&!el(i).x_()&&i.Ia.size>0}function Da(i){return Se(i).Ea.size===0}function US(i){i.Va=void 0}async function r3(i){i.Ra.set("Online")}async function s3(i){i.Ia.forEach(((e,t)=>{Wg(i,e)}))}async function a3(i,e){US(i),Zg(i)?(i.Ra.ha(e),Jg(i)):i.Ra.set("Unknown")}async function o3(i,e,t){if(i.Ra.set("Online"),e instanceof AS&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){he(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _f(i,s)}else if(e instanceof Yh?i.Va.Ze(e):e instanceof TS?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ee.min()))try{const s=await VS(i.localStore);t.compareTo(s)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(Jt.EMPTY_BYTE_STRING,v.snapshotVersion)),LS(u,p);const A=new gs(v.target,p,g,v.sequenceNumber);Wg(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){he(Ea,"Failed to raise snapshot:",s),await _f(i,s)}}async function _f(i,e,t){if(!Zo(e))throw e;i.Ea.add(1),await Gu(i),i.Ra.set("Offline"),t||(t=()=>VS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{he(Ea,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Wf(i)}))}function jS(i,e){return e().catch((t=>_f(i,t,e)))}async function Jf(i){const e=Se(i),t=Is(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pg;for(;l3(e);)try{const o=await FO(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,u3(e,o)}catch(o){await _f(e,o)}zS(e)&&BS(e)}function l3(i){return Da(i)&&i.Ta.length<10}function u3(i,e){i.Ta.push(e);const t=Is(i);t.O_()&&t.X_&&t.ea(e.mutations)}function zS(i){return Da(i)&&!Is(i).x_()&&i.Ta.length>0}function BS(i){Is(i).start()}async function c3(i){Is(i).ra()}async function h3(i){const e=Is(i);for(const t of i.Ta)e.ea(t.mutations)}async function f3(i,e,t){const s=i.Ta.shift(),o=qg.from(s,e,t);await jS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Jf(i)}async function d3(i,e){e&&Is(i).X_&&await(async function(s,o){if((function(c){return vS(c)&&c!==X.ABORTED})(o.code)){const u=s.Ta.shift();Is(s).B_(),await jS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Jf(s)}})(i,e),zS(i)&&BS(i)}async function RT(i,e){const t=Se(i);t.asyncQueue.verifyOperationInProgress(),he(Ea,"RemoteStore received new credentials");const s=Da(t);t.Ea.add(3),await Gu(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Wf(t)}async function m3(i,e){const t=Se(i);e?(t.Ea.delete(2),await Wf(t)):e||(t.Ea.add(2),await Gu(t),t.Ra.set("Unknown"))}function el(i){return i.ma||(i.ma=(function(t,s,o){const u=Se(t);return u.sa(),new JO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:r3.bind(null,i),t_:s3.bind(null,i),r_:a3.bind(null,i),H_:o3.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Zg(i)?Jg(i):i.Ra.set("Unknown")):(await i.ma.stop(),US(i))}))),i.ma}function Is(i){return i.fa||(i.fa=(function(t,s,o){const u=Se(t);return u.sa(),new ZO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:c3.bind(null,i),r_:d3.bind(null,i),ta:h3.bind(null,i),na:f3.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Jf(i)):(await i.fa.stop(),i.Ta.length>0&&(he(Ea,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class ey{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const c=Date.now()+s,m=new ey(e,t,c,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ty(i,e){if(Ir("AsyncQueue",`${e}: ${i}`),Zo(i))return new se(X.UNAVAILABLE,`${e}: ${i}`);throw i}class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=hu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class CT{constructor(){this.ga=new ft(pe.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Fo{constructor(e,t,s,o,u,c,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const c=[];return t.forEach((m=>{c.push({type:0,doc:m})})),new Fo(e,t,Mo.emptySet(t),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class p3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class g3{constructor(){this.queries=IT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Se(t),u=o.queries;o.queries=IT(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new se(X.ABORTED,"Firestore shutting down"))}}function IT(){return new Na((i=>aS(i)),Hf)}async function ny(i,e){const t=Se(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new p3,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=ty(c,`Initialization of query '${bo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&ry(t)}async function iy(i,e){const t=Se(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function y3(i,e){const t=Se(i);let s=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&ry(t)}function _3(i,e,t){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function ry(i){i.Ca.forEach((e=>{e.next()}))}var rg,NT;(NT=rg||(rg={})).Ma="default",NT.Cache="cache";class sy{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rg.Cache}}class qS{constructor(e){this.key=e}}class FS{constructor(e){this.key=e}}class v3{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=oS(e),this.tu=new Mo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new CT,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,A)=>{const w=o.get(v),D=Gf(this.query,A)?A:null,U=!!w&&this.mutatedKeys.has(w.key),j=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let P=!1;w&&D?w.data.isEqual(D.data)?U!==j&&(s.track({type:3,doc:D}),P=!0):this.su(w,D)||(s.track({type:2,doc:D}),P=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(m=!0)):!w&&D?(s.track({type:0,doc:D}),P=!0):w&&!D&&(s.track({type:1,doc:w}),P=!0,(p||g)&&(m=!0)),P&&(D?(c=c.add(D),u=j?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,A)=>(function(D,U){const j=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:P})}};return j(D)-j(U)})(v.type,A.type)||this.eu(v.doc,A.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Fo(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new CT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new FS(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new qS(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ay="SyncEngine";class E3{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class T3{constructor(e){this.key=e,this.hu=!1}}class A3{constructor(e,t,s,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Na((m=>aS(m)),Hf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(pe.comparator),this.Au=new Map,this.Ru=new Gg,this.Vu={},this.mu=new Map,this.fu=qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function S3(i,e,t=!0){const s=YS(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await HS(s,e,t,!0),o}async function b3(i,e){const t=YS(i);await HS(t,e,!0,!1)}async function HS(i,e,t,s){const o=await HO(i.localStore,$i(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await w3(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&t&&PS(i.remoteStore,o),m}async function w3(i,e,t,s,o){i.pu=(A,w,D)=>(async function(j,P,K,Z){let q=P.view.ru(K);q.Cs&&(q=await TT(j.localStore,P.query,!1).then((({documents:N})=>P.view.ru(N,q))));const re=Z&&Z.targetChanges.get(P.targetId),oe=Z&&Z.targetMismatches.get(P.targetId)!=null,ce=P.view.applyChanges(q,j.isPrimaryClient,re,oe);return xT(j,P.targetId,ce.au),ce.snapshot})(i,A,w,D);const u=await TT(i.localStore,e,!0),c=new v3(e,u.Qs),m=c.ru(u.documents),p=Hu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);xT(i,t,g.au);const v=new E3(e,t,c);return i.Tu.set(e,v),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function R3(i,e,t){const s=Se(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Hf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ng(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Xg(s.remoteStore,o.targetId),sg(s,o.targetId)})).catch(Jo)):(sg(s,o.targetId),await ng(s.localStore,o.targetId,!0))}async function C3(i,e){const t=Se(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Xg(t.remoteStore,s.targetId))}async function I3(i,e,t){const s=k3(i);try{const o=await(function(c,m){const p=Se(c),g=it.now(),v=m.reduce(((D,U)=>D.add(U.key)),ke());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let U=Nr(),j=ke();return p.Ns.getEntries(D,v).next((P=>{U=P,U.forEach(((K,Z)=>{Z.isValidDocument()||(j=j.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,U))).next((P=>{A=P;const K=[];for(const Z of m){const q=G4(Z,A.get(Z.key).overlayedDocument);q!=null&&K.push(new Vs(Z.key,q,ZA(q.value.mapValue),nn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,K,m)})).next((P=>{w=P;const K=P.applyToLocalDocumentSet(A,j);return p.documentOverlayCache.saveOverlays(D,P.batchId,K)}))})).then((()=>({batchId:w.batchId,changes:uS(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new ft(Ve)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,t),await $u(s,o.changes),await Jf(s.remoteStore)}catch(o){const u=ty(o,"Failed to persist write");t.reject(u)}}async function GS(i,e){const t=Se(i);try{const s=await BO(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=t.Au.get(u);c&&(je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?je(c.hu,14607):o.removedDocuments.size>0&&(je(c.hu,42227),c.hu=!1))})),await $u(t,s,e)}catch(s){await Jo(s)}}function DT(i,e,t){const s=Se(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Se(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,A)=>{for(const w of A.Sa)w.va(m)&&(g=!0)})),g&&ry(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function N3(i,e,t){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new ft(pe.comparator);c=c.insert(u,Ft.newNoDocument(u,Ee.min()));const m=ke().add(u),p=new Yf(Ee.min(),new Map,new ft(Ve),c,m);await GS(s,p),s.du=s.du.remove(u),s.Au.delete(e),oy(s)}else await ng(s.localStore,e,!1).then((()=>sg(s,e,t))).catch(Jo)}async function D3(i,e){const t=Se(i),s=e.batch.batchId;try{const o=await zO(t.localStore,e);KS(t,s,null),$S(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await $u(t,o)}catch(o){await Jo(o)}}async function x3(i,e,t){const s=Se(i);try{const o=await(function(c,m){const p=Se(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((A=>(je(A!==null,37113),v=A.keys(),p.mutationQueue.removeMutationBatch(g,A)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);KS(s,e,t),$S(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await $u(s,o)}catch(o){await Jo(o)}}function $S(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function KS(i,e,t){const s=Se(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function sg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||QS(i,s)}))}function QS(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Xg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),oy(i))}function xT(i,e,t){for(const s of t)s instanceof qS?(i.Ru.addReference(s.key,e),O3(i,s)):s instanceof FS?(he(ay,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||QS(i,s.key)):_e(19791,{wu:s})}function O3(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(he(ay,"New document in limbo: "+t),i.Eu.add(s),oy(i))}function oy(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new pe(Xe.fromString(e)),s=i.fu.next();i.Au.set(s,new T3(t)),i.du=i.du.insert(t,s),PS(i.remoteStore,new gs($i(Ff(t.path)),s,"TargetPurposeLimboResolution",zf.ce))}}async function $u(i,e,t){const s=Se(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Kg.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const v=Se(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>ie.forEach(g,(w=>ie.forEach(w.Es,(D=>v.persistence.referenceDelegate.addReference(A,w.targetId,D))).next((()=>ie.forEach(w.ds,(D=>v.persistence.referenceDelegate.removeReference(A,w.targetId,D)))))))))}catch(A){if(!Zo(A))throw A;he(Qg,"Failed to update sequence numbers: "+A)}for(const A of g){const w=A.targetId;if(!A.fromCache){const D=v.Ms.get(w),U=D.snapshotVersion,j=D.withLastLimboFreeSnapshotVersion(U);v.Ms=v.Ms.insert(w,j)}}})(s.localStore,u))}async function M3(i,e){const t=Se(i);if(!t.currentUser.isEqual(e)){he(ay,"User change. New user:",e.toKey());const s=await MS(t.localStore,e);t.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new se(X.CANCELLED,c))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await $u(t,s.Ls)}}function V3(i,e){const t=Se(i),s=t.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=t.Iu.get(e);if(!u)return o;for(const c of u){const m=t.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function YS(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=GS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N3.bind(null,e),e.Pu.H_=y3.bind(null,e.eventManager),e.Pu.yu=_3.bind(null,e.eventManager),e}function k3(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x3.bind(null,e),e}class vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return jO(this.persistence,new PO,e.initialUser,this.serializer)}Cu(e){return new OS($g.mi,this.serializer)}Du(e){return new $O}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vf.provider={build:()=>new vf};class P3 extends vf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){je(this.persistence.referenceDelegate instanceof yf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new TO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new OS((s=>yf.mi(s,t)),this.serializer)}}class ag{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>DT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=M3.bind(null,this.syncEngine),await m3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g3})()}createDatastore(e){const t=Xf(e.databaseInfo.databaseId),s=(function(u){return new WO(u)})(e.databaseInfo);return(function(u,c,m,p){return new t3(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,u,c,m){return new i3(s,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>DT(this.syncEngine,t,0)),(function(){return bT.v()?new bT:new KO})())}createSyncEngine(e,t){return(function(o,u,c,m,p,g,v){const A=new A3(o,u,c,m,p,g);return v&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Se(t);he(Ea,"RemoteStore shutting down."),s.Ea.add(5),await Gu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ag.provider={build:()=>new ag};class ly{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class L3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new se(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(o,u){const c=Se(o),m={documents:u.map((A=>gf(c.serializer,A)))},p=await c.Ho("BatchGetDocuments",c.serializer.databaseId,Xe.emptyPath(),m,u.length),g=new Map;p.forEach((A=>{const w=rO(c.serializer,A);g.set(w.key.toString(),w)}));const v=[];return u.forEach((A=>{const w=g.get(A.toString());je(!!w,55234,{key:A}),v.push(w)})),v})(this.datastore,e);return t.forEach((s=>this.recordVersion(s))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,s)=>{const o=pe.fromPath(s);this.mutations.push(new _S(o,this.precondition(o)))})),await(async function(s,o){const u=Se(s),c={writes:o.map((m=>CS(u.serializer,m)))};await u.Go("Commit",u.serializer.databaseId,Xe.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _e(50498,{Gu:e.constructor.name});t=Ee.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new se(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ee.min())?nn.exists(!1):nn.updateTime(t):nn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ee.min()))throw new se(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return nn.updateTime(t)}return nn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class U3{constructor(e,t,s,o,u){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new Yg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new L3(this.datastore),t=this.Hu(e);t&&t.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(e){try{const t=this.updateFunction(e);return!qu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!vS(t)}return!1}}const Ns="FirestoreClient";class j3{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{he(Ns,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(he(Ns,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=ty(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Cp(i,e){i.asyncQueue.verifyOperationInProgress(),he(Ns,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await MS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function OT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await z3(i);he(Ns,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>RT(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>RT(e.remoteStore,o))),i._onlineComponents=e}async function z3(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Ns,"Using user provided OfflineComponentProvider");try{await Cp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Lo("Error using user provided cache. Falling back to memory cache: "+t),await Cp(i,new vf)}}else he(Ns,"Using default OfflineComponentProvider"),await Cp(i,new P3(void 0));return i._offlineComponents}async function uy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Ns,"Using user provided OnlineComponentProvider"),await OT(i,i._uninitializedComponentsProvider._online)):(he(Ns,"Using default OnlineComponentProvider"),await OT(i,new ag))),i._onlineComponents}function B3(i){return uy(i).then((e=>e.syncEngine))}function q3(i){return uy(i).then((e=>e.datastore))}async function Ef(i){const e=await uy(i),t=e.eventManager;return t.onListen=S3.bind(null,e.syncEngine),t.onUnlisten=R3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=b3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=C3.bind(null,e.syncEngine),t}function F3(i,e,t={}){const s=new Gi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new ly({next:w=>{v.Nu(),c.enqueueAndForget((()=>iy(u,A)));const D=w.docs.has(m);!D&&w.fromCache?g.reject(new se(X.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&w.fromCache&&p&&p.source==="server"?g.reject(new se(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new sy(Ff(m.path),v,{includeMetadataChanges:!0,qa:!0});return ny(u,A)})(await Ef(i),i.asyncQueue,e,t,s))),s.promise}function H3(i,e,t={}){const s=new Gi;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new ly({next:w=>{v.Nu(),c.enqueueAndForget((()=>iy(u,A))),w.fromCache&&p.source==="server"?g.reject(new se(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new sy(m,v,{includeMetadataChanges:!0,qa:!0});return ny(u,A)})(await Ef(i),i.asyncQueue,e,t,s))),s.promise}function XS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const MT=new Map;const WS="firestore.googleapis.com",VT=!0;class kT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WS,this.ssl=VT}else this.host=e.host,this.ssl=e.ssl??VT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vO)throw new se(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Kx;switch(s.type){case"firstParty":return new Wx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=MT.get(t);s&&(he("ComponentProvider","Removing Datastore"),MT.delete(t),s.terminate())})(this),Promise.resolve()}}function G3(i,e,t,s={}){i=Mn(i,Zf);const o=ba(e),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(Eg(`https://${m}`),Tg("Firestore",!0)),u.host!==WS&&u.host!==m&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Ss(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=tn.MOCK_USER;else{g=G1(s.mockUserToken,i._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new se(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new tn(A)}i._authCredentials=new Qx(new BA(g,v))}}class Ji{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class pt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Bu(t,pt._jsonSchema))return new pt(e,s||null,new pe(Xe.fromString(t.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Ot("string",pt._jsonSchemaVersion),referencePath:Ot("string")};class Ts extends Ji{constructor(e,t,s){super(e,t,Ff(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new pe(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function Pn(i,e,...t){if(i=rt(i),qA("collection","path",e),i instanceof Zf){const s=Xe.fromString(e,...t);return YE(s),new Ts(i,null,s)}{if(!(i instanceof pt||i instanceof Ts))throw new se(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Xe.fromString(e,...t));return YE(s),new Ts(i.firestore,null,s)}}function cn(i,e,...t){if(i=rt(i),arguments.length===1&&(e=kg.newId()),qA("doc","path",e),i instanceof Zf){const s=Xe.fromString(e,...t);return QE(s),new pt(i,null,new pe(s))}{if(!(i instanceof pt||i instanceof Ts))throw new se(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Xe.fromString(e,...t));return QE(s),new pt(i.firestore,i instanceof Ts?i.converter:null,new pe(s))}}const PT="AsyncQueue";class LT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Yg(this,"async_queue_retry"),this._c=()=>{const s=Rp();s&&he(PT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Gi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zo(e))throw e;he(PT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ir("INTERNAL UNHANDLED ERROR: ",UT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=ey.createAndSchedule(this,e,t,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:UT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function UT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function jT(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Dr extends Zf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new LT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LT(e),this._firestoreClient=void 0,await e}}}function $3(i,e){const t=typeof i=="object"?i:Vf(),s=typeof i=="string"?i:cf,o=xs(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=q1("firestore");u&&G3(o,...u)}return o}function Ku(i){if(i._terminated)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||K3(i),i._firestoreClient}function K3(i){const e=i._freezeSettings(),t=(function(o,u,c,m){return new p4(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,XS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new j3(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(Jt.fromBase64String(e))}catch(t){throw new se(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new xn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bu(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Ot("string",xn._jsonSchemaVersion),bytes:Ot("string")};class Qu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ed{constructor(e){this._methodName=e}}class Ki{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(Bu(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Ot("string",Ki._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class Qi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bu(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Qi(e.vectorValues);throw new se(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:Ot("string",Qi._jsonSchemaVersion),vectorValues:Ot("object")};const Q3=/^__.*__$/;class Y3{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fu(e,this.data,t,this.fieldTransforms)}}class JS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Vs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ZS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:i})}}class cy{constructor(e,t,s,o,u,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ZS(this.Ac)&&Q3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class X3{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Xf(e)}Cc(e,t,s,o=!1){return new cy({Ac:e,methodName:t,Dc:s,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yu(i){const e=i._freezeSettings(),t=Xf(i._databaseId);return new X3(i._databaseId,!!e.ignoreUndefinedProperties,t)}function eb(i,e,t,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);fy("Data must be an object, but it was:",c,s);const m=rb(s,c);let p,g;if(u.merge)p=new On(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const A of u.mergeFields){const w=og(e,A,t);if(!c.contains(w))throw new se(X.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);ab(v,w)||v.push(w)}p=new On(v),g=c.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,g=c.fieldTransforms;return new Y3(new un(m),p,g)}class td extends ed{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof td}}class hy extends ed{_toFieldTransform(e){return new B4(e.path,new Du)}isEqual(e){return e instanceof hy}}function tb(i,e,t,s){const o=i.Cc(1,e,t);fy("Data must be an object, but it was:",o,s);const u=[],c=un.empty();Ms(s,((p,g)=>{const v=dy(e,p,t);g=rt(g);const A=o.yc(v);if(g instanceof td)u.push(v);else{const w=Xu(g,A);w!=null&&(u.push(v),c.set(v,w))}}));const m=new On(u);return new JS(c,m,o.fieldTransforms)}function nb(i,e,t,s,o,u){const c=i.Cc(1,e,t),m=[og(e,s,t)],p=[o];if(u.length%2!=0)throw new se(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(og(e,u[w])),p.push(u[w+1]);const g=[],v=un.empty();for(let w=m.length-1;w>=0;--w)if(!ab(g,m[w])){const D=m[w];let U=p[w];U=rt(U);const j=c.yc(D);if(U instanceof td)g.push(D);else{const P=Xu(U,j);P!=null&&(g.push(D),v.set(D,P))}}const A=new On(g);return new JS(v,A,c.fieldTransforms)}function ib(i,e,t,s=!1){return Xu(t,i.Cc(s?4:3,e))}function Xu(i,e){if(sb(i=rt(i)))return fy("Unsupported field value:",e,i),rb(i,e);if(i instanceof ed)return(function(s,o){if(!ZS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const m of s){let p=Xu(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return U4(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:pf(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pf(o.serializer,u)}}if(s instanceof Ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:SS(o.serializer,s._byteString)};if(s instanceof pt){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Hg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Qi)return(function(c,m){return{mapValue:{fields:{[WA]:{stringValue:JA},[hf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Bg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${jf(s)}`)})(i,e)}function rb(i,e){const t={};return GA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(i,((s,o)=>{const u=Xu(o,e.mc(s));u!=null&&(t[s]=u)})),{mapValue:{fields:t}}}function sb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Ki||i instanceof xn||i instanceof pt||i instanceof ed||i instanceof Qi)}function fy(i,e,t){if(!sb(t)||!FA(t)){const s=jf(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function og(i,e,t){if((e=rt(e))instanceof Qu)return e._internalPath;if(typeof e=="string")return dy(i,e);throw Tf("Field path arguments must be of type string or ",i,!1,void 0,t)}const W3=new RegExp("[~\\*/\\[\\]]");function dy(i,e,t){if(e.search(W3)>=0)throw Tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Qu(...e.split("."))._internalPath}catch{throw Tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Tf(i,e,t,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new se(X.INVALID_ARGUMENT,m+i+p)}function ab(i,e){return i.some((t=>t.isEqual(e)))}class Mu{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class J3 extends Mu{data(){return super.data()}}function nd(i,e){return typeof e=="string"?dy(i,e):e instanceof Qu?e._internalPath:e._delegate._internalPath}function ob(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new se(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class my{}class id extends my{}function Ho(i,e,...t){let s=[];e instanceof my&&s.push(e),s=s.concat(t),(function(u){const c=u.filter((p=>p instanceof py)).length,m=u.filter((p=>p instanceof rd)).length;if(c>1||c>0&&m>0)throw new se(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class rd extends id{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new rd(e,t,s)}_apply(e){const t=this._parse(e);return lb(e._query,t),new Ji(e.firestore,e.converter,Jp(e._query,t))}_parse(e){const t=Yu(e.firestore);return(function(u,c,m,p,g,v,A){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new se(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){BT(A,v);const U=[];for(const j of A)U.push(zT(p,u,j));w={arrayValue:{values:U}}}else w=zT(p,u,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||BT(A,v),w=ib(m,c,A,v==="in"||v==="not-in");return xt.create(g,v,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function du(i,e,t){const s=e,o=nd("where",i);return rd._create(o,s,t)}class py extends my{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new py(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:_i.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)lb(c,p),c=Jp(c,p)})(e._query,t),new Ji(e.firestore,e.converter,Jp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gy extends id{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gy(e,t)}_apply(e){const t=(function(o,u,c){if(o.startAt!==null)throw new se(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new se(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nu(u,c)})(e._query,this._field,this._direction);return new Ji(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new Ia(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Ta(i,e="asc"){const t=e,s=nd("orderBy",i);return gy._create(s,t)}class yy extends id{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new yy(e,t,s)}_apply(e){return new Ji(e.firestore,e.converter,df(e._query,this._limit,this._limitType))}}function Z3(i){return r4("limit",i),yy._create("limit",i,"F")}class _y extends id{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new _y(e,t,s)}_apply(e){const t=tM(e,this.type,this._docOrFields,this._inclusive);return new Ji(e.firestore,e.converter,(function(o,u){return new Ia(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)})(e._query,t))}}function eM(...i){return _y._create("startAfter",i,!1)}function tM(i,e,t,s){if(t[0]=rt(t[0]),t[0]instanceof Mu)return(function(u,c,m,p,g){if(!p)throw new se(X.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const v=[];for(const A of Oo(u))if(A.field.isKeyField())v.push(ff(c,p.key));else{const w=p.data.field(A.field);if(Bf(w))throw new se(X.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const D=A.field.canonicalString();throw new se(X.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}v.push(w)}return new Bo(v,g)})(i._query,i.firestore._databaseId,e,t[0]._document,s);{const o=Yu(i.firestore);return(function(c,m,p,g,v,A){const w=c.explicitOrderBy;if(v.length>w.length)throw new se(X.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let U=0;U<v.length;U++){const j=v[U];if(w[U].field.isKeyField()){if(typeof j!="string")throw new se(X.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof j}`);if(!zg(c)&&j.indexOf("/")!==-1)throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${j}' contains a slash.`);const P=c.path.child(Xe.fromString(j));if(!pe.isDocumentKey(P))throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const K=new pe(P);D.push(ff(m,K))}else{const P=ib(p,g,j);D.push(P)}}return new Bo(D,A)})(i._query,i.firestore._databaseId,o,e,t,s)}}function zT(i,e,t){if(typeof(t=rt(t))=="string"){if(t==="")throw new se(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zg(e)&&t.indexOf("/")!==-1)throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Xe.fromString(t));if(!pe.isDocumentKey(s))throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ff(i,new pe(s))}if(t instanceof pt)return ff(i,t._key);throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(t)}.`)}function BT(i,e){if(!Array.isArray(i)||i.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lb(i,e){const t=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class ub{convertValue(e,t="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ms(e,((o,u)=>{s[o]=this.convertValue(u,t)})),s}convertVectorValue(e){const t=e.fields?.[hf].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new Qi(t)}convertGeoPoint(e){return new Ki(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=qf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ru(e));default:return null}}convertTimestamp(e){const t=ws(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Xe.fromString(e);je(DS(s),9688,{name:e});const o=new Cu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(t)||Ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function cb(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class nM extends ub{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}class Io{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class As extends Mu{constructor(e,t,s,o,u,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(nd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=As._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}As._jsonSchemaVersion="firestore/documentSnapshot/1.0",As._jsonSchema={type:Ot("string",As._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Xh extends As{data(e={}){return super.data(e)}}class ga{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Io(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Xh(this._firestore,this._userDataWriter,s.key,s,new Io(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Io(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Io(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:iM(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:i})}}function hb(i){i=Mn(i,pt);const e=Mn(i.firestore,Dr);return F3(Ku(e),i._key).then((t=>fb(e,i,t)))}ga._jsonSchemaVersion="firestore/querySnapshot/1.0",ga._jsonSchema={type:Ot("string",ga._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class sd extends ub{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function Af(i){i=Mn(i,Ji);const e=Mn(i.firestore,Dr),t=Ku(e),s=new sd(e);return ob(i._query),H3(t,i._query).then((o=>new ga(e,s,i,o)))}function da(i,e,t,...s){i=Mn(i,pt);const o=Mn(i.firestore,Dr),u=Yu(o);let c;return c=typeof(e=rt(e))=="string"||e instanceof Qu?nb(u,"updateDoc",i._key,e,t,s):tb(u,"updateDoc",i._key,e),Ey(o,[c.toMutation(i._key,nn.exists(!0))])}function vy(i){return Ey(Mn(i.firestore,Dr),[new Qf(i._key,nn.none())])}function ad(i,e){const t=Mn(i.firestore,Dr),s=cn(i),o=cb(i.converter,e);return Ey(t,[eb(Yu(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,nn.exists(!1))]).then((()=>s))}function Wu(i,...e){i=rt(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||jT(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(jT(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,c,m;if(i instanceof pt)c=Mn(i.firestore,Dr),m=Ff(i._key.path),u={next:p=>{e[s]&&e[s](fb(c,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Mn(i,Ji);c=Mn(p.firestore,Dr),m=p._query;const g=new sd(c);u={next:v=>{e[s]&&e[s](new ga(c,g,p,v))},error:e[s+1],complete:e[s+2]},ob(i._query)}return(function(g,v,A,w){const D=new ly(w),U=new sy(v,D,A);return g.asyncQueue.enqueueAndForget((async()=>ny(await Ef(g),U))),()=>{D.Nu(),g.asyncQueue.enqueueAndForget((async()=>iy(await Ef(g),U)))}})(Ku(c),m,o,u)}function Ey(i,e){return(function(s,o){const u=new Gi;return s.asyncQueue.enqueueAndForget((async()=>I3(await B3(s),o,u))),u.promise})(Ku(i),e)}function fb(i,e,t){const s=t.docs.get(e._key),o=new sd(i);return new As(i,o,e._key,s,new Io(t.hasPendingWrites,t.fromCache),e.converter)}const rM={maxAttempts:5};function mu(i,e){if((i=rt(i)).firestore!==e)throw new se(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class sM{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Yu(e)}get(e){const t=mu(e,this._firestore),s=new nM(this._firestore);return this._transaction.lookup([t._key]).then((o=>{if(!o||o.length!==1)return _e(24041);const u=o[0];if(u.isFoundDocument())return new Mu(this._firestore,s,u.key,u,t.converter);if(u.isNoDocument())return new Mu(this._firestore,s,t._key,null,t.converter);throw _e(18433,{doc:u})}))}set(e,t,s){const o=mu(e,this._firestore),u=cb(o.converter,t,s),c=eb(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,c),this}update(e,t,s,...o){const u=mu(e,this._firestore);let c;return c=typeof(t=rt(t))=="string"||t instanceof Qu?nb(this._dataReader,"Transaction.update",u._key,t,s,o):tb(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=mu(e,this._firestore);return this._transaction.delete(t._key),this}}class aM extends sM{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mu(e,this._firestore),s=new sd(this._firestore);return super.get(e).then((o=>new As(this._firestore,s,t._key,o._document,new Io(!1,!1),t.converter)))}}function oM(i,e,t){i=Mn(i,Dr);const s={...rM,...t};return(function(u){if(u.maxAttempts<1)throw new se(X.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,c,m){const p=new Gi;return u.asyncQueue.enqueueAndForget((async()=>{const g=await q3(u);new U3(u.asyncQueue,g,m,c,p).ju()})),p.promise})(Ku(i),(o=>e(new aM(i,o))),s)}function Go(){return new hy("serverTimestamp")}(function(e,t=!0){(function(o){Wo=o})(Ra),gi(new Zn("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new Dr(new Yx(s.getProvider("auth-internal")),new Jx(c,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new se(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),En(HE,GE,e),En(HE,GE,"esm2020")})();const db="@firebase/installations",Ty="0.6.19";const mb=1e4,pb=`w:${Ty}`,gb="FIS_v2",lM="https://firebaseinstallations.googleapis.com/v1",uM=3600*1e3,cM="installations",hM="Installations";const fM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Aa=new wa(cM,hM,fM);function yb(i){return i instanceof ti&&i.code.includes("request-failed")}function _b({projectId:i}){return`${lM}/projects/${i}/installations`}function vb(i){return{token:i.token,requestStatus:2,expiresIn:mM(i.expiresIn),creationTime:Date.now()}}async function Eb(i,e){const s=(await e.json()).error;return Aa.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Tb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function dM(i,{refreshToken:e}){const t=Tb(i);return t.append("Authorization",pM(e)),t}async function Ab(i){const e=await i();return e.status>=500&&e.status<600?i():e}function mM(i){return Number(i.replace("s","000"))}function pM(i){return`${gb} ${i}`}async function gM({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=_b(i),o=Tb(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:t,authVersion:gb,appId:i.appId,sdkVersion:pb},m={method:"POST",headers:o,body:JSON.stringify(c)},p=await Ab(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:vb(g.authToken)}}else throw await Eb("Create Installation",p)}function Sb(i){return new Promise(e=>{setTimeout(e,i)})}function yM(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const _M=/^[cdef][\w-]{21}$/,lg="";function vM(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=EM(i);return _M.test(t)?t:lg}catch{return lg}}function EM(i){return yM(i).substr(0,22)}function od(i){return`${i.appName}!${i.appId}`}const bb=new Map;function wb(i,e){const t=od(i);Rb(t,e),TM(t,e)}function Rb(i,e){const t=bb.get(i);if(t)for(const s of t)s(e)}function TM(i,e){const t=AM();t&&t.postMessage({key:i,fid:e}),SM()}let pa=null;function AM(){return!pa&&"BroadcastChannel"in self&&(pa=new BroadcastChannel("[Firebase] FID Change"),pa.onmessage=i=>{Rb(i.data.key,i.data.fid)}),pa}function SM(){bb.size===0&&pa&&(pa.close(),pa=null)}const bM="firebase-installations-database",wM=1,Sa="firebase-installations-store";let Ip=null;function Ay(){return Ip||(Ip=Y1(bM,wM,{upgrade:(i,e)=>{e===0&&i.createObjectStore(Sa)}})),Ip}async function Sf(i,e){const t=od(i),o=(await Ay()).transaction(Sa,"readwrite"),u=o.objectStore(Sa),c=await u.get(t);return await u.put(e,t),await o.done,(!c||c.fid!==e.fid)&&wb(i,e.fid),e}async function Cb(i){const e=od(i),s=(await Ay()).transaction(Sa,"readwrite");await s.objectStore(Sa).delete(e),await s.done}async function ld(i,e){const t=od(i),o=(await Ay()).transaction(Sa,"readwrite"),u=o.objectStore(Sa),c=await u.get(t),m=e(c);return m===void 0?await u.delete(t):await u.put(m,t),await o.done,m&&(!c||c.fid!==m.fid)&&wb(i,m.fid),m}async function Sy(i){let e;const t=await ld(i.appConfig,s=>{const o=RM(s),u=CM(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===lg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function RM(i){const e=i||{fid:vM(),registrationStatus:0};return Ib(e)}function CM(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Aa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=IM(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:NM(i)}:{installationEntry:e}}async function IM(i,e){try{const t=await gM(i,e);return Sf(i.appConfig,t)}catch(t){throw yb(t)&&t.customData.serverCode===409?await Cb(i.appConfig):await Sf(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function NM(i){let e=await qT(i.appConfig);for(;e.registrationStatus===1;)await Sb(100),e=await qT(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Sy(i);return s||t}return e}function qT(i){return ld(i,e=>{if(!e)throw Aa.create("installation-not-found");return Ib(e)})}function Ib(i){return DM(i)?{fid:i.fid,registrationStatus:0}:i}function DM(i){return i.registrationStatus===1&&i.registrationTime+mb<Date.now()}async function xM({appConfig:i,heartbeatServiceProvider:e},t){const s=OM(i,t),o=dM(i,t),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:pb,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(c)},p=await Ab(()=>fetch(s,m));if(p.ok){const g=await p.json();return vb(g)}else throw await Eb("Generate Auth Token",p)}function OM(i,{fid:e}){return`${_b(i)}/${e}/authTokens:generate`}async function by(i,e=!1){let t;const s=await ld(i.appConfig,u=>{if(!Nb(u))throw Aa.create("not-registered");const c=u.authToken;if(!e&&kM(c))return u;if(c.requestStatus===1)return t=MM(i,e),u;{if(!navigator.onLine)throw Aa.create("app-offline");const m=LM(u);return t=VM(i,m),m}});return t?await t:s.authToken}async function MM(i,e){let t=await FT(i.appConfig);for(;t.authToken.requestStatus===1;)await Sb(100),t=await FT(i.appConfig);const s=t.authToken;return s.requestStatus===0?by(i,e):s}function FT(i){return ld(i,e=>{if(!Nb(e))throw Aa.create("not-registered");const t=e.authToken;return UM(t)?{...e,authToken:{requestStatus:0}}:e})}async function VM(i,e){try{const t=await xM(i,e),s={...e,authToken:t};return await Sf(i.appConfig,s),t}catch(t){if(yb(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Cb(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Sf(i.appConfig,s)}throw t}}function Nb(i){return i!==void 0&&i.registrationStatus===2}function kM(i){return i.requestStatus===2&&!PM(i)}function PM(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+uM}function LM(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function UM(i){return i.requestStatus===1&&i.requestTime+mb<Date.now()}async function jM(i){const e=i,{installationEntry:t,registrationPromise:s}=await Sy(e);return s?s.catch(console.error):by(e).catch(console.error),t.fid}async function zM(i,e=!1){const t=i;return await BM(t),(await by(t,e)).token}async function BM(i){const{registrationPromise:e}=await Sy(i);e&&await e}function qM(i){if(!i||!i.options)throw Np("App Configuration");if(!i.name)throw Np("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Np(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Np(i){return Aa.create("missing-app-config-values",{valueName:i})}const Db="installations",FM="installations-internal",HM=i=>{const e=i.getProvider("app").getImmediate(),t=qM(e),s=xs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},GM=i=>{const e=i.getProvider("app").getImmediate(),t=xs(e,Db).getImmediate();return{getId:()=>jM(t),getToken:o=>zM(t,o)}};function $M(){gi(new Zn(Db,HM,"PUBLIC")),gi(new Zn(FM,GM,"PRIVATE"))}$M();En(db,Ty);En(db,Ty,"esm2020");const bf="analytics",KM="firebase_id",QM="origin",YM=60*1e3,XM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wy="https://www.googletagmanager.com/gtag/js";const hn=new Mf("@firebase/analytics");const WM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new wa("analytics","Analytics",WM);function JM(i){if(!i.startsWith(wy)){const e=kn.create("invalid-gtag-resource",{gtagURL:i});return hn.warn(e.message),""}return i}function xb(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function ZM(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function eV(i,e){const t=ZM("firebase-js-sdk-policy",{createScriptURL:JM}),s=document.createElement("script"),o=`${wy}?l=${i}&id=${e}`;s.src=t?t?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function tV(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function nV(i,e,t,s,o,u){const c=s[o];try{if(c)await e[c];else{const p=(await xb(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){hn.error(m)}i("config",o,u)}async function iV(i,e,t,s,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const m=await xb(t);for(const p of c){const g=m.find(A=>A.measurementId===p),v=g&&e[g.appId];if(v)u.push(v);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){hn.error(u)}}function rV(i,e,t,s){async function o(u,...c){try{if(u==="event"){const[m,p]=c;await iV(i,e,t,m,p)}else if(u==="config"){const[m,p]=c;await nV(i,e,t,s,m,p)}else if(u==="consent"){const[m,p]=c;i("consent",m,p)}else if(u==="get"){const[m,p,g]=c;i("get",m,p,g)}else if(u==="set"){const[m]=c;i("set",m)}else i(u,...c)}catch(m){hn.error(m)}}return o}function sV(i,e,t,s,o){let u=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=rV(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function aV(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(wy)&&t.src.includes(i))return t;return null}const oV=30,lV=1e3;class uV{constructor(e={},t=lV){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Ob=new uV;function cV(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function hV(i){const{appId:e,apiKey:t}=i,s={method:"GET",headers:cV(t)},o=XM.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let c="";try{const m=await u.json();m.error?.message&&(c=m.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function fV(i,e=Ob,t){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw kn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw kn.create("no-api-key")}const c=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new pV;return setTimeout(async()=>{m.abort()},YM),Mb({appId:s,apiKey:o,measurementId:u},c,m,e)}async function Mb(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=Ob){const{appId:u,measurementId:c}=i;try{await dV(s,e)}catch(m){if(c)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:c};throw m}try{const m=await hV(i);return o.deleteThrottleMetadata(u),m}catch(m){const p=m;if(!mV(p)){if(o.deleteThrottleMetadata(u),c)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:c};throw m}const g=Number(p?.customData?.httpStatus)===503?mE(t,o.intervalMillis,oV):mE(t,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return o.setThrottleMetadata(u,v),hn.debug(`Calling attemptFetch again in ${g} millis`),Mb(i,v,s,o)}}function dV(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),s(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function mV(i){if(!(i instanceof ti)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class pV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gV(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const u=await e,c={...s,send_to:u};i("event",t,c)}}async function yV(i,e,t,s){if(s&&s.global){const o={};for(const u of Object.keys(t))o[`user_properties.${u}`]=t[u];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:t})}}async function _V(){if(Sg())try{await bg()}catch(i){return hn.warn(kn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return hn.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function vV(i,e,t,s,o,u,c){const m=fV(i);m.then(w=>{t[w.measurementId]=w.appId,i.options.measurementId&&w.measurementId!==i.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>hn.error(w)),e.push(m);const p=_V().then(w=>{if(w)return s.getId()}),[g,v]=await Promise.all([m,p]);aV(u)||eV(u,g.measurementId),o("js",new Date);const A=c?.config??{};return A[QM]="firebase",A.update=!0,v!=null&&(A[KM]=v),o("config",g.measurementId,A),g.measurementId}class EV{constructor(e){this.app=e}_delete(){return delete Vo[this.app.options.appId],Promise.resolve()}}let Vo={},HT=[];const GT={};let Dp="dataLayer",TV="gtag",$T,Ry,KT=!1;function AV(){const i=[];if(Ag()&&i.push("This is a browser extension environment."),$1()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=kn.create("invalid-analytics-context",{errorInfo:e});hn.warn(t.message)}}function SV(i,e,t){AV();const s=i.options.appId;if(!s)throw kn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if(Vo[s]!=null)throw kn.create("already-exists",{id:s});if(!KT){tV(Dp);const{wrappedGtag:u,gtagCore:c}=sV(Vo,HT,GT,Dp,TV);Ry=u,$T=c,KT=!0}return Vo[s]=vV(i,HT,GT,e,$T,Dp,t),new EV(i)}function bV(i=Vf()){i=rt(i);const e=xs(i,bf);return e.isInitialized()?e.getImmediate():wV(i)}function wV(i,e={}){const t=xs(i,bf);if(t.isInitialized()){const o=t.getImmediate();if(Ss(e,t.getOptions()))return o;throw kn.create("already-initialized")}return t.initialize({options:e})}async function RV(){if(Ag()||!$1()||!Sg())return!1;try{return await bg()}catch{return!1}}function CV(i,e,t){i=rt(i),yV(Ry,Vo[i.app.options.appId],e,t).catch(s=>hn.error(s))}function IV(i,e,t,s){i=rt(i),gV(Ry,Vo[i.app.options.appId],e,t,s).catch(o=>hn.error(o))}const QT="@firebase/analytics",YT="0.10.19";function NV(){gi(new Zn(bf,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return SV(s,o,t)},"PUBLIC")),gi(new Zn("analytics-internal",i,"PRIVATE")),En(QT,YT),En(QT,YT,"esm2020");function i(e){try{const t=e.getProvider(bf).getImmediate();return{logEvent:(s,o,u)=>IV(t,s,o,u),setUserProperties:(s,o)=>CV(t,s,o)}}catch(t){throw kn.create("interop-component-reg-failed",{reason:t})}}}NV();const Vb="firebasestorage.googleapis.com",DV="storageBucket",xV=120*1e3,OV=600*1e3;class Zi extends ti{constructor(e,t,s=0){super(xp(e),`Firebase Storage: ${t} (${xp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xi||(Xi={}));function xp(i){return"storage/"+i}function MV(){const i="An unknown error occurred, please check the error payload for server response.";return new Zi(Xi.UNKNOWN,i)}function VV(){return new Zi(Xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kV(){return new Zi(Xi.CANCELED,"User canceled the upload/download.")}function PV(i){return new Zi(Xi.INVALID_URL,"Invalid URL '"+i+"'.")}function LV(i){return new Zi(Xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function XT(i){return new Zi(Xi.INVALID_ARGUMENT,i)}function kb(){return new Zi(Xi.APP_DELETED,"The Firebase app was deleted.")}function UV(i){return new Zi(Xi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class pi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=pi.makeFromUrl(e,t)}catch{return new pi(e,"")}if(s.path==="")return s;throw LV(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(re){re.path_=decodeURIComponent(re.path)}const v="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",D=new RegExp(`^https?://${A}/${v}/b/${o}/o${w}`,"i"),U={bucket:1,path:3},j=t===Vb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",K=new RegExp(`^https?://${j}/${o}/${P}`,"i"),q=[{regex:m,indices:p,postModify:u},{regex:D,indices:U,postModify:g},{regex:K,indices:{bucket:1,path:2},postModify:g}];for(let re=0;re<q.length;re++){const oe=q[re],ce=oe.regex.exec(e);if(ce){const N=ce[oe.indices.bucket];let S=ce[oe.indices.path];S||(S=""),s=new pi(N,S),oe.postModify(s);break}}if(s==null)throw PV(e);return s}}class jV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function zV(i,e,t){let s=1,o=null,u=null,c=!1,m=0;function p(){return m===2}let g=!1;function v(...P){g||(g=!0,e.apply(null,P))}function A(P){o=setTimeout(()=>{o=null,i(D,p())},P)}function w(){u&&clearTimeout(u)}function D(P,...K){if(g){w();return}if(P){w(),v.call(null,P,...K);return}if(p()||c){w(),v.call(null,P,...K);return}s<64&&(s*=2);let q;m===1?(m=2,q=0):q=(s+Math.random())*1e3,A(q)}let U=!1;function j(P){U||(U=!0,w(),!g&&(o!==null?(P||(m=2),clearTimeout(o),A(0)):P||(m=1)))}return A(0),u=setTimeout(()=>{c=!0,j(!0)},t),j}function BV(i){i(!1)}function qV(i){return i!==void 0}function WT(i,e,t,s){if(s<e)throw XT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw XT(`Invalid value for '${i}'. Expected ${t} or less.`)}function FV(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var wf;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(wf||(wf={}));function HV(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}class GV{constructor(e,t,s,o,u,c,m,p,g,v,A,w=!0,D=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=A,this.retry=w,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,j)=>{this.resolve_=U,this.reject_=j,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new kh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===wf.NO_ERROR,p=u.getStatus();if(!m||HV(p,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===wf.ABORT;s(!1,new kh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new kh(g,u))})},t=(s,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());qV(p)?u(p):u()}catch(p){c(p)}else if(m!==null){const p=MV();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?kb():kV();c(p)}else{const p=VV();c(p)}};this.canceled_?t(!1,new kh(!1,null,!0)):this.backoffId_=zV(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function $V(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function KV(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function QV(i,e){e&&(i["X-Firebase-GMPID"]=e)}function YV(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function XV(i,e,t,s,o,u,c=!0,m=!1){const p=FV(i.urlParams),g=i.url+p,v=Object.assign({},i.headers);return QV(v,e),$V(v,t),KV(v,u),YV(v,s),new GV(g,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,c,m)}function WV(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function JV(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class Rf{constructor(e,t){this._service=e,t instanceof pi?this._location=t:this._location=pi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Rf(e,t)}get root(){const e=new pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JV(this._location.path)}get storage(){return this._service}get parent(){const e=WV(this._location.path);if(e===null)return null;const t=new pi(this._location.bucket,e);return new Rf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw UV(e)}}function JT(i,e){const t=e?.[DV];return t==null?null:pi.makeFromBucketSpec(t,i)}function ZV(i,e,t,s={}){i.host=`${e}:${t}`;const o=ba(e);o&&(Eg(`https://${i.host}/b`),Tg("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:G1(u,i.app.options.projectId))}class e6{constructor(e,t,s,o,u,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=Vb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xV,this._maxUploadRetryTime=OV,this._requests=new Set,o!=null?this._bucket=pi.makeFromBucketSpec(o,this._host):this._bucket=JT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pi.makeFromBucketSpec(this._url,e):this._bucket=JT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){WT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){WT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rf(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new jV(kb());{const c=XV(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const ZT="@firebase/storage",e1="0.14.0";const Pb="storage";function t6(i=Vf(),e){i=rt(i);const s=xs(i,Pb).getImmediate({identifier:e}),o=q1("storage");return o&&n6(s,...o),s}function n6(i,e,t,s={}){ZV(i,e,t,s)}function i6(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new e6(t,s,o,e,Ra)}function r6(){gi(new Zn(Pb,i6,"PUBLIC").setMultipleInstances(!0)),En(ZT,e1,""),En(ZT,e1,"esm2020")}r6();const s6={apiKey:"AIzaSyBMJdQYW7PYdN33QblGoYgBKANdR9byaz4",authDomain:"heladeria-doncru.firebaseapp.com",projectId:"heladeria-doncru",storageBucket:"heladeria-doncru.firebasestorage.app",messagingSenderId:"807648013020",appId:"1:807648013020:web:4c73e20edcce38f320e219",measurementId:"G-6EEWEE8BCT"},ud=X1(s6),ya=Fx(ud),tt=$3(ud);RV().then(i=>{i&&bV(ud)});t6(ud);const er=()=>{const i=I.useContext(L1);if(!i)throw new Error("useAuth debe usarse dentro de AuthProvider");const{user:e,role:t,loading:s}=i;return{user:e,role:t,loading:s,login:(c,m)=>AA(ya,c,m),logout:()=>SA(ya)}},a6=({children:i})=>{const{role:e,loading:t}=er();return t||e==="admin"?null:i},o6=()=>{const[i,e]=I.useState(!1),{user:t,role:s}=er(),{pathname:o}=Wi(),u=()=>{e(!1),o==="/"&&window.scrollTo({top:0,behavior:"smooth"})},c=()=>{e(!1)};return T.jsxs(T.Fragment,{children:[T.jsxs("header",{className:`navbar
          ${i?"is-open":""}
          ${t&&s==="admin"?"is-admin":""}
        `,children:[T.jsxs("div",{className:"navbar__main",children:[T.jsx(ln,{to:"/",className:"navbar__logo",onClick:u,children:T.jsx("img",{src:P1,alt:"Heladera Don Cru"})}),T.jsxs("div",{className:"navbar__buttons",children:[T.jsx("div",{className:"navbar__buttons__cart",children:T.jsx(ln,{to:"/carrito",onClick:c,children:T.jsx("img",{src:WC,alt:"Carrito"})})}),T.jsx("div",{className:`navbar__buttons__burger ${i?"is-active":""}`,onClick:()=>e(!i),children:T.jsxs("button",{className:"navbar__buttons__burger__button","aria-label":"Men",children:[T.jsx("span",{}),T.jsx("span",{}),T.jsx("span",{})]})})]})]}),T.jsx("nav",{className:`navbar__menu ${i?"is-active":""}`,children:T.jsxs("ul",{className:"navbar__menu__list",children:[T.jsx("li",{children:T.jsx(ln,{to:"/",onClick:c,children:"Inicio"})}),T.jsx("li",{children:T.jsx(ln,{to:"/gustos",onClick:c,children:"Gustos"})}),T.jsx("li",{children:T.jsx(ln,{to:"/tamaos",onClick:c,children:"Tamaos"})}),T.jsx("li",{children:T.jsx(ln,{to:"/postres",onClick:c,children:"Postres"})}),T.jsx("li",{children:T.jsx(ln,{to:"/contacto",onClick:c,children:"Contacto"})}),t&&s==="admin"&&T.jsx("li",{className:"navbar__menu__admin",children:T.jsx(ln,{to:"/admin",onClick:c,children:"Admin"})})]})})]}),T.jsx(a6,{children:T.jsx("div",{className:"navbar__info",children:T.jsx("p",{className:"navbar__info__text",children:" Helado artesanal  Entrega en 2030 min"})})})]})},l6=()=>T.jsxs("footer",{className:"footer",children:[T.jsxs("div",{className:"footer__container",children:[T.jsxs("div",{className:"footer__brand",children:[T.jsx("img",{src:P1,alt:"Heladera Don Cru"}),T.jsx("p",{children:"Helado artesanal hecho con ingredientes reales. Entregas rpidas en tu barrio."})]}),T.jsxs("div",{className:"footer__links",children:[T.jsx("h4",{children:"Secciones"}),T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx(ln,{to:"/gustos",children:"Gustos"})}),T.jsx("li",{children:T.jsx(ln,{to:"/tamaos",children:"Tamaos"})}),T.jsx("li",{children:T.jsx(ln,{to:"/carrito",children:"Carrito"})}),T.jsx("li",{children:T.jsx(ln,{to:"/contacto",children:"Contacto"})})]})]}),T.jsxs("div",{className:"footer__contact",children:[T.jsx("h4",{children:"Contacto"}),T.jsx("p",{children:" Pergamino, Buenos Aires"}),T.jsxs("p",{children:[" ",T.jsx("a",{href:"tel:+5492477361535",children:"+54 9 2477-361535"})]}),T.jsxs("p",{children:[" ",T.jsx("a",{href:"tel:+5492477349023",children:"+54 9 2477-349023"})]}),T.jsx("p",{children:" Todos los das"}),T.jsxs("p",{children:[" ",T.jsx("strong",{children:"10:30am a 01:30am"})]})]})]}),T.jsx("div",{className:"footer__map",children:T.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4684.491525214265!2d-60.58302593813583!3d-33.878430422366705!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95b9cb0014ef18d1%3A0xee50fb39f4042de7!2sHELADOS%20DONCRU!5e0!3m2!1ses-419!2sar!4v1769115741718!5m2!1ses-419!2sar",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",allowFullScreen:!0,title:"Mapa Heladera Don Cru"})}),T.jsx("div",{className:"footer__bottom",children:T.jsx("p",{children:" 2025 Don Cru  Todos los derechos reservados"})})]}),u6=()=>{const{role:i,loading:e}=er(),[t,s]=I.useState(!1);if(e)return null;const o=i==="admin";return T.jsxs("main",{className:"main",children:[T.jsx(BrandContainer,{}),T.jsxs("section",{children:[T.jsx(Text,{text:"nuestros productos"}),o&&T.jsx("button",{className:"btn btn--primary",style:{marginLeft:"9rem",marginTop:"1rem"},onClick:()=>s(!0),children:"+ Crear producto"}),T.jsx(CreateProductModal,{open:t,onClose:()=>s(!1),defaultCategory:"tamaos"}),T.jsx(CardsContainer,{category:"tamaos"})]}),T.jsx(Text,{text:"nuestros sabores"}),T.jsx(CategoriesCarousel,{}),T.jsx(Text,{text:" LOS MS PEDIDOS "}),T.jsx(CardsVerticalContainer,{}),T.jsx(Why,{}),T.jsx(CTA,{})]})},xa=()=>{const[i,e]=I.useState([]),[t,s]=I.useState(!0);return I.useEffect(()=>{const o=Ho(Pn(tt,"gustos"),Ta("category"),Ta("name")),u=Wu(o,c=>{const m=c.docs.map(p=>({id:p.id,...p.data()}));e(m),s(!1)});return()=>u()},[]),{gustos:i,loading:t}},c6=async i=>{await ad(Pn(tt,"gustos"),i)},ug=async(i,e)=>{await da(cn(tt,"gustos",i),e)},h6=async i=>{await vy(cn(tt,"gustos",i))},Op=(i="")=>i.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),t1=(i="")=>i.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),f6=({category:i="todos",title:e})=>{const{gustos:t,loading:s}=xa(),{role:o}=er(),u=o==="admin",c=I.useMemo(()=>Array.isArray(t)?t:[],[t]),[m,p]=I.useState(i),[g,v]=I.useState(null),[A,w]=I.useState({name:"",category:"",newCategory:""}),[D,U]=I.useState(!1),[j,P]=I.useState({name:"",weight:"",category:""}),K=I.useMemo(()=>{const S=new Set(c.map(C=>C.category).filter(Boolean));return["todos",...Array.from(S)]},[c]),Z=K.filter(S=>S!=="todos"),q=I.useMemo(()=>m==="todos"?c:c.filter(S=>S.category===m),[c,m]),re=S=>{v(S.id),w({name:S.name,category:S.category,newCategory:""})},oe=async S=>{if(!A.name.trim()){Ge.error("El nombre no puede estar vaco");return}const C=A.category==="__new__"?t1(A.newCategory):A.category;if(!C){Ge.error("Complet la categora");return}try{await ug(S,{name:A.name.trim(),category:C}),Ge.success("Gusto actualizado "),v(null)}catch(V){Ge.error("Error al actualizar gusto"),console.error(V)}},ce=async()=>{if(!j.name.trim()){Ge.error("El nombre no puede estar vaco");return}if(!j.weight||Number(j.weight)<=0){Ge.error("El stock inicial debe ser mayor a 0");return}const S=j.category==="__new__"?t1(j.newCategory):j.category;if(!S){Ge.error("Complet la categora");return}try{await c6({name:j.name.trim(),category:S,weight:Number(j.weight),active:!0,createdAt:new Date}),Ge.success("Gusto creado "),P({name:"",weight:"",category:"",newCategory:""}),U(!1)}catch(C){Ge.error("Error al crear gusto"),console.error(C)}},N=async(S,C)=>{if(window.confirm(`Eliminar el gusto "${C}"?

Esta accin no se puede deshacer.`))try{await h6(S),Ge.success("Gusto eliminado ")}catch(M){Ge.error("Error al eliminar gusto"),console.error(M)}};return s?T.jsx("p",{children:"Cargando gustos..."}):T.jsxs("section",{className:"products",children:[T.jsxs("header",{className:"products__header",children:[T.jsx("h2",{className:"products__title",children:e}),T.jsx("p",{className:"products__subtitle",children:"Eleg tu sabor favorito"})]}),u&&T.jsx("div",{className:"admin-create-gusto",children:D?T.jsxs("div",{className:"gusto-edit",children:[T.jsx("input",{placeholder:"Nombre del gusto",value:j.name,onChange:S=>P({...j,name:S.target.value})}),T.jsx("input",{type:"number",name:"weight",placeholder:"Stock inicial (gramos)",value:j.weight,onChange:S=>P({...j,weight:S.target.value})}),T.jsxs("select",{value:j.category,onChange:S=>P({...j,category:S.target.value}),children:[T.jsx("option",{value:"",children:"Seleccionar categora"}),Z.map(S=>T.jsx("option",{value:S,children:Op(S)},S))," "]}),j.category==="__new__"&&T.jsx("input",{placeholder:"Nombre de la nueva categora",value:j.newCategory,onChange:S=>P({...j,newCategory:S.target.value})}),T.jsx("button",{className:"save",onClick:ce,children:" Crear"}),T.jsx("button",{className:"cancel",onClick:()=>{U(!1),P({name:"",category:"",newCategory:""})},children:""})]}):T.jsx("button",{className:"create-gusto-btn",onClick:()=>U(!0),children:" Agregar gusto"})}),T.jsx("div",{className:"products__filters",children:K.map(S=>T.jsx("button",{className:`filter-btn ${m===S?"is-active":""}`,onClick:()=>p(S),children:Op(S)},S))}),T.jsx("div",{className:"products__list",children:q.map(S=>T.jsx("div",{className:"gusto-card",children:g===S.id?T.jsxs("div",{className:"gusto-edit",children:[T.jsx("input",{value:A.name,onChange:C=>w({...A,name:C.target.value})}),T.jsxs("select",{value:A.category,onChange:C=>w({...A,category:C.target.value}),children:[Z.map(C=>T.jsx("option",{value:C,children:Op(C)},C)),T.jsx("option",{value:"__new__",children:" Nueva categora"})]}),A.category==="__new__"&&T.jsx("input",{placeholder:"Nueva categora",value:A.newCategory,onChange:C=>w({...A,newCategory:C.target.value})}),T.jsx("button",{className:"save",onClick:()=>oe(S.id),children:""}),T.jsx("button",{className:"cancel",onClick:()=>v(null),children:""})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"gusto-info",children:[T.jsx("span",{className:"gusto-name",children:S.name}),u&&T.jsxs("span",{className:`gusto-stock ${S.weight<1e3?"danger":S.weight<3e3?"warning":""}`,children:[(S.weight/1e3).toFixed(2)," kg"]})]}),u&&T.jsxs("div",{className:"gusto-actions",children:[T.jsx("button",{className:"gusto-edit-btn",onClick:()=>re(S),children:" Editar"}),T.jsx("button",{className:"gusto-delete-btn",onClick:()=>N(S.id,S.name),children:" Eliminar"})]})]})},S.id))})]})},n1=()=>{const{categoria:i}=fR();return T.jsx("main",{children:T.jsx(f6,{category:i??"todos",title:i?`Sabores de ${i.replace("-"," ")}`:"Todos nuestros gustos"})})},d6=()=>{const{role:i}=er();return i==="admin"?null:T.jsx("a",{href:"https://wa.me/5492477361535",target:"_blank",rel:"noopener noreferrer",className:"whatsapp-ico","aria-label":"Contactar por WhatsApp",children:T.jsx("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:T.jsx("path",{d:"M19.11 17.205c-.372 0-1.088 1.39-1.518 1.39a.63.63 0 0 1-.315-.1c-.802-.402-1.504-.817-2.163-1.447-.545-.516-1.146-1.29-1.46-1.963a.426.426 0 0 1-.073-.215c0-.33.99-.945.99-1.49 0-.143-.73-2.09-.832-2.335-.143-.372-.214-.487-.6-.487-.187 0-.36-.043-.53-.043-.302 0-.53.115-.746.315-.688.645-1.032 1.318-1.06 2.264v.114c-.015.99.472 1.977 1.017 2.78 1.23 1.82 2.506 3.41 4.554 4.34.616.287 2.035.888 2.722.888.817 0 2.15-.515 2.478-1.318.13-.33.244-.73.244-1.088 0-.058 0-.144-.03-.215-.1-.172-2.434-1.39-2.678-1.39zm-2.908 7.593c-1.747 0-3.48-.53-4.942-1.49L7.793 24.41l1.132-3.337a8.955 8.955 0 0 1-1.72-5.272c0-4.955 4.04-8.995 8.997-8.995S25.2 10.845 25.2 15.8c0 4.958-4.04 8.998-8.998 8.998zm0-19.798c-5.96 0-10.8 4.842-10.8 10.8 0 1.964.53 3.898 1.546 5.574L5 27.176l5.974-1.92a10.807 10.807 0 0 0 16.03-9.455c0-5.958-4.842-10.8-10.802-10.8z"})})})};function m6(){const{pathname:i}=Wi();return I.useEffect(()=>{window.scrollTo(0,0)},[i]),null}const Cy=I.createContext(),p6=({children:i})=>{const[e,t]=I.useState(()=>{const m=localStorage.getItem("cart");return m?JSON.parse(m):[]});I.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const s=m=>{t(p=>[...p,{...m,cartId:crypto.randomUUID(),quantity:1}])},o=m=>{t(p=>p.filter(g=>g.cartId!==m))},u=()=>{t([]),localStorage.removeItem("cart")},c=(m,p)=>{p<1||t(g=>g.map(v=>v.cartId===m?{...v,quantity:p}:v))};return T.jsx(Cy.Provider,{value:{cart:e,addToCart:s,removeFromCart:o,clearCart:u,updateQuantity:c},children:i})},g6=({item:i,onRemove:e,onUpdateQuantity:t})=>{const{cartId:s,title:o,price:u,gustos:c=[],quantity:m=1}=i,{gustos:p}=xa(),g=I.useMemo(()=>Array.isArray(c)?c.map(re=>p.find(ce=>ce.id===re)?.name||""):[],[c,p]),v=I.useRef(0),A=I.useRef(0),[w,D]=I.useState(0),[U,j]=I.useState(!1),P=re=>{v.current=re.touches[0].clientX},K=re=>{A.current=re.touches[0].clientX;const oe=A.current-v.current;oe<0&&D(Math.max(oe,-120))},Z=()=>{j(!0),setTimeout(()=>{e(s),Ge.success("Producto eliminado")},250)},q=()=>{w<-90?Z():D(0)};return T.jsxs("li",{className:`cart-item ${U?"cart-item--removing":""}`,children:[T.jsx("div",{className:"cart-item__swipe-bg",children:"Eliminar"}),T.jsxs("div",{className:"cart-item__content",style:{transform:`translateX(${w}px)`},onTouchStart:P,onTouchMove:K,onTouchEnd:q,children:[T.jsx("button",{className:"cart-item__remove","aria-label":"Eliminar producto",onClick:Z,children:""}),T.jsxs("div",{className:"cart-item__info",children:[T.jsx("h4",{className:"cart-item__title",children:o}),g.length>0&&T.jsx("p",{className:"cart-item__flavors",children:g.join(", ")})]}),T.jsxs("div",{className:"cart-item__right",children:[T.jsxs("div",{className:"cart-item__quantity",children:[T.jsx("button",{onClick:()=>t(s,m-1),disabled:m===1,children:""}),T.jsx("span",{children:m}),T.jsx("button",{onClick:()=>t(s,m+1),children:"+"})]}),T.jsxs("span",{className:"cart-item__price",children:["$",u*m]})]})]})]})},y6=()=>{let i=localStorage.getItem("userId");return i||(i=crypto.randomUUID(),localStorage.setItem("userId",i)),i},_6=async({cart:i,total:e,customer:t,shipping:s})=>{const u={userId:y6(),items:i.map(m=>({productId:m.id,title:m.title,price:m.price,quantity:m.quantity,gustos:m.gustos||[],category:m.category})),total:e,shipping:{estimated:s?.estimated??null,final:null,zone:s?.zone??null},status:"pending",customer:t,createdAt:Go(),archived:!1};return(await ad(Pn(tt,"orders"),u)).id},v6=async({pageSize:i,lastDoc:e,date:t}={})=>{if(!i){const c=Ho(Pn(tt,"orders"),du("archived","==",!0),Ta("createdAt","desc"));return(await Af(c)).docs.map(p=>({id:p.id,...p.data()}))}const s=[Pn(tt,"orders"),du("archived","==",!0)];if(t){const c=it.fromDate(new Date(`${t}T00:00:00`)),m=it.fromDate(new Date(`${t}T23:59:59`));s.push(du("createdAt",">=",c),du("createdAt","<=",m))}s.push(Ta("createdAt","desc"),Z3(i)),e&&s.push(eM(e));const o=Ho(...s),u=await Af(o);return{orders:u.docs.map(c=>({id:c.id,...c.data()})),lastDoc:u.docs.length>0?u.docs[u.docs.length-1]:null}},E6=(i="")=>{const e=i.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return e.includes("1/4")||e.includes("cuarto")?250:e.includes("3/4")||e.includes("tres cuartos")?750:e.includes("medio")||e.includes("1/2")?500:e.includes("1 kg")||e.includes("1kg")||e.includes("kilo")?1e3:null},T6=async i=>{const e=cn(tt,"orders",i.id);await oM(tt,async t=>{const s=await t.get(e);if(!s.exists())throw new Error("Pedido no existe");const o=s.data();if(o.archived===!0)return;if(!Array.isArray(o.items)||o.items.length===0)throw new Error("Pedido sin items");const u=new Map;for(const c of o.items)if(!(!Array.isArray(c.gustos)||c.gustos.length===0)){for(const m of c.gustos)if(!u.has(m)){const p=cn(tt,"gustos",m),g=await t.get(p);if(!g.exists())throw new Error("Gusto no existe");u.set(m,{ref:p,data:g.data()})}}for(const c of o.items){if(!Array.isArray(c.gustos)||c.gustos.length===0)continue;const m=E6(c.title);if(!m)throw new Error(`Peso desconocido para ${c.title}`);const p=m/c.gustos.length;for(const g of c.gustos){const v=u.get(g),A=v.data.weight??0;if(A<p)throw new Error("Stock insuficiente");t.update(v.ref,{weight:A-p})}}t.update(e,{archived:!0,archivedAt:Go(),archivedBy:i.archivedBy||"Admin"})})},Lb=i=>{if(!i)return null;let e=i.replace(/\D/g,"");return e.startsWith("0")&&(e=e.slice(1)),e.startsWith("54")||(e="54"+e),`+${e}`},A6=i=>{const e=Lb(i);return/^(\+54)(\d{10,11})$/.test(e)},S6="5492477361535",i1={centro:{label:"Dentro de los 4 bulevares",price:2e3},media:{label:"Zona intermedia",price:2500},lejana:{label:"Zona lejana",price:3e3},muylejana:{label:"Zona muy lejana",price:null}},b6=()=>{const{cart:i,removeFromCart:e,clearCart:t,updateQuantity:s}=I.useContext(Cy),[o,u]=I.useState(!1),[c,m]=I.useState(!1),[p,g]=I.useState(!1),[v,A]=I.useState(""),{gustos:w}=xa(),D=I.useRef(""),U=I.useRef(""),j=I.useRef(""),[P,K]=I.useState("centro"),Z=S=>w.find(C=>C.id===S)?.name||"Desconocido";I.useEffect(()=>{const S=C=>C.key==="Escape"&&u(!1);return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[]);const q=i.reduce((S,C)=>S+C.price*C.quantity,0),re=i1[P]?.price??null,oe=i.some(S=>S.category!=="postres"&&(!S.gustos||S.gustos.length===0)),ce=S=>{const C=i.map(V=>{const M=V.gustos?.length?` (${V.gustos.map(B=>Z(B)).join(", ")})`:"";return`- ${V.title} x${V.quantity}${M}`}).join(`
`);return`
  *Pedido ID:* ${S}

  Hola! Soy *${D.current}* 

  Direccin: *${U.current}*
  Zona: *${i1[P].label}*

  *Pedido:*
  ${C}

  Productos: $${q}
  Envo estimado: ${re!==null?`$${re}`:"A confirmar"}

  *El costo de envo te lo confirmamos en breve!!*
    `.trim()},N=async()=>{if(!c){if(!A6(j.current)){A("Ingres un telfono vlido");return}m(!0);try{const S=await _6({cart:i,total:q,customer:{name:D.current,direction:U.current,phone:Lb(j.current)},shipping:{estimated:re,zone:P}});window.open(`https://api.whatsapp.com/send?phone=${S6}&text=${encodeURIComponent(ce(S))}`,"_blank"),t(),g(!0)}catch(S){console.error(S)}finally{m(!1)}}};return i.length===0&&!p?T.jsxs("section",{className:"carrito carrito--empty",children:[T.jsx("h2",{children:"Tu carrito est vaco"}),T.jsx("p",{children:"Agreg productos para continuar"})]}):T.jsxs("section",{className:"carrito",children:[T.jsx("h2",{className:"carrito__title",children:"Tu pedido"}),T.jsx("ul",{className:"carrito__list",children:i.map(S=>T.jsx(g6,{item:S,onRemove:e,onUpdateQuantity:s},S.cartId))}),T.jsxs("footer",{className:"carrito__footer",children:[T.jsxs("div",{className:"carrito__total",children:[T.jsxs("span",{children:["Productos ",T.jsxs("strong",{children:["$",q]})]}),T.jsxs("span",{children:["Envo estimado"," ",T.jsx("strong",{children:re!==null?`$${re}`:"A confirmar"})]})]}),T.jsxs("aside",{className:"carrito__shipping-info",children:[" ",T.jsx("strong",{children:"Te pasamos el costo del envo en breve."})]}),T.jsxs("div",{className:"carrito__actions",children:[T.jsx("button",{className:"btn btn--secondary",onClick:t,children:"Vaciar carrito"}),T.jsx("button",{className:"btn btn--primary",onClick:()=>u(!0),disabled:oe,children:"Confirmar pedido"})]})]}),o&&T.jsx("div",{className:"carrito-modal-overlay",onClick:()=>u(!1),children:T.jsx("div",{className:"carrito-modal",onClick:S=>S.stopPropagation(),children:p?T.jsxs("div",{className:"order-success",children:[T.jsx("h3",{children:"Pedido enviado! "}),T.jsx("p",{children:"Te contactamos por WhatsApp."}),T.jsx(ln,{to:"/",className:"btn btn--primary",children:"Volver al inicio"})]}):T.jsxs(T.Fragment,{children:[T.jsx("h3",{children:"Datos del pedido"}),T.jsxs("p",{children:["  ",T.jsx("strong",{children:"Envo:"})," Dentro de los 4 bulevares el costo es de ",T.jsx("strong",{children:"$2.000"}),". Fuera de esa zona, el valor se ajusta segn la distancia. ",T.jsx("strong",{children:"SE CONFIRMA POR WHATSAPP."})]}),T.jsxs("div",{className:"carrito-form",children:[T.jsx("input",{placeholder:"Tu nombre",onBlur:S=>D.current=S.target.value}),T.jsx("input",{placeholder:"Tu direccin",onBlur:S=>U.current=S.target.value}),T.jsxs("select",{value:P,onChange:S=>K(S.target.value),children:[T.jsx("option",{value:"centro",children:"Dentro de los 4 bulevares ($2000)"}),T.jsx("option",{value:"media",children:"Zona intermedia ($2500)"}),T.jsx("option",{value:"lejana",children:"Zona lejana ($3000)"}),T.jsx("option",{value:"muylejana",children:"Zona muy lejana"})]}),T.jsx("input",{placeholder:"Tu telfono",onBlur:S=>{j.current=S.target.value,A("")}}),v&&T.jsx("span",{className:"form-error",children:v})]}),T.jsxs("div",{className:"carrito-modal__actions",children:[T.jsx("button",{className:"btn btn--secondary",onClick:()=>u(!1),children:"Volver"}),T.jsx("button",{className:"btn btn--primary",onClick:N,children:"Confirmar pedido"})]})]})})})]})},cg=""+new URL("vertical-11-C8bbCdvI.jpeg",import.meta.url).href,w6=({text:i,onClick:e,type:t="button",className:s=""})=>T.jsx("button",{type:t,className:`custom-button ${s}`,onClick:e,children:i}),R6=({className:i="",size:e=32})=>T.jsxs("svg",{className:i,width:e,height:e,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("circle",{cx:"16",cy:"16",r:"15.8",fill:"#FF82CE",stroke:"#FF009B",strokeWidth:"0.4"}),T.jsx("path",{d:"M15.458 6.08203C15.6747 5.62441 16.3253 5.62441 16.542 6.08203L18.4629 10.1416C18.7122 10.6684 19.2619 10.9861 19.8428 10.9385L24.3184 10.5713C24.823 10.5303 25.1485 11.0943 24.8604 11.5107L22.3047 15.2031C21.973 15.6825 21.973 16.3175 22.3047 16.7969L24.8604 20.4893C25.1485 20.9057 24.823 21.4697 24.3184 21.4287L19.8428 21.0615C19.2619 21.0139 18.7122 21.3316 18.4629 21.8584L16.542 25.918C16.3253 26.3756 15.6747 26.3756 15.458 25.918L13.5371 21.8584C13.2878 21.3316 12.7381 21.0139 12.1572 21.0615L7.68164 21.4287C7.17702 21.4697 6.8515 20.9057 7.13965 20.4893L9.69531 16.7969C10.027 16.3175 10.027 15.6825 9.69531 15.2031L7.13965 11.5107C6.8515 11.0943 7.17702 10.5303 7.68164 10.5713L12.1572 10.9385C12.7381 10.9861 13.2878 10.6684 13.5371 10.1416L15.458 6.08203Z",fill:"#FEC810",stroke:"black",strokeWidth:"0.8"})]}),C6=({open:i,onClose:e,children:t})=>i?lC.createPortal(T.jsx("div",{className:"modal-overlay",onClick:e,children:T.jsxs("div",{className:"modal",onClick:s=>s.stopPropagation(),children:[T.jsx("button",{className:"modal__close",onClick:e,"aria-label":"Cerrar modal",children:""}),T.jsx("div",{className:"modal__scroll",children:t})]})}),document.body):null,Ub=()=>{const i=I.useContext(Cy);if(!i)throw new Error("useCart debe usarse dentro de CartProvider");return i},I6=({product:i,open:e,onClose:t})=>{const{addToCart:s}=Ub(),{gustos:o,loading:u}=xa(),[c,m]=I.useState([]),p=i?.maxGustos??0,g=I.useMemo(()=>Array.isArray(o)?o:[],[o]),v=(D,U)=>{U||m(j=>j.includes(D)?j.filter(P=>P!==D):j.length>=p?(Ge.error(`Mximo ${p} gustos`),j):[...j,D])},A=()=>{c.length!==0&&(s({...i,gustos:c}),Ge.success("Producto agregado al carrito "),m([]),t())},w=()=>{m([]),t()};return!i||!e?null:T.jsx(C6,{open:e,onClose:w,children:T.jsxs("div",{className:"select-modal",children:[T.jsxs("div",{className:"select-modal__header",children:[T.jsx("h3",{children:i.title}),T.jsxs("p",{children:["Eleg hasta ",T.jsx("strong",{children:p})," gustos"]})]}),T.jsx("div",{className:"select-modal__content",children:u?T.jsx("p",{children:"Cargando gustos..."}):T.jsx("div",{className:"gustos-grid",children:g.map(D=>{const U=c.includes(D.id),j=D.active===!1||D.weight<=0,P=c.length>=p&&!U;return T.jsx("button",{type:"button",className:`gusto-option
                      ${U?"is-selected":""}
                      ${j?"is-disabled":""}
                    `,disabled:j||P,onClick:()=>v(D.id,j),title:j?"Gusto no disponible":D.name,children:D.name},D.id)})})}),T.jsx("div",{className:"select-modal__footer",children:T.jsxs("button",{className:"confirm-btn",disabled:c.length===0,onClick:A,children:["Confirmar helado (",c.length,"/",p,")"]})})]})})},N6=async(i,e)=>{const t=cn(tt,"products",i);await da(t,{price:Number(e)})},D6=async i=>{if(!i)throw new Error("ID invlido");await vy(cn(tt,"products",i))},jb=({imageRight:i=!1,title:e="",price:t=0,featured:s=!1,thumbnail:o="",product:u})=>{const{role:c}=er(),m=c==="admin",{addToCart:p}=Ub(),[g,v]=I.useState(!1),[A,w]=I.useState(!1),[D,U]=I.useState(t),[j,P]=I.useState(!1),[K,Z]=I.useState(!1),q=o&&o!==""?o:cg,re=()=>{if(u?.category==="postres"){p({...u,price:t,quantity:1,gustos:[]}),Ge.success("Postre agregado al carrito ");return}v(!0)},oe=async()=>{if(u?.id)try{P(!0),await N6(u.id,Number(D)),Ge.success("Precio actualizado "),w(!1)}catch(N){Ge.error("Error al actualizar el precio"),console.error(N)}finally{P(!1)}},ce=async()=>{if(!(!u?.id||!window.confirm(`Eliminar "${e}"?
Esta accin no se puede deshacer.`)))try{Z(!0),await D6(u.id),Ge.success("Producto eliminado ")}catch(S){console.error(S),Ge.error("Error al eliminar producto")}finally{Z(!1)}};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:`
          card
          ${i?"card--reverse":""}
          ${s?"card--glass":""}
        `,children:[u.featured&&T.jsx(R6,{className:"card__badge",size:32}),m&&A&&T.jsxs("div",{className:`card__price-edit ${i?"card__price-edit--right":""}`,children:[T.jsx("input",{type:"number",min:"0",value:D,onChange:N=>U(N.target.value)}),T.jsx("button",{onClick:oe,disabled:j,children:j?"Guardando":"Guardar"}),T.jsx("button",{className:"cancel",onClick:()=>w(!1),children:""})]}),T.jsx("img",{src:q,alt:e,className:"card__img",onError:N=>N.target.src=cg}),T.jsxs("div",{className:"card__texts",children:[T.jsx("h4",{className:"card__texts__title",children:e}),!A&&T.jsxs("p",{className:"card__texts__subtitle",children:["A tan solo $",t]}),m&&!A&&T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"card__edit-price-btn",onClick:()=>w(!0),children:" Editar precio"}),T.jsx("button",{className:"card__delete-icon",onClick:ce,disabled:K,title:"Eliminar producto",children:""})]}),T.jsx("p",{className:"card__texts__p",children:"Te lo penss perder?"}),T.jsx(w6,{text:"Pedir ahora",onClick:re,className:"card__texts__button"})]})]}),u&&u.category!=="postres"&&T.jsx(I6,{product:{...u,price:t},open:g,onClose:()=>v(!1)})]})},x6=""+new URL("vertical-horizontal-CU7gs4zd.jpg",import.meta.url).href,O6=""+new URL("vertical-para-ser-horizontal-BsvEGLC-.jpeg",import.meta.url).href,M6=[{id:1,title:"Cuarto de helado",description:"Pods elegir hasta 3 gustos.",price:2500,category:"tamaos",thumbnail:cg,maxGustos:3,featured:!0,masVendido:!0},{id:2,title:"Medio KG de helado",description:"Hasta 4 gustos.",price:4500,category:"tamaos",thumbnail:x6,maxGustos:4,featured:!1},{id:3,title:"KG de helado",description:"Hasta 4 gustos.",price:8e3,category:"tamaos",thumbnail:O6,maxGustos:4,featured:!1}],V6=()=>T.jsx("div",{className:"cards__container",children:M6.map((i,e)=>T.jsx(jb,{title:i.title,price:i.price,thumbnail:i.thumbnail,product:i,isFeatured:e===0,imageRight:e%2!==0},i.id))}),k6=({children:i})=>{const{user:e,loading:t}=er();return t?T.jsx("p",{children:"Cargando sesin..."}):e?i:T.jsx(RR,{to:"/admin/login",replace:!0})},P6=()=>{const{login:i}=er(),e=If(),[t,s]=I.useState(""),[o,u]=I.useState(""),[c,m]=I.useState(""),p=async g=>{g.preventDefault(),m("");try{await i(t,o),e("/admin")}catch(v){m("Credenciales incorrectas",v)}};return T.jsxs("section",{className:"admin-login",children:[T.jsx("h2",{children:"Admin Login"}),T.jsxs("form",{onSubmit:p,children:[T.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:g=>s(g.target.value),required:!0}),T.jsx("input",{type:"password",placeholder:"Contrasea",value:o,onChange:g=>u(g.target.value),required:!0}),c&&T.jsx("p",{style:{color:"red"},children:c}),T.jsx("button",{type:"submit",children:"Ingresar"})]})]})},L6=()=>T.jsxs("aside",{className:"admin-sidebar",children:[T.jsx("h1",{className:"admin-sidebar__logo",children:"Admin"}),T.jsxs("nav",{className:"admin-sidebar__nav",children:[T.jsx(jh,{to:"/admin",end:!0,className:({isActive:i})=>i?"active":"",children:" Dashboard"}),T.jsx(jh,{to:"/admin/pedidos",className:({isActive:i})=>i?"active":"",children:" Pedidos"}),T.jsx(jh,{to:"/admin/stock",className:({isActive:i})=>i?"active":"",children:" Stock"})]})]}),U6=()=>{const{user:i,logout:e}=er(),t=If(),s=async()=>{await e(),t("/")};return T.jsxs("div",{className:"admin-layout",children:[T.jsx(L6,{}),T.jsxs("main",{className:"admin-main",children:[T.jsxs("header",{className:"admin-header",children:[T.jsx("span",{children:i.email}),T.jsx("button",{onClick:s,children:"Salir"})]}),T.jsx("section",{className:"admin-content",children:T.jsx(CR,{})})]})]})},j6=(i,e)=>{const t=new Date(i,e,1),s=[];for(;t.getMonth()===e;){const o=t.getFullYear(),u=String(t.getMonth()+1).padStart(2,"0"),c=String(t.getDate()).padStart(2,"0");s.push(`${o}-${u}-${c}`),t.setDate(t.getDate()+1)}return s},z6=i=>{const e=i.getFullYear(),t=String(i.getMonth()+1).padStart(2,"0"),s=String(i.getDate()).padStart(2,"0");return`${e}-${t}-${s}`},r1=i=>{const e=Number(i);return Number.isFinite(e)?e:0},B6=async()=>{const i=Ho(Pn(tt,"orders"),du("status","==","completed"),Ta("createdAt","desc")),e=await Af(i);let t=0,s=0,o=0;const u={},c={},m={};return e.forEach(p=>{const g=p.data();if(!g.createdAt?.toDate)return;const v=z6(g.createdAt.toDate());c[v]=(c[v]||0)+1,g.archived===!0&&o++;const A=r1(g.total);A<=0||(t+=A,s++,u[v]=(u[v]||0)+A,Array.isArray(g.items)&&g.items.forEach(w=>{const D=w.productId||w.id||w.title||"unknown",U=r1(w.quantity);U<=0||(m[D]=(m[D]||0)+U)}))}),{totalRevenue:t,totalOrders:s,archivedCount:o,salesByDay:u,ordersByDay:c,products:m}},q6=({data:i=[]})=>{if(!i.length)return T.jsx("div",{className:"bar-chart__empty",children:"No hay datos para graficar"});const e=Math.max(...i.map(t=>t.total),1);return T.jsx("div",{className:"bar-chart",children:i.map(({day:t,total:s})=>{const o=Math.max(s/e*100,s>0?6:2);return T.jsxs("div",{className:"bar-chart__item",children:[T.jsx("div",{className:"bar-chart__bar-wrapper",children:T.jsx("div",{className:`bar-chart__bar ${s>0?"has-sales":""}`,style:{height:`${o}%`},title:`$${s}`})}),T.jsx("span",{className:"bar-chart__label",children:t.slice(8,10)}),T.jsxs("span",{className:"bar-chart__value",children:["$",s]})]},t)})})},s1=10,zb=()=>{const[i,e]=I.useState([]),[t,s]=I.useState(null),[o,u]=I.useState(!1),{gustos:c}=xa(),[m,p]=I.useState(null),[g,v]=I.useState(""),[A,w]=I.useState(!1),D=P=>c.find(Z=>Z.id===P)?.name||"",U=I.useCallback(async({reset:P=!1}={})=>{if(o)return;u(!0);const K=await v6({pageSize:s1,lastDoc:P?null:t,date:m});e(Z=>P?K.orders:[...Z,...K.orders]),s(K.lastDoc),w(!0),u(!1)},[m,t,o]);I.useEffect(()=>{U({reset:!0})},[]);const j=()=>{e([]),s(null),w(!1),p(g||null),U({reset:!0})};return T.jsxs("section",{className:"admin-archived-orders",children:[T.jsx("h2",{children:"Pedidos archivados"}),T.jsxs("div",{className:"archived-filters",children:[T.jsx("input",{type:"date",value:g,onChange:P=>v(P.target.value)}),T.jsx("button",{className:"btn btn--secondary",disabled:o,onClick:j,children:"Aplicar filtro"})]}),o&&T.jsx("p",{className:"admin-orders__loading",children:"Cargando pedidos archivados"}),!o&&A&&i.length===0&&T.jsx("p",{className:"archived-empty visible",children:m?"No hay pedidos archivados en este da":"No hay pedidos archivados"}),i.map(P=>T.jsxs("article",{className:"order-card archived",children:[T.jsxs("header",{className:"order-card__header",children:[T.jsxs("strong",{children:["Pedido #",P.id.slice(0,6)]}),T.jsx("span",{className:"archived-badge",children:"Archivado"})]}),T.jsxs("section",{className:"order-card__info",children:[T.jsxs("p",{children:[T.jsx("strong",{children:"Comprador:"})," ",P.customer?.name||"Sin nombre"]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Total:"})," $",P.total]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Fecha:"})," ",P.createdAt?.toDate?.().toLocaleString()||""]})]}),T.jsx("ul",{className:"order-card__items",children:P.items?.map((K,Z)=>T.jsxs("li",{children:[T.jsx("strong",{children:K.title})," x",K.quantity,K.gustos?.length>0&&T.jsxs("div",{className:"archived-gustos",children:[" Gustos:"," ",K.gustos.map(q=>D(q)).join(", ")]})]},Z))})]},P.id)),!o&&i.length>=s1&&t&&T.jsx("button",{className:"btn btn--secondary",onClick:()=>U(),children:"Cargar ms"})]})},F6=()=>{const[i,e]=I.useState(null),[t,s]=I.useState(!0);return I.useEffect(()=>{(async()=>{if(!ya.currentUser){e(null),s(!1);return}const u=cn(tt,"users",ya.currentUser.uid),c=await hb(u);e(c.exists()?c.data().role:null),s(!1)})()},[]),{role:i,loading:t}},H6="nicola",a1=(i=new Date)=>{const e=i.getFullYear(),t=String(i.getMonth()+1).padStart(2,"0"),s=String(i.getDate()).padStart(2,"0");return`${e}-${t}-${s}`},G6=()=>{const{role:i,loading:e}=F6(),[t,s]=I.useState(null),[o,u]=I.useState(!1),[c,m]=I.useState(!1),[p,g]=I.useState(!1),[v,A]=I.useState(!1);I.useEffect(()=>{B6().then(s)},[]);const w=I.useMemo(()=>{if(!t)return[];const K=new Date;return j6(K.getFullYear(),K.getMonth()).map(q=>({day:q,total:t.salesByDay[q]||0}))},[t]),D=I.useMemo(()=>{if(!t)return 0;const K=a1();return t.salesByDay[K]||0},[t]),U=I.useMemo(()=>{if(!t)return 0;const K=a1();return t.ordersByDay?.[K]||0},[t]),j=()=>{const K=prompt("Ingres la contrasea");K===H6?A(!0):K!==null&&alert("Contrasea incorrecta")};if(!t||e)return T.jsx("p",{children:"Cargando dashboard"});const P=i==="admin";return T.jsxs("section",{className:"admin-dashboard",children:[T.jsx("h2",{children:"Dashboard"}),T.jsxs("div",{className:"dashboard-grid",children:[P&&T.jsxs("div",{className:"metric-card",style:{cursor:"pointer"},onClick:v?void 0:j,children:[T.jsx("span",{children:"Ventas totales"}),T.jsx("strong",{children:v?`$${t.totalRevenue}`:""}),!v&&T.jsx("small",{children:"Tocar para desbloquear"})]}),T.jsxs("div",{className:"metric-card highlight",children:[T.jsx("span",{children:"Ventas de hoy"}),T.jsxs("strong",{children:["$",D]})]}),T.jsxs("div",{className:"metric-card highlight",children:[T.jsx("span",{children:"Pedidos de hoy"}),T.jsx("strong",{children:U})]}),T.jsxs("div",{className:"metric-card",children:[T.jsx("span",{children:"Pedidos"}),T.jsx("strong",{children:t.totalOrders})]}),T.jsxs("div",{className:"metric-card muted",style:{cursor:"pointer"},onClick:()=>g(K=>!K),children:[T.jsx("span",{children:"Pedidos archivados"}),T.jsx("strong",{children:t.archivedCount}),T.jsx("small",{children:p?"Ocultar":"Ver detalle"})]})]}),p&&T.jsx(zb,{}),T.jsxs("div",{className:"dashboard-actions",children:[P&&T.jsx("button",{className:"toggle-sales-btn",onClick:()=>{if(!v){j();return}u(K=>!K)},children:o?"Ocultar ventas por da":"Ver ventas por da"}),P&&o&&v&&T.jsx("button",{className:"toggle-sales-btn secondary",onClick:()=>m(K=>!K),children:c?"Mostrar ventas":"Ocultar das"})]}),P&&o&&v&&T.jsxs(T.Fragment,{children:[T.jsx("h3",{children:"Ventas del mes"}),!c&&T.jsx("ul",{className:"sales-by-day",children:w.map(({day:K,total:Z})=>T.jsxs("li",{className:Z>0?"has-sales":"",children:[T.jsx("span",{children:K}),T.jsxs("strong",{children:["$",Z]})]},K))}),T.jsx(q6,{data:w})]})]})},Wh=async({orderId:i,type:e,from:t=null,to:s=null,actor:o="admin",actorName:u="Admin",meta:c={}})=>{await ad(Pn(tt,"order_events"),{orderId:i,type:e,from:t,to:s,actor:o,actorName:u,meta:c,timestamp:Go()})},$6={ORDER_CREATED:"Pedido creado",STATUS_CHANGED:"Estado actualizado",WHATSAPP_SENT:"WhatsApp enviado",ORDER_CANCELLED:"Pedido cancelado",ORDER_DELETED:"Pedido eliminado",ORDER_ARCHIVED:"Pedido archivado"},o1={pending:"Pendiente",in_transit:"En camino",completed:"Completado",cancelled:"Cancelado"},K6=({events:i=[]})=>{const[e,t]=I.useState(!1);return T.jsxs("div",{className:"order-history",children:[T.jsx("button",{type:"button",className:"order-history__toggle",onClick:()=>t(s=>!s),children:e?"Ocultar historial":"Ver historial"}),e&&T.jsx("ul",{className:"order-history__timeline",children:i.length===0?T.jsx("li",{className:"order-history__empty",children:"No hay eventos registrados"}):i.map(s=>T.jsxs("li",{className:"order-history__item",children:[T.jsx("span",{className:"order-history__dot"}),T.jsxs("div",{className:"order-history__content",children:[T.jsx("strong",{children:$6[s.type]||s.type}),s.from&&s.to&&T.jsxs("span",{className:"order-history__change",children:[o1[s.from]||s.from," "," ",o1[s.to]||s.to]}),T.jsx("time",{children:s.timestamp?.toDate?.().toLocaleString()||""})]})]},s.id))})]})},Q6=()=>{const[i,e]=I.useState({});return I.useEffect(()=>{const t=Ho(Pn(tt,"order_events"),Ta("timestamp","desc"));return Wu(t,o=>{const u={};o.docs.forEach(c=>{const m={id:c.id,...c.data()};u[m.orderId]||(u[m.orderId]=[]),u[m.orderId].push(m)}),e(u)})},[]),i},ko={wave:"",sparkles:"",hands:"",iceCream:""},Y6={pending:"Pendiente",in_transit:"En camino",completed:"Completado",cancelled:"Cancelado"},X6=async i=>{try{await vy(cn(tt,"orders",i)),await Wh({orderId:i,type:"ORDER_DELETED"})}catch(e){console.error("deleteOrder error:",e)}},Mp=(i,e)=>{if(!i)return;const t=i.replace(/\D/g,""),s=encodeURIComponent(e);window.open(`https://api.whatsapp.com/send?phone=${t}&text=${s}`,"_blank")},l1=(i,e)=>[`Hola ${i.customer?.name||""} ${ko.wave} ${ko.iceCream}`,"","Tu pedido est casi listo!","",` El costo de envo hasta tu direccin es de $${e}.`,""," Resumen del pedido:",` Productos: $${i.total}`,` Envo: $${e}`,"",` TOTAL con envo: $*${(i.total??0)+e}*`,"",`Confirms el pedido para enviarlo? ${ko.sparkles}`].join(`
`),W6=i=>[`Tu pedido ya est en camino ${ko.sparkles}`,"",`Gracias ${i.customer?.name||""} por elegir Helados Doncru! ${ko.iceCream} ${ko.hands}`].join(`
`),J6=()=>{const[i,e]=I.useState([]),[t,s]=I.useState(!0),[o,u]=I.useState("all"),[c,m]=I.useState(null),{gustos:p}=xa(),g=Q6(),v=I.useRef(!1),A=I.useRef(null),w=I.useRef(0),D=I.useCallback(async q=>{try{const re=Pn(tt,"orders"),ce=(await Af(re)).docs.map(N=>({id:N.id,...N.data()}));if(e(ce),s(!1),m(null),typeof q=="function")try{q()}catch(N){console.error(N)}}catch(re){console.error("Fallback getDocs failed:",re),m(re?.message||"Error desconocido al leer pedidos"),s(!1)}},[]),U=q=>p.find(oe=>oe.id===q)?.name||"";I.useEffect(()=>{if(v.current)return;v.current=!0;const re=Pn(tt,"orders"),oe=Wu(re,ce=>{const N=ce.docs.map(S=>({id:S.id,...S.data()}));w.current>0&&N.length>w.current&&A.current?.play().catch(()=>{}),w.current=N.length,e(N),s(!1),m(null)},ce=>{console.error("onSnapshot error:",ce),m(ce?.message||"Error al suscribirse a pedidos"),D(oe)});return()=>{try{oe()}catch(ce){console.error(ce)}v.current=!1}},[D]);const j=async(q,re)=>{try{await da(cn(tt,"orders",q.id),{status:re}),await Wh({orderId:q.id,type:"STATUS_CHANGED",from:q.status,to:re}),re==="in_transit"&&Mp(q.customer?.phone,W6(q)),re==="completed"&&await da(cn(tt,"orders",q.id),{status:"completed",completedAt:Go(),createdAt:Go(),archived:!1})}catch(oe){console.error("updateStatus error:",oe)}},P=async(q,re)=>{if(!(!re||re<=0))try{await da(cn(tt,"orders",q.id),{"shipping.final":re}),await Wh({orderId:q.id,type:"SHIPPING_ADJUSTED",meta:{to:re}}),Mp(q.customer?.phone,l1(q,re))}catch(oe){console.error("updateShipping error:",oe)}},K=async(q,re="Admin")=>{try{const oe=i.find(ce=>ce.id===q);if(!oe)throw new Error("Pedido no encontrado");await T6({...oe,archivedBy:re}),await Wh({orderId:q,type:"ORDER_ARCHIVED",meta:{archivedBy:re}}),Ge.success("Pedido archivado y stock descontado ")}catch(oe){console.error("archiveOrder error:",oe),Ge.error(oe.message||"Error al archivar pedido")}},Z=(o==="all"?i:i.filter(q=>q.status===o)).filter(q=>!q.archived);return t?T.jsx("p",{className:"admin-orders__loading",children:"Cargando pedidos..."}):T.jsxs("main",{className:"admin-orders",children:[T.jsx("audio",{ref:A,src:"/sounds/new-order.wav",preload:"auto"}),T.jsxs("header",{className:"admin-orders__header",children:[T.jsx("h2",{children:"Pedidos"}),T.jsxs("div",{className:"admin-orders__controls",style:{display:"flex",gap:8,alignItems:"center"},children:[T.jsxs("select",{value:o,onChange:q=>u(q.target.value),children:[T.jsx("option",{value:"all",children:"Todos"}),T.jsx("option",{value:"pending",children:"Pendientes"}),T.jsx("option",{value:"in_transit",children:"En camino"}),T.jsx("option",{value:"completed",children:"Completados"}),T.jsx("option",{value:"cancelled",children:"Cancelados"})]}),c&&T.jsxs("div",{style:{color:"crimson",fontSize:13},children:["Error al cargar: ",c,T.jsx("button",{className:"btn btn--secondary",style:{marginLeft:8},onClick:()=>{s(!0),m(null),v.current=!1},children:"Reintentar"})]})]})]}),T.jsx("section",{className:"admin-orders__list",children:Z.map(q=>T.jsxs("article",{className:"order-card",children:[T.jsxs("header",{className:"order-card__header",children:[T.jsxs("strong",{children:["Pedido #",q.id.slice(0,6)]}),T.jsx("span",{className:`order-status order-status--${q.status}`,children:Y6[q.status]})]}),T.jsxs("section",{className:"order-card__info",children:[q.customer?.name&&T.jsxs("p",{children:[T.jsx("strong",{children:"Cliente:"})," ",q.customer.name]}),q.customer?.direction&&T.jsxs("p",{children:[T.jsx("strong",{children:"Direccin:"})," ",q.customer.direction]}),q.customer?.phone&&T.jsxs("p",{children:[T.jsx("strong",{children:"Telfono:"})," ",T.jsx("a",{href:`https://wa.me/${q.customer.phone}`,target:"_blank",rel:"noreferrer",children:q.customer.phone})]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Productos:"})," $",q.total]}),T.jsxs("p",{children:[T.jsx("s",{children:"Envo estimado:"})," ",q.shipping?.estimated??"No informado"]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Envo final:"})," ",q.shipping?.final??"Pendiente"]}),q.customer?.direction&&T.jsxs("p",{children:[T.jsx("strong",{children:"TOTAL CON ENVI:"})," ",q.total+q.shipping?.final]})]}),T.jsx("ul",{className:"order-card__items",children:q.items?.map((re,oe)=>T.jsxs("li",{children:[re.title," x",re.quantity,re.gustos?.length>0&&T.jsxs("div",{className:"archived-gustos",children:[" Gustos:"," ",re.gustos.map(ce=>U(ce)).join(", ")]})]},oe))}),T.jsxs("footer",{className:"order-card__actions",children:[T.jsxs("div",{className:"shipping-select-wrapper",children:[T.jsxs("select",{className:"shipping-select",onChange:re=>da(cn(tt,"orders",q.id),{"shipping.final":Number(re.target.value)}),defaultValue:"",children:[T.jsx("option",{value:"",disabled:!0,children:"Costo envio"}),T.jsx("option",{value:"2000",children:"$2000"}),T.jsx("option",{value:"2500",children:"$2500"}),T.jsx("option",{value:"3000",children:"$3000"}),T.jsx("option",{value:"4000",children:"$4000"}),T.jsx("option",{value:"4500",children:"$4500"}),T.jsx("option",{value:"5000",children:"$5000"})]}),T.jsx("input",{type:"number",min:"0",placeholder:"Otro $",className:"shipping-input",value:q.shipping?.final??"",onChange:re=>da(cn(tt,"orders",q.id),{"shipping.final":Number(re.target.value)})})]}),T.jsx("button",{className:"btn btn--primary",disabled:!q.shipping?.final,onClick:()=>P(q,q.shipping.final),children:"Enviar costo de envo"}),T.jsx("button",{className:"btn btn--secondary",onClick:()=>j(q,"pending"),children:"Pendiente"}),T.jsx("button",{className:"btn btn--whatsapp",disabled:!q.shipping?.final,onClick:()=>j(q,"in_transit"),children:"En camino "}),T.jsx("button",{className:"btn btn--primary",onClick:()=>j(q,"completed"),children:"Completado"}),q.status==="completed"&&T.jsx("button",{className:"btn btn--secondary",onClick:()=>K(q.id),children:"Archivar"}),T.jsx("button",{className:"btn",onClick:()=>Mp(q.customer?.phone,l1(q,q.shipping?.final??0)),children:"WhatsApp"}),T.jsx("button",{className:"order-delete-btn",onClick:()=>X6(q.id),children:""})]}),T.jsx("aside",{children:T.jsx(K6,{events:g[q.id]||[]})})]},q.id))})]})},Z6=()=>T.jsx(J6,{}),ek=async({gustoId:i,gustoName:e,status:t,weight:s})=>{await ad(Pn(tt,"stock_alerts"),{gustoId:i,gustoName:e,status:t,weight:s,createdAt:Go()})},tk=()=>{const[i,e]=I.useState([]),[t,s]=I.useState(!0);return I.useEffect(()=>{const o=Ho(Pn(tt,"stock_alerts"),Ta("createdAt","desc")),u=Wu(o,c=>{const m=c.docs.map(p=>({id:p.id,...p.data()}));e(m),s(!1)});return()=>u()},[]),{alerts:i,loading:t}},Ph=(i=0)=>i<=3e3?"danger":i<=5e3?"warning":"ok",nk="5492477361535",ik=(i,e)=>{const t=(e/1e3).toFixed(2),s=`
 STOCK BAJO 

Gusto: ${i.name}
Stock: ${t} kg

Reponer urgente 
  `.trim(),o=`https://api.whatsapp.com/send?phone=${nk}&text=${encodeURIComponent(s)}`;window.open(o,"_blank")},rk=()=>{const{gustos:i,loading:e}=xa(),{alerts:t,loading:s}=tk(),[o,u]=I.useState(null),[c,m]=I.useState(""),[p,g]=I.useState(!1),[v,A]=I.useState("all"),[w,D]=I.useState("all"),[U,j]=I.useState(""),P=I.useRef({});I.useEffect(()=>{i.length&&i.forEach(S=>{const C=Ph(S.weight),V=P.current[S.id];C!==V&&(C==="danger"&&Ge.error(` Stock crtico: ${S.name}`,{id:`danger-${S.id}`}),C==="warning"&&Ge(` Stock bajo: ${S.name}`,{id:`warning-${S.id}`})),P.current[S.id]=C})},[i]);const K=I.useMemo(()=>{const S=new Set(i.map(C=>C.category).filter(Boolean));return["all",...Array.from(S)]},[i]),Z=I.useMemo(()=>i.filter(S=>{const C=Ph(S.weight),V=v==="all"||S.category===v,M=w==="all"||C===w,B=S.name.toLowerCase().includes(U.toLowerCase());return V&&M&&B}),[i,v,w,U]),q=S=>{u(S.id),m(S.weight)},re=()=>{u(null),m("")},oe=async S=>{if(p)return;const C=Number(c);if(isNaN(C)||C<0){Ge.error("El peso debe ser un nmero vlido");return}try{g(!0),await ug(S.id,{weight:C}),Ge.success("Stock actualizado "),re()}catch(V){console.error(V),Ge.error("Error al actualizar stock")}finally{g(!1)}},ce=async S=>{try{await ug(S.id,{active:S.active===!1}),Ge.success(S.active===!1?"Gusto habilitado ":"Gusto inhabilitado ")}catch(C){console.error(C),Ge.error("Error al cambiar estado del gusto")}},N=async S=>{try{console.log("enviando alerta..",S.name);const C=Ph(S.weight);ik(S,S.weight),await ek({gustoId:S.id,gustoName:S.name,status:C,weight:S.weight}),Ge.success("Aviso enviado y registrado ")}catch(C){console.error(C),Ge.error("Error al guardar historial")}};return e?T.jsx("p",{className:"admin-stock__loading",children:"Cargando stock"}):T.jsxs("section",{className:"admin-stock",children:[T.jsx("h2",{children:" Stock de gustos"}),T.jsxs("div",{className:"admin-stock__filters",children:[T.jsx("input",{type:"text",placeholder:"Buscar gusto",value:U,onChange:S=>j(S.target.value)}),T.jsx("select",{value:v,onChange:S=>A(S.target.value),children:K.map(S=>T.jsx("option",{value:S,children:S==="all"?"Todas las categoras":S},S))}),T.jsxs("select",{value:w,onChange:S=>D(S.target.value),children:[T.jsx("option",{value:"all",children:"Todos"}),T.jsx("option",{value:"ok",children:" OK"}),T.jsx("option",{value:"warning",children:" Bajo"}),T.jsx("option",{value:"danger",children:" Crtico"})]})]}),T.jsxs("div",{className:"admin-stock__list",children:[Z.length===0&&T.jsx("p",{className:"admin-stock__empty",children:"No hay gustos que coincidan con los filtros"}),Z.map(S=>{const C=Ph(S.weight),V=o===S.id,M=S.active===!1;return T.jsxs("div",{className:`admin-stock__item ${C} ${M?"disabled":""}`,children:[T.jsxs("div",{className:"admin-stock__info",children:[T.jsx("strong",{children:S.name}),T.jsx("span",{className:"category",children:S.category}),M&&T.jsx("span",{className:"category",style:{color:"crimson"},children:"INHABILITADO"})]}),T.jsx("div",{className:"admin-stock__weight",children:V?T.jsx("input",{type:"number",min:"0",step:"1",value:c,onChange:B=>m(B.target.value)}):`${(S.weight/1e3).toFixed(2)} kg`}),T.jsx("div",{className:"admin-stock__actions",children:V?T.jsxs(T.Fragment,{children:[T.jsx("button",{className:"btn-save",disabled:p,onClick:()=>oe(S),children:""}),T.jsx("button",{className:"btn-cancel",onClick:re,children:""})]}):T.jsxs(T.Fragment,{children:[T.jsxs("span",{className:"admin-stock__status",children:[C==="ok"&&" OK",C==="warning"&&" Bajo",C==="danger"&&" Crtico"]}),(C==="warning"||C==="danger")&&T.jsx("button",{className:"btn-alert",onClick:()=>N(S),title:"Avisar por WhatsApp",children:""}),T.jsx("button",{className:"btn-edit",onClick:()=>q(S),title:"Editar stock",children:""}),T.jsx("button",{className:"btn-edit",onClick:()=>ce(S),title:M?"Habilitar gusto":"Inhabilitar gusto",children:M?"":""})]})})]},S.id)})]}),T.jsxs("section",{className:"admin-stock__history",children:[T.jsx("h3",{children:" Historial de alertas"}),s&&T.jsx("p",{children:"Cargando historial"}),!s&&t.length===0&&T.jsx("p",{children:"No hay alertas registradas"}),!s&&t.length>0&&T.jsx("div",{className:"alert-history",children:t.slice(0,10).map(S=>T.jsxs("div",{className:"alert-history__item",children:[T.jsx("strong",{children:S.gustoName}),T.jsxs("span",{children:[(S.weight/1e3).toFixed(2)," kg"]}),T.jsx("span",{className:`alert-tag ${S.status}`,children:S.status==="danger"?"Crtico":"Bajo"}),T.jsx("small",{children:S.createdAt?.toDate?.().toLocaleString()||""})]},S.id))})]})]})},sk=({text:i})=>T.jsx("div",{className:"container",children:T.jsx("p",{className:"container__text",children:i})}),ak=()=>{const[i,e]=I.useState([]),[t,s]=I.useState(!0);return I.useEffect(()=>{const o=Wu(Pn(tt,"products"),u=>{const c=u.docs.map(m=>({id:m.id,...m.data()}));e(c),s(!1)});return()=>o()},[]),{products:i,loading:t}},ok=({category:i})=>{const{products:e,loading:t}=ak();if(t)return T.jsx("div",{className:"cards__container cards__container--loading",children:T.jsxs("div",{className:"loader",children:[T.jsx("span",{className:"spinner"}),T.jsx("p",{children:"Cargando productos..."})]})});const o=[...i?e.filter(u=>u.category===i):e].sort((u,c)=>u.price-c.price);return T.jsx("div",{className:"cards__container",children:o.map((u,c)=>T.jsx(jb,{product:u,title:u.title,price:u.price,thumbnail:u.thumbnail,isFeatured:c===0,imageRight:c%2!==0},u.id))})},lk=()=>T.jsxs("main",{className:"main",children:[T.jsx(sk,{text:"Nuestros postres"}),T.jsx(ok,{category:"postres"})]});function uk(){const{role:i,loading:e}=er();if(e)return null;const t=i==="admin";return T.jsxs(ZR,{children:[T.jsx(m6,{}),T.jsx(o6,{}),!t&&T.jsx(d6,{}),T.jsxs(NR,{children:[T.jsx(Dn,{path:"/",element:T.jsx(u6,{})}),T.jsx(Dn,{path:"/gustos",element:T.jsx(n1,{})}),T.jsx(Dn,{path:"/gustos/:categoria",element:T.jsx(n1,{})}),T.jsx(Dn,{path:"/tamaos",element:T.jsx(V6,{})}),T.jsx(Dn,{path:"/postres",element:T.jsx(lk,{})}),T.jsx(Dn,{path:"/carrito",element:T.jsx(b6,{})}),T.jsx(Dn,{path:"/admin/login",element:T.jsx(P6,{})}),T.jsxs(Dn,{path:"/admin",element:T.jsx(k6,{children:T.jsx(U6,{})}),children:[T.jsx(Dn,{index:!0,element:T.jsx(G6,{})}),T.jsx(Dn,{path:"pedidos",element:T.jsx(Z6,{})}),T.jsx(Dn,{path:"orders/archived",element:T.jsx(zb,{})}),T.jsx(Dn,{path:"stock",element:T.jsx(rk,{})})]})]}),T.jsx(l6,{}),T.jsx(XC,{position:"bottom-center"})]})}const ck=({children:i})=>{const[e,t]=I.useState(null),[s,o]=I.useState(null),[u,c]=I.useState(!0),m=(g,v)=>AA(ya,g,v),p=async()=>{await SA(ya),localStorage.removeItem("auth"),t(null),o(null)};return I.useEffect(()=>{const g=localStorage.getItem("auth");if(g){const A=JSON.parse(g);t(A.user),o(A.role)}const v=OD(ya,async A=>{if(!A){t(null),o(null),localStorage.removeItem("auth"),c(!1);return}try{const w=cn(tt,"users",A.uid),D=await hb(w),U={uid:A.uid,email:A.email},j=D.exists()?D.data().role:null;t(U),o(j),localStorage.setItem("auth",JSON.stringify({user:U,role:j}))}catch(w){console.error("Auth error:",w),o(null)}c(!1)});return()=>v()},[]),u?null:T.jsx(L1.Provider,{value:{user:e,role:s,loading:u,login:m,logout:p},children:i})},u1=sessionStorage.getItem("redirect");u1&&(sessionStorage.removeItem("redirect"),window.history.replaceState(null,null,u1));C2.createRoot(document.getElementById("root")).render(T.jsx(ck,{children:T.jsx(p6,{children:T.jsx(uk,{})})}));
