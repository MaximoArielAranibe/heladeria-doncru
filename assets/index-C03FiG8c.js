(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function m1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var up={exports:{}},sc={};var W0;function x2(){if(W0)return sc;W0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:u,ref:o!==void 0?o:null,props:c}}return sc.Fragment=e,sc.jsx=t,sc.jsxs=t,sc}var J0;function D2(){return J0||(J0=1,up.exports=x2()),up.exports}var _=D2(),hp={exports:{}},Se={};var Z0;function O2(){if(Z0)return Se;Z0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,k={};function F(L,ne,ce){this.props=L,this.context=ne,this.refs=k,this.updater=ce||j}F.prototype.isReactComponent={},F.prototype.setState=function(L,ne){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ne,"setState")},F.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function W(){}W.prototype=F.prototype;function z(L,ne,ce){this.props=L,this.context=ne,this.refs=k,this.updater=ce||j}var re=z.prototype=new W;re.constructor=z,U(re,F.prototype),re.isPureReactComponent=!0;var oe=Array.isArray;function ue(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(L,ne,ce){var fe=ce.ref;return{$$typeof:i,type:L,key:ne,ref:fe!==void 0?fe:null,props:ce}}function V(L,ne){return C(L.type,ne,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function q(L){var ne={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ce){return ne[ce]})}var D=/\/+/g;function ot(L,ne){return typeof L=="object"&&L!==null&&L.key!=null?q(""+L.key):ne.toString(36)}function Mt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ue,ue):(L.status="pending",L.then(function(ne){L.status==="pending"&&(L.status="fulfilled",L.value=ne)},function(ne){L.status==="pending"&&(L.status="rejected",L.reason=ne)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Z(L,ne,ce,fe,be){var Ce=typeof L;(Ce==="undefined"||Ce==="boolean")&&(L=null);var Le=!1;if(L===null)Le=!0;else switch(Ce){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(L.$$typeof){case i:case e:Le=!0;break;case v:return Le=L._init,Z(Le(L._payload),ne,ce,fe,be)}}if(Le)return be=be(L),Le=fe===""?"."+ot(L,0):fe,oe(be)?(ce="",Le!=null&&(ce=Le.replace(D,"$&/")+"/"),Z(be,ne,ce,"",function(ks){return ks})):be!=null&&(M(be)&&(be=V(be,ce+(be.key==null||L&&L.key===be.key?"":(""+be.key).replace(D,"$&/")+"/")+Le)),ne.push(be)),1;Le=0;var Vt=fe===""?".":fe+":";if(oe(L))for(var lt=0;lt<L.length;lt++)fe=L[lt],Ce=Vt+ot(fe,lt),Le+=Z(fe,ne,ce,Ce,be);else if(lt=x(L),typeof lt=="function")for(L=lt.call(L),lt=0;!(fe=L.next()).done;)fe=fe.value,Ce=Vt+ot(fe,lt++),Le+=Z(fe,ne,ce,Ce,be);else if(Ce==="object"){if(typeof L.then=="function")return Z(Mt(L),ne,ce,fe,be);throw ne=String(L),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Le}function le(L,ne,ce){if(L==null)return L;var fe=[],be=0;return Z(L,fe,"","",function(Ce){return ne.call(ce,Ce,be++)}),fe}function ye(L){if(L._status===-1){var ne=L._result;ne=ne(),ne.then(function(ce){(L._status===0||L._status===-1)&&(L._status=1,L._result=ce)},function(ce){(L._status===0||L._status===-1)&&(L._status=2,L._result=ce)}),L._status===-1&&(L._status=0,L._result=ne)}if(L._status===1)return L._result.default;throw L._result}var Be=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},$e={map:le,forEach:function(L,ne,ce){le(L,function(){ne.apply(this,arguments)},ce)},count:function(L){var ne=0;return le(L,function(){ne++}),ne},toArray:function(L){return le(L,function(ne){return ne})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Se.Activity=b,Se.Children=$e,Se.Component=F,Se.Fragment=t,Se.Profiler=o,Se.PureComponent=z,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Se.__COMPILER_RUNTIME={__proto__:null,c:function(L){return N.H.useMemoCache(L)}},Se.cache=function(L){return function(){return L.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(L,ne,ce){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var fe=U({},L.props),be=L.key;if(ne!=null)for(Ce in ne.key!==void 0&&(be=""+ne.key),ne)!A.call(ne,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ne.ref===void 0||(fe[Ce]=ne[Ce]);var Ce=arguments.length-2;if(Ce===1)fe.children=ce;else if(1<Ce){for(var Le=Array(Ce),Vt=0;Vt<Ce;Vt++)Le[Vt]=arguments[Vt+2];fe.children=Le}return C(L.type,be,fe)},Se.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},Se.createElement=function(L,ne,ce){var fe,be={},Ce=null;if(ne!=null)for(fe in ne.key!==void 0&&(Ce=""+ne.key),ne)A.call(ne,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(be[fe]=ne[fe]);var Le=arguments.length-2;if(Le===1)be.children=ce;else if(1<Le){for(var Vt=Array(Le),lt=0;lt<Le;lt++)Vt[lt]=arguments[lt+2];be.children=Vt}if(L&&L.defaultProps)for(fe in Le=L.defaultProps,Le)be[fe]===void 0&&(be[fe]=Le[fe]);return C(L,Ce,be)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(L){return{$$typeof:m,render:L}},Se.isValidElement=M,Se.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ye}},Se.memo=function(L,ne){return{$$typeof:g,type:L,compare:ne===void 0?null:ne}},Se.startTransition=function(L){var ne=N.T,ce={};N.T=ce;try{var fe=L(),be=N.S;be!==null&&be(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ue,Be)}catch(Ce){Be(Ce)}finally{ne!==null&&ce.types!==null&&(ne.types=ce.types),N.T=ne}},Se.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Se.use=function(L){return N.H.use(L)},Se.useActionState=function(L,ne,ce){return N.H.useActionState(L,ne,ce)},Se.useCallback=function(L,ne){return N.H.useCallback(L,ne)},Se.useContext=function(L){return N.H.useContext(L)},Se.useDebugValue=function(){},Se.useDeferredValue=function(L,ne){return N.H.useDeferredValue(L,ne)},Se.useEffect=function(L,ne){return N.H.useEffect(L,ne)},Se.useEffectEvent=function(L){return N.H.useEffectEvent(L)},Se.useId=function(){return N.H.useId()},Se.useImperativeHandle=function(L,ne,ce){return N.H.useImperativeHandle(L,ne,ce)},Se.useInsertionEffect=function(L,ne){return N.H.useInsertionEffect(L,ne)},Se.useLayoutEffect=function(L,ne){return N.H.useLayoutEffect(L,ne)},Se.useMemo=function(L,ne){return N.H.useMemo(L,ne)},Se.useOptimistic=function(L,ne){return N.H.useOptimistic(L,ne)},Se.useReducer=function(L,ne,ce){return N.H.useReducer(L,ne,ce)},Se.useRef=function(L){return N.H.useRef(L)},Se.useState=function(L){return N.H.useState(L)},Se.useSyncExternalStore=function(L,ne,ce){return N.H.useSyncExternalStore(L,ne,ce)},Se.useTransition=function(){return N.H.useTransition()},Se.version="19.2.3",Se}var eE;function mg(){return eE||(eE=1,hp.exports=O2()),hp.exports}var I=mg();const M2=m1(I);var fp={exports:{}},ac={},dp={exports:{}},mp={};var tE;function V2(){return tE||(tE=1,(function(i){function e(Z,le){var ye=Z.length;Z.push(le);e:for(;0<ye;){var Be=ye-1>>>1,$e=Z[Be];if(0<o($e,le))Z[Be]=le,Z[ye]=$e,ye=Be;else break e}}function t(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var le=Z[0],ye=Z.pop();if(ye!==le){Z[0]=ye;e:for(var Be=0,$e=Z.length,L=$e>>>1;Be<L;){var ne=2*(Be+1)-1,ce=Z[ne],fe=ne+1,be=Z[fe];if(0>o(ce,ye))fe<$e&&0>o(be,ce)?(Z[Be]=be,Z[fe]=ye,Be=fe):(Z[Be]=ce,Z[ne]=ye,Be=ne);else if(fe<$e&&0>o(be,ye))Z[Be]=be,Z[fe]=ye,Be=fe;else break e}}return le}function o(Z,le){var ye=Z.sortIndex-le.sortIndex;return ye!==0?ye:Z.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();i.unstable_now=function(){return u.now()-m}}var p=[],g=[],v=1,b=null,w=3,x=!1,j=!1,U=!1,k=!1,F=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function re(Z){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=Z)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function oe(Z){if(U=!1,re(Z),!j)if(t(p)!==null)j=!0,ue||(ue=!0,q());else{var le=t(g);le!==null&&Mt(oe,le.startTime-Z)}}var ue=!1,N=-1,A=5,C=-1;function V(){return k?!0:!(i.unstable_now()-C<A)}function M(){if(k=!1,ue){var Z=i.unstable_now();C=Z;var le=!0;try{e:{j=!1,U&&(U=!1,W(N),N=-1),x=!0;var ye=w;try{t:{for(re(Z),b=t(p);b!==null&&!(b.expirationTime>Z&&V());){var Be=b.callback;if(typeof Be=="function"){b.callback=null,w=b.priorityLevel;var $e=Be(b.expirationTime<=Z);if(Z=i.unstable_now(),typeof $e=="function"){b.callback=$e,re(Z),le=!0;break t}b===t(p)&&s(p),re(Z)}else s(p);b=t(p)}if(b!==null)le=!0;else{var L=t(g);L!==null&&Mt(oe,L.startTime-Z),le=!1}}break e}finally{b=null,w=ye,x=!1}le=void 0}}finally{le?q():ue=!1}}}var q;if(typeof z=="function")q=function(){z(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ot=D.port2;D.port1.onmessage=M,q=function(){ot.postMessage(null)}}else q=function(){F(M,0)};function Mt(Z,le){N=F(function(){Z(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var ye=w;w=le;try{return Z()}finally{w=ye}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ye=w;w=Z;try{return le()}finally{w=ye}},i.unstable_scheduleCallback=function(Z,le,ye){var Be=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Be+ye:Be):ye=Be,Z){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=ye+$e,Z={id:v++,callback:le,priorityLevel:Z,startTime:ye,expirationTime:$e,sortIndex:-1},ye>Be?(Z.sortIndex=ye,e(g,Z),t(p)===null&&Z===t(g)&&(U?(W(N),N=-1):U=!0,Mt(oe,ye-Be))):(Z.sortIndex=$e,e(p,Z),j||x||(j=!0,ue||(ue=!0,q()))),Z},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(Z){var le=w;return function(){var ye=w;w=le;try{return Z.apply(this,arguments)}finally{w=ye}}}})(mp)),mp}var nE;function k2(){return nE||(nE=1,dp.exports=V2()),dp.exports}var pp={exports:{}},Zt={};var iE;function P2(){if(iE)return Zt;iE=1;var i=mg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,v)},Zt.flushSync=function(p){var g=u.T,v=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=g,s.p=v,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:x}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,v){return u.H.useFormState(p,g,v)},Zt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var rE;function p1(){if(rE)return pp.exports;rE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pp.exports=P2(),pp.exports}var sE;function L2(){if(sE)return ac;sE=1;var i=k2(),e=mg(),t=p1();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function u(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(c(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=c(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),n;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,S=f.child;S;){if(S===a){E=!0,a=f,l=d;break}if(S===l){E=!0,l=f,a=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===a){E=!0,a=d,l=f;break}if(S===l){E=!0,l=d,a=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function v(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=v(n),r!==null)return r;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),z=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function ot(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case F:return"Profiler";case k:return"StrictMode";case oe:return"Suspense";case ue:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case z:return n.displayName||"Context";case W:return(n._context.displayName||"Context")+".Consumer";case re:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case N:return r=n.displayName||null,r!==null?r:ot(n.type)||"Memo";case A:r=n._payload,n=n._init;try{return ot(n(r))}catch{}}return null}var Mt=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Be=[],$e=-1;function L(n){return{current:n}}function ne(n){0>$e||(n.current=Be[$e],Be[$e]=null,$e--)}function ce(n,r){$e++,Be[$e]=n.current,n.current=r}var fe=L(null),be=L(null),Ce=L(null),Le=L(null);function Vt(n,r){switch(ce(Ce,r),ce(be,n),ce(fe,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?E0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=E0(r),n=T0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(fe),ce(fe,n)}function lt(){ne(fe),ne(be),ne(Ce)}function ks(n){n.memoizedState!==null&&ce(Le,n);var r=fe.current,a=T0(r,n.type);r!==a&&(ce(be,n),ce(fe,a))}function Ma(n){be.current===n&&(ne(fe),ne(be)),Le.current===n&&(ne(Le),tc._currentValue=ye)}var Va,ka;function Ei(n){if(Va===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Va=r&&r[1]||"",ka=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Va+n+ka}var tl=!1;function Ps(n,r){if(!n||tl)return"";tl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var K=Y}Reflect.construct(n,[],te)}else{try{te.call()}catch(Y){K=Y}n.call(te.prototype)}}else{try{throw Error()}catch(Y){K=Y}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var O=E.split(`
`),$=S.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===$.length)for(l=O.length-1,f=$.length-1;1<=l&&0<=f&&O[l]!==$[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==$[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==$[f]){var J=`
`+O[l].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=l&&0<=f);break}}}finally{tl=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ei(a):""}function nl(n,r){switch(n.tag){case 26:case 27:case 5:return Ei(n.type);case 16:return Ei("Lazy");case 13:return n.child!==r&&r!==null?Ei("Suspense Fallback"):Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Ps(n.type,!1);case 11:return Ps(n.type.render,!1);case 1:return Ps(n.type,!0);case 31:return Ei("Activity");default:return""}}function il(n){try{var r="",a=null;do r+=nl(n,a),a=n,n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,kt=i.unstable_scheduleCallback,Dr=i.unstable_cancelCallback,fd=i.unstable_shouldYield,eu=i.unstable_requestPaint,an=i.unstable_now,Ls=i.unstable_getCurrentPriorityLevel,rl=i.unstable_ImmediatePriority,sl=i.unstable_UserBlockingPriority,Or=i.unstable_NormalPriority,dd=i.unstable_LowPriority,tu=i.unstable_IdlePriority,nu=i.log,iu=i.unstable_setDisableYieldValue,ni=null,Ht=null;function jn(n){if(typeof nu=="function"&&iu(n),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ni,n)}catch{}}var gt=Math.clz32?Math.clz32:su,ru=Math.log,Pa=Math.LN2;function su(n){return n>>>=0,n===0?32:31-(ru(n)/Pa|0)|0}var Ti=256,js=262144,bt=4194304;function bi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ai(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=bi(l):(E&=S,E!==0?f=bi(E):a||(a=S&~n,a!==0&&(f=bi(a))))):(S=l&~d,S!==0?f=bi(S):E!==0?f=bi(E):a||(a=l&~n,a!==0&&(f=bi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function ii(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function md(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var n=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),n}function Si(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Us(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function pd(n,r,a,l,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,O=n.expirationTimes,$=n.hiddenUpdates;for(a=E&~a;0<a;){var J=31-gt(a),te=1<<J;S[J]=0,O[J]=-1;var K=$[J];if(K!==null)for($[J]=null,J=0;J<K.length;J++){var Y=K[J];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&zs(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~r))}function zs(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-gt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&261930}function al(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-gt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function ol(n,r){var a=r&-r;return a=(a&42)!==0?1:Bs(a),(a&(n.suspendedLanes|r))!==0?0:a}function Bs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function tr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ou(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:H0(n.type))}function ri(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var si=Math.random().toString(36).slice(2),At="__reactFiber$"+si,Ut="__reactProps$"+si,wi="__reactContainer$"+si,La="__reactEvents$"+si,gd="__reactListeners$"+si,lu="__reactHandles$"+si,cu="__reactResources$"+si,Ri="__reactMarker$"+si;function ja(n){delete n[At],delete n[Ut],delete n[La],delete n[gd],delete n[lu]}function Ci(n){var r=n[At];if(r)return r;for(var a=n.parentNode;a;){if(r=a[wi]||a[At]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=I0(n);n!==null;){if(a=n[At])return a;n=I0(n)}return r}n=a,a=n.parentNode}return null}function Un(n){if(n=n[At]||n[wi]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function bn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Ii(n){var r=n[cu];return r||(r=n[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function St(n){n[Ri]=!0}var ll=new Set,cl={};function Ni(n,r){xi(n,r),xi(n+"Capture",r)}function xi(n,r){for(cl[n]=r,n=0;n<r.length;n++)ll.add(r[n])}var ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},fl={};function uu(n){return Tt.call(fl,n)?!0:Tt.call(hl,n)?!1:ul.test(n)?fl[n]=!0:(hl[n]=!0,!1)}function Ua(n,r,a){if(uu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function An(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function wt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function zt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Mr(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function dl(n,r,a){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){a=""+E,d.call(this,E)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ke(n){if(!n._valueTracker){var r=Mr(n)?"checked":"value";n._valueTracker=dl(n,r,""+n[r])}}function qs(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Mr(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Di(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Fs=/[\n"\\]/g;function fn(n){return n.replace(Fs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function za(n,r,a,l,f,d,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+zt(r)):n.value!==""+zt(r)&&(n.value=""+zt(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?ml(n,E,zt(r)):a!=null?ml(n,E,zt(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+zt(S):n.removeAttribute("name")}function hu(n,r,a,l,f,d,E,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ke(n);return}a=a!=null?""+zt(a):"",r=r!=null?""+zt(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=S?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),Ke(n)}function ml(n,r,a){r==="number"&&Di(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Vr(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+zt(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function fu(n,r,a){if(r!=null&&(r=""+zt(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+zt(a):""}function kr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=zt(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l),Ke(n)}function dn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pl(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||du.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function gl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&pl(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&pl(n,d,r[d])}function Ba(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(n){return Pr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ai(){}var yl=null;function zn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Lr=null,Oi=null;function Hs(n){var r=Un(n);if(r&&(n=r.stateNode)){var a=n[Ut]||null;e:switch(n=r.stateNode,r.type){case"input":if(za(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[Ut]||null;if(!f)throw Error(s(90));za(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&qs(l)}break e;case"textarea":fu(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Vr(n,!!a.multiple,r,!1)}}}var Fa=!1;function jr(n,r,a){if(Fa)return n(r,a);Fa=!0;try{var l=n(r);return l}finally{if(Fa=!1,(Lr!==null||Oi!==null)&&(oh(),Lr&&(r=Lr,n=Oi,Oi=Lr=null,Hs(r),n)))for(r=0;r<n.length;r++)Hs(n[r])}}function oi(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gs=!1;if(Bn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Gs=!1}var Mi=null,_l=null,$s=null;function vl(){if($s)return $s;var n,r=_l,a=r.length,l,f="value"in Mi?Mi.value:Mi.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return $s=f.slice(n,1<l?1-l:void 0)}function Ks(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function nr(){return!0}function li(){return!1}function Gt(n){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nr:li,this.isPropagationStopped=li,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),r}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=Gt(ir),Ur=b({},ir,{view:0,detail:0}),El=Gt(Ur),zr,Ha,ki,Ga=b({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Br,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ki&&(ki&&n.type==="mousemove"?(zr=n.screenX-ki.screenX,Ha=n.screenY-ki.screenY):Ha=zr=0,ki=n),zr)},movementY:function(n){return"movementY"in n?n.movementY:Ha}}),Tl=Gt(Ga),Qs=b({},Ga,{dataTransfer:0}),pu=Gt(Qs),gu=b({},Ur,{relatedTarget:0}),Ys=Gt(gu),bl=b({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Gt(bl),$a=b({},ir,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_u=Gt($a),vu=b({},ir,{data:0}),Pi=Gt(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=bu[n])?!!r[n]:!1}function Br(){return Au}var on=b({},Ur,{key:function(n){if(n.key){var r=Eu[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ks(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Tu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Br,charCode:function(n){return n.type==="keypress"?Ks(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ks(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Su=Gt(on),wu=b({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=Gt(wu),h=b({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Br}),y=Gt(h),T=b({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Gt(T),H=b({},Ga,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Gt(H),ae=b({},ir,{newState:0,oldState:0}),we=Gt(ae),yt=[9,13,27,32],He=Bn&&"CompositionEvent"in window,ct=null;Bn&&"documentMode"in document&&(ct=document.documentMode);var qn=Bn&&"TextEvent"in window&&!ct,Li=Bn&&(!He||ct&&8<ct&&11>=ct),ci=" ",ui=!1;function Xs(n,r){switch(n){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qa=!1;function ew(n,r){switch(n){case"compositionend":return Ka(r);case"keypress":return r.which!==32?null:(ui=!0,ci);case"textInput":return n=r.data,n===ci&&ui?null:n;default:return null}}function tw(n,r){if(Qa)return n==="compositionend"||!He&&Xs(n,r)?(n=vl(),$s=_l=Mi=null,Qa=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Li&&r.locale!=="ko"?null:r.data;default:return null}}var nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dy(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!nw[n.type]:r==="textarea"}function Oy(n,r,a,l){Lr?Oi?Oi.push(l):Oi=[l]:Lr=l,r=mh(r,"onChange"),0<r.length&&(a=new Vi("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Al=null,Sl=null;function iw(n){m0(n,0)}function Ru(n){var r=bn(n);if(qs(r))return n}function My(n,r){if(n==="change")return r}var Vy=!1;if(Bn){var yd;if(Bn){var _d="oninput"in document;if(!_d){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),_d=typeof ky.oninput=="function"}yd=_d}else yd=!1;Vy=yd&&(!document.documentMode||9<document.documentMode)}function Py(){Al&&(Al.detachEvent("onpropertychange",Ly),Sl=Al=null)}function Ly(n){if(n.propertyName==="value"&&Ru(Sl)){var r=[];Oy(r,Sl,n,zn(n)),jr(iw,r)}}function rw(n,r,a){n==="focusin"?(Py(),Al=r,Sl=a,Al.attachEvent("onpropertychange",Ly)):n==="focusout"&&Py()}function sw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ru(Sl)}function aw(n,r){if(n==="click")return Ru(r)}function ow(n,r){if(n==="input"||n==="change")return Ru(r)}function lw(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Sn=typeof Object.is=="function"?Object.is:lw;function wl(n,r){if(Sn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Tt.call(r,f)||!Sn(n[f],r[f]))return!1}return!0}function jy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Uy(n,r){var a=jy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jy(a)}}function zy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?zy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function By(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Di(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Di(n.document)}return r}function vd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var cw=Bn&&"documentMode"in document&&11>=document.documentMode,Ya=null,Ed=null,Rl=null,Td=!1;function qy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Td||Ya==null||Ya!==Di(l)||(l=Ya,"selectionStart"in l&&vd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Rl&&wl(Rl,l)||(Rl=l,l=mh(Ed,"onSelect"),0<l.length&&(r=new Vi("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ya)))}function Ws(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Xa={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},bd={},Fy={};Bn&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Js(n){if(bd[n])return bd[n];if(!Xa[n])return n;var r=Xa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Fy)return bd[n]=r[a];return n}var Hy=Js("animationend"),Gy=Js("animationiteration"),$y=Js("animationstart"),uw=Js("transitionrun"),hw=Js("transitionstart"),fw=Js("transitioncancel"),Ky=Js("transitionend"),Qy=new Map,Ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ad.push("scrollEnd");function hi(n,r){Qy.set(n,r),Ni(r,[n])}var Cu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Fn=[],Wa=0,Sd=0;function Iu(){for(var n=Wa,r=Sd=Wa=0;r<n;){var a=Fn[r];Fn[r++]=null;var l=Fn[r];Fn[r++]=null;var f=Fn[r];Fn[r++]=null;var d=Fn[r];if(Fn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Yy(a,f,d)}}function Nu(n,r,a,l){Fn[Wa++]=n,Fn[Wa++]=r,Fn[Wa++]=a,Fn[Wa++]=l,Sd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function wd(n,r,a,l){return Nu(n,r,a,l),xu(n)}function Zs(n,r){return Nu(n,null,null,r),xu(n)}function Yy(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-gt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function xu(n){if(50<Ql)throw Ql=0,Vm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ja={};function dw(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(n,r,a,l){return new dw(n,r,a,l)}function Rd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function sr(n,r){var a=n.alternate;return a===null?(a=wn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Xy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Du(n,r,a,l,f,d){var E=0;if(l=n,typeof n=="function")Rd(n)&&(E=1);else if(typeof n=="string")E=_2(n,a,fe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=wn(31,a,r,f),n.elementType=C,n.lanes=d,n;case U:return ea(a.children,f,d,r);case k:E=8,f|=24;break;case F:return n=wn(12,a,r,f|2),n.elementType=F,n.lanes=d,n;case oe:return n=wn(13,a,r,f),n.elementType=oe,n.lanes=d,n;case ue:return n=wn(19,a,r,f),n.elementType=ue,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:E=10;break e;case W:E=9;break e;case re:E=11;break e;case N:E=14;break e;case A:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=wn(E,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function ea(n,r,a,l){return n=wn(7,n,l,r),n.lanes=a,n}function Cd(n,r,a){return n=wn(6,n,null,r),n.lanes=a,n}function Wy(n){var r=wn(18,null,null,0);return r.stateNode=n,r}function Id(n,r,a){return r=wn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Jy=new WeakMap;function Hn(n,r){if(typeof n=="object"&&n!==null){var a=Jy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:il(r)},Jy.set(n,r),r)}return{value:n,source:r,stack:il(r)}}var Za=[],eo=0,Ou=null,Cl=0,Gn=[],$n=0,qr=null,ji=1,Ui="";function ar(n,r){Za[eo++]=Cl,Za[eo++]=Ou,Ou=n,Cl=r}function Zy(n,r,a){Gn[$n++]=ji,Gn[$n++]=Ui,Gn[$n++]=qr,qr=n;var l=ji;n=Ui;var f=32-gt(l)-1;l&=~(1<<f),a+=1;var d=32-gt(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,ji=1<<32-gt(r)+f|a<<f|l,Ui=d+n}else ji=1<<d|a<<f|l,Ui=n}function Nd(n){n.return!==null&&(ar(n,1),Zy(n,1,0))}function xd(n){for(;n===Ou;)Ou=Za[--eo],Za[eo]=null,Cl=Za[--eo],Za[eo]=null;for(;n===qr;)qr=Gn[--$n],Gn[$n]=null,Ui=Gn[--$n],Gn[$n]=null,ji=Gn[--$n],Gn[$n]=null}function e_(n,r){Gn[$n++]=ji,Gn[$n++]=Ui,Gn[$n++]=qr,ji=r.id,Ui=r.overflow,qr=n}var $t=null,st=null,Pe=!1,Fr=null,Kn=!1,Dd=Error(s(519));function Hr(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(Hn(r,n)),Dd}function t_(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[At]=n,r[Ut]=l,a){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(a=0;a<Xl.length;a++)xe(Xl[a],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":xe("invalid",r),hu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",r);break;case"textarea":xe("invalid",r),kr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||_0(r.textContent,a)?(l.popover!=null&&(xe("beforetoggle",r),xe("toggle",r)),l.onScroll!=null&&xe("scroll",r),l.onScrollEnd!=null&&xe("scrollend",r),l.onClick!=null&&(r.onclick=ai),r=!0):r=!1,r||Hr(n,!0)}function n_(n){for($t=n.return;$t;)switch($t.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:$t=$t.return}}function to(n){if(n!==$t)return!1;if(!Pe)return n_(n),Pe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Ym(n.type,n.memoizedProps)),a=!a),a&&st&&Hr(n),n_(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));st=C0(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));st=C0(n)}else r===27?(r=st,rs(n.type)?(n=ep,ep=null,st=n):st=r):st=$t?Yn(n.stateNode.nextSibling):null;return!0}function ta(){st=$t=null,Pe=!1}function Od(){var n=Fr;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),Fr=null),n}function Il(n){Fr===null?Fr=[n]:Fr.push(n)}var Md=L(null),na=null,or=null;function Gr(n,r,a){ce(Md,r._currentValue),r._currentValue=a}function lr(n){n._currentValue=Md.current,ne(Md)}function Vd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function kd(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var O=0;O<r.length;O++)if(S.context===r[O]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Vd(d.return,a,n),l||(E=null);break e}d=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Vd(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function no(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;Sn(f.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(f===Le.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(tc):n=[tc])}f=f.return}n!==null&&kd(r,n,a,l),r.flags|=262144}function Mu(n){for(n=n.firstContext;n!==null;){if(!Sn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ia(n){na=n,or=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return i_(na,n)}function Vu(n,r){return na===null&&ia(n),i_(n,r)}function i_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},or===null){if(n===null)throw Error(s(308));or=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else or=or.next=r;return a}var mw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},pw=i.unstable_scheduleCallback,gw=i.unstable_NormalPriority,Rt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new mw,data:new Map,refCount:0}}function Nl(n){n.refCount--,n.refCount===0&&pw(gw,function(){n.controller.abort()})}var xl=null,Ld=0,io=0,ro=null;function yw(n,r){if(xl===null){var a=xl=[];Ld=0,io=zm(),ro={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ld++,r.then(r_,r_),r}function r_(){if(--Ld===0&&xl!==null){ro!==null&&(ro.status="fulfilled");var n=xl;xl=null,io=0,ro=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function _w(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var s_=Z.S;Z.S=function(n,r){qv=an(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&yw(n,r),s_!==null&&s_(n,r)};var ra=L(null);function jd(){var n=ra.current;return n!==null?n:nt.pooledCache}function ku(n,r){r===null?ce(ra,ra.current):ce(ra,r.pool)}function a_(){var n=jd();return n===null?null:{parent:Rt._currentValue,pool:n}}var so=Error(s(460)),Ud=Error(s(474)),Pu=Error(s(542)),Lu={then:function(){}};function o_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function l_(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(ai,ai),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,u_(n),n;default:if(typeof r.status=="string")r.then(ai,ai);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,u_(n),n}throw aa=r,so}}function sa(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(aa=a,so):a}}var aa=null;function c_(){if(aa===null)throw Error(s(459));var n=aa;return aa=null,n}function u_(n){if(n===so||n===Pu)throw Error(s(483))}var ao=null,Dl=0;function ju(n){var r=Dl;return Dl+=1,ao===null&&(ao=[]),l_(ao,n,r)}function Ol(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Uu(n,r){throw r.$$typeof===w?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function h_(n){function r(B,P){if(n){var G=B.deletions;G===null?(B.deletions=[P],B.flags|=16):G.push(P)}}function a(B,P){if(!n)return null;for(;P!==null;)r(B,P),P=P.sibling;return null}function l(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function f(B,P){return B=sr(B,P),B.index=0,B.sibling=null,B}function d(B,P,G){return B.index=G,n?(G=B.alternate,G!==null?(G=G.index,G<P?(B.flags|=67108866,P):G):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function E(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function S(B,P,G,ee){return P===null||P.tag!==6?(P=Cd(G,B.mode,ee),P.return=B,P):(P=f(P,G),P.return=B,P)}function O(B,P,G,ee){var ge=G.type;return ge===U?J(B,P,G.props.children,ee,G.key):P!==null&&(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&sa(ge)===P.type)?(P=f(P,G.props),Ol(P,G),P.return=B,P):(P=Du(G.type,G.key,G.props,null,B.mode,ee),Ol(P,G),P.return=B,P)}function $(B,P,G,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==G.containerInfo||P.stateNode.implementation!==G.implementation?(P=Id(G,B.mode,ee),P.return=B,P):(P=f(P,G.children||[]),P.return=B,P)}function J(B,P,G,ee,ge){return P===null||P.tag!==7?(P=ea(G,B.mode,ee,ge),P.return=B,P):(P=f(P,G),P.return=B,P)}function te(B,P,G){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Cd(""+P,B.mode,G),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return G=Du(P.type,P.key,P.props,null,B.mode,G),Ol(G,P),G.return=B,G;case j:return P=Id(P,B.mode,G),P.return=B,P;case A:return P=sa(P),te(B,P,G)}if(Mt(P)||q(P))return P=ea(P,B.mode,G,null),P.return=B,P;if(typeof P.then=="function")return te(B,ju(P),G);if(P.$$typeof===z)return te(B,Vu(B,P),G);Uu(B,P)}return null}function K(B,P,G,ee){var ge=P!==null?P.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ge!==null?null:S(B,P,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return G.key===ge?O(B,P,G,ee):null;case j:return G.key===ge?$(B,P,G,ee):null;case A:return G=sa(G),K(B,P,G,ee)}if(Mt(G)||q(G))return ge!==null?null:J(B,P,G,ee,null);if(typeof G.then=="function")return K(B,P,ju(G),ee);if(G.$$typeof===z)return K(B,P,Vu(B,G),ee);Uu(B,G)}return null}function Y(B,P,G,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get(G)||null,S(P,B,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return B=B.get(ee.key===null?G:ee.key)||null,O(P,B,ee,ge);case j:return B=B.get(ee.key===null?G:ee.key)||null,$(P,B,ee,ge);case A:return ee=sa(ee),Y(B,P,G,ee,ge)}if(Mt(ee)||q(ee))return B=B.get(G)||null,J(P,B,ee,ge,null);if(typeof ee.then=="function")return Y(B,P,G,ju(ee),ge);if(ee.$$typeof===z)return Y(B,P,G,Vu(P,ee),ge);Uu(P,ee)}return null}function de(B,P,G,ee){for(var ge=null,qe=null,me=P,Ie=P=0,Oe=null;me!==null&&Ie<G.length;Ie++){me.index>Ie?(Oe=me,me=null):Oe=me.sibling;var Fe=K(B,me,G[Ie],ee);if(Fe===null){me===null&&(me=Oe);break}n&&me&&Fe.alternate===null&&r(B,me),P=d(Fe,P,Ie),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe,me=Oe}if(Ie===G.length)return a(B,me),Pe&&ar(B,Ie),ge;if(me===null){for(;Ie<G.length;Ie++)me=te(B,G[Ie],ee),me!==null&&(P=d(me,P,Ie),qe===null?ge=me:qe.sibling=me,qe=me);return Pe&&ar(B,Ie),ge}for(me=l(me);Ie<G.length;Ie++)Oe=Y(me,B,Ie,G[Ie],ee),Oe!==null&&(n&&Oe.alternate!==null&&me.delete(Oe.key===null?Ie:Oe.key),P=d(Oe,P,Ie),qe===null?ge=Oe:qe.sibling=Oe,qe=Oe);return n&&me.forEach(function(cs){return r(B,cs)}),Pe&&ar(B,Ie),ge}function ve(B,P,G,ee){if(G==null)throw Error(s(151));for(var ge=null,qe=null,me=P,Ie=P=0,Oe=null,Fe=G.next();me!==null&&!Fe.done;Ie++,Fe=G.next()){me.index>Ie?(Oe=me,me=null):Oe=me.sibling;var cs=K(B,me,Fe.value,ee);if(cs===null){me===null&&(me=Oe);break}n&&me&&cs.alternate===null&&r(B,me),P=d(cs,P,Ie),qe===null?ge=cs:qe.sibling=cs,qe=cs,me=Oe}if(Fe.done)return a(B,me),Pe&&ar(B,Ie),ge;if(me===null){for(;!Fe.done;Ie++,Fe=G.next())Fe=te(B,Fe.value,ee),Fe!==null&&(P=d(Fe,P,Ie),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe);return Pe&&ar(B,Ie),ge}for(me=l(me);!Fe.done;Ie++,Fe=G.next())Fe=Y(me,B,Ie,Fe.value,ee),Fe!==null&&(n&&Fe.alternate!==null&&me.delete(Fe.key===null?Ie:Fe.key),P=d(Fe,P,Ie),qe===null?ge=Fe:qe.sibling=Fe,qe=Fe);return n&&me.forEach(function(N2){return r(B,N2)}),Pe&&ar(B,Ie),ge}function tt(B,P,G,ee){if(typeof G=="object"&&G!==null&&G.type===U&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case x:e:{for(var ge=G.key;P!==null;){if(P.key===ge){if(ge=G.type,ge===U){if(P.tag===7){a(B,P.sibling),ee=f(P,G.props.children),ee.return=B,B=ee;break e}}else if(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&sa(ge)===P.type){a(B,P.sibling),ee=f(P,G.props),Ol(ee,G),ee.return=B,B=ee;break e}a(B,P);break}else r(B,P);P=P.sibling}G.type===U?(ee=ea(G.props.children,B.mode,ee,G.key),ee.return=B,B=ee):(ee=Du(G.type,G.key,G.props,null,B.mode,ee),Ol(ee,G),ee.return=B,B=ee)}return E(B);case j:e:{for(ge=G.key;P!==null;){if(P.key===ge)if(P.tag===4&&P.stateNode.containerInfo===G.containerInfo&&P.stateNode.implementation===G.implementation){a(B,P.sibling),ee=f(P,G.children||[]),ee.return=B,B=ee;break e}else{a(B,P);break}else r(B,P);P=P.sibling}ee=Id(G,B.mode,ee),ee.return=B,B=ee}return E(B);case A:return G=sa(G),tt(B,P,G,ee)}if(Mt(G))return de(B,P,G,ee);if(q(G)){if(ge=q(G),typeof ge!="function")throw Error(s(150));return G=ge.call(G),ve(B,P,G,ee)}if(typeof G.then=="function")return tt(B,P,ju(G),ee);if(G.$$typeof===z)return tt(B,P,Vu(B,G),ee);Uu(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,P!==null&&P.tag===6?(a(B,P.sibling),ee=f(P,G),ee.return=B,B=ee):(a(B,P),ee=Cd(G,B.mode,ee),ee.return=B,B=ee),E(B)):a(B,P)}return function(B,P,G,ee){try{Dl=0;var ge=tt(B,P,G,ee);return ao=null,ge}catch(me){if(me===so||me===Pu)throw me;var qe=wn(29,me,null,B.mode);return qe.lanes=ee,qe.return=B,qe}}}var oa=h_(!0),f_=h_(!1),$r=!1;function zd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Kr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Qr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=xu(n),Yy(n,null,a),r}return Nu(n,l,r,a),xu(n)}function Ml(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,al(n,a)}}function qd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Fd=!1;function Vl(){if(Fd){var n=ro;if(n!==null)throw n}}function kl(n,r,a,l){Fd=!1;var f=n.updateQueue;$r=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var O=S,$=O.next;O.next=null,E===null?d=$:E.next=$,E=O;var J=n.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==E&&(S===null?J.firstBaseUpdate=$:S.next=$,J.lastBaseUpdate=O))}if(d!==null){var te=f.baseState;E=0,J=$=O=null,S=d;do{var K=S.lane&-536870913,Y=K!==S.lane;if(Y?(De&K)===K:(l&K)===K){K!==0&&K===io&&(Fd=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var de=n,ve=S;K=r;var tt=a;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){te=de.call(tt,te,K);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,K=typeof de=="function"?de.call(tt,te,K):de,K==null)break e;te=b({},te,K);break e;case 2:$r=!0}}K=S.callback,K!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?($=J=Y,O=te):J=J.next=Y,E|=K;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);J===null&&(O=te),f.baseState=O,f.firstBaseUpdate=$,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),Zr|=E,n.lanes=E,n.memoizedState=te}}function d_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function m_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)d_(a[n],r)}var oo=L(null),zu=L(0);function p_(n,r){n=yr,ce(zu,n),ce(oo,r),yr=n|r.baseLanes}function Hd(){ce(zu,yr),ce(oo,oo.current)}function Gd(){yr=zu.current,ne(oo),ne(zu)}var Rn=L(null),Qn=null;function Yr(n){var r=n.alternate;ce(_t,_t.current&1),ce(Rn,n),Qn===null&&(r===null||oo.current!==null||r.memoizedState!==null)&&(Qn=n)}function $d(n){ce(_t,_t.current),ce(Rn,n),Qn===null&&(Qn=n)}function g_(n){n.tag===22?(ce(_t,_t.current),ce(Rn,n),Qn===null&&(Qn=n)):Xr()}function Xr(){ce(_t,_t.current),ce(Rn,Rn.current)}function Cn(n){ne(Rn),Qn===n&&(Qn=null),ne(_t)}var _t=L(0);function Bu(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jm(a)||Zm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var cr=0,Re=null,Ze=null,Ct=null,qu=!1,lo=!1,la=!1,Fu=0,Pl=0,co=null,vw=0;function dt(){throw Error(s(321))}function Kd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Sn(n[a],r[a]))return!1;return!0}function Qd(n,r,a,l,f,d){return cr=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=n===null||n.memoizedState===null?Z_:cm,la=!1,d=a(l,f),la=!1,lo&&(d=__(r,a,l,f)),y_(n),d}function y_(n){Z.H=Ul;var r=Ze!==null&&Ze.next!==null;if(cr=0,Ct=Ze=Re=null,qu=!1,Pl=0,co=null,r)throw Error(s(300));n===null||It||(n=n.dependencies,n!==null&&Mu(n)&&(It=!0))}function __(n,r,a,l){Re=n;var f=0;do{if(lo&&(co=null),Pl=0,lo=!1,25<=f)throw Error(s(301));if(f+=1,Ct=Ze=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Z.H=ev,d=r(a,l)}while(lo);return d}function Ew(){var n=Z.H,r=n.useState()[0];return r=typeof r.then=="function"?Ll(r):r,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(Re.flags|=1024),r}function Yd(){var n=Fu!==0;return Fu=0,n}function Xd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Wd(n){if(qu){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}qu=!1}cr=0,Ct=Ze=Re=null,lo=!1,Pl=Fu=0,co=null}function ln(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Re.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function vt(){if(Ze===null){var n=Re.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var r=Ct===null?Re.memoizedState:Ct.next;if(r!==null)Ct=r,Ze=n;else{if(n===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Ct===null?Re.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(n){var r=Pl;return Pl+=1,co===null&&(co=[]),n=l_(co,n,r),r=Re,(Ct===null?r.memoizedState:Ct.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?Z_:cm),n}function Gu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ll(n);if(n.$$typeof===z)return Kt(n)}throw Error(s(438,String(n)))}function Jd(n){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Hu(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=V;return r.index++,a}function ur(n,r){return typeof r=="function"?r(n):r}function $u(n){var r=vt();return Zd(r,Ze,n)}function Zd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var S=E=null,O=null,$=r,J=!1;do{var te=$.lane&-536870913;if(te!==$.lane?(De&te)===te:(cr&te)===te){var K=$.revertLane;if(K===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),te===io&&(J=!0);else if((cr&K)===K){$=$.next,K===io&&(J=!0);continue}else te={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(S=O=te,E=d):O=O.next=te,Re.lanes|=K,Zr|=K;te=$.action,la&&a(d,te),d=$.hasEagerState?$.eagerState:a(d,te)}else K={lane:te,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(S=O=K,E=d):O=O.next=K,Re.lanes|=te,Zr|=te;$=$.next}while($!==null&&$!==r);if(O===null?E=d:O.next=S,!Sn(d,n.memoizedState)&&(It=!0,J&&(a=ro,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function em(n){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);Sn(d,r.memoizedState)||(It=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function v_(n,r,a){var l=Re,f=vt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!Sn((Ze||f).memoizedState,a);if(E&&(f.memoizedState=a,It=!0),f=f.queue,im(b_.bind(null,l,f,n),[n]),f.getSnapshot!==r||E||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,uo(9,{destroy:void 0},T_.bind(null,l,f,a,r),null),nt===null)throw Error(s(349));d||(cr&127)!==0||E_(l,r,a)}return a}function E_(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=Hu(),Re.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function T_(n,r,a,l){r.value=a,r.getSnapshot=l,A_(r)&&S_(n)}function b_(n,r,a){return a(function(){A_(r)&&S_(n)})}function A_(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Sn(n,a)}catch{return!0}}function S_(n){var r=Zs(n,2);r!==null&&_n(r,n,2)}function tm(n){var r=ln();if(typeof n=="function"){var a=n;if(n=a(),la){jn(!0);try{a()}finally{jn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:n},r}function w_(n,r,a,l){return n.baseState=a,Zd(n,Ze,typeof l=="function"?l:ur)}function Tw(n,r,a,l,f){if(Yu(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Z.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,R_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function R_(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=Z.T,E={};Z.T=E;try{var S=a(f,l),O=Z.S;O!==null&&O(E,S),C_(n,r,S)}catch($){nm(n,r,$)}finally{d!==null&&E.types!==null&&(d.types=E.types),Z.T=d}}else try{d=a(f,l),C_(n,r,d)}catch($){nm(n,r,$)}}function C_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){I_(n,r,l)},function(l){return nm(n,r,l)}):I_(n,r,a)}function I_(n,r,a){r.status="fulfilled",r.value=a,N_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,R_(n,a)))}function nm(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,N_(r),r=r.next;while(r!==l)}n.action=null}function N_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function x_(n,r){return r}function D_(n,r){if(Pe){var a=nt.formState;if(a!==null){e:{var l=Re;if(Pe){if(st){t:{for(var f=st,d=Kn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){st=Yn(f.nextSibling),l=f.data==="F!";break e}}Hr(l)}l=!1}l&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x_,lastRenderedState:r},a.queue=l,a=X_.bind(null,Re,l),l.dispatch=a,l=tm(!1),d=lm.bind(null,Re,!1,l.queue),l=ln(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=Tw.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function O_(n){var r=vt();return M_(r,Ze,n)}function M_(n,r,a){if(r=Zd(n,r,x_)[0],n=$u(ur)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ll(r)}catch(E){throw E===so?Pu:E}else l=r;r=vt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,uo(9,{destroy:void 0},bw.bind(null,f,a),null)),[l,d,n]}function bw(n,r){n.action=r}function V_(n){var r=vt(),a=Ze;if(a!==null)return M_(r,a,n);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function uo(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=Hu(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function k_(){return vt().memoizedState}function Ku(n,r,a,l){var f=ln();Re.flags|=n,f.memoizedState=uo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Qu(n,r,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&Kd(l,Ze.memoizedState.deps)?f.memoizedState=uo(r,d,a,l):(Re.flags|=n,f.memoizedState=uo(1|r,d,a,l))}function P_(n,r){Ku(8390656,8,n,r)}function im(n,r){Qu(2048,8,n,r)}function Aw(n){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=Hu(),Re.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function L_(n){var r=vt().memoizedState;return Aw({ref:r,nextImpl:n}),function(){if((Ge&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function j_(n,r){return Qu(4,2,n,r)}function U_(n,r){return Qu(4,4,n,r)}function z_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function B_(n,r,a){a=a!=null?a.concat([n]):null,Qu(4,4,z_.bind(null,r,n),a)}function rm(){}function q_(n,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Kd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function F_(n,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Kd(r,l[1]))return l[0];if(l=n(),la){jn(!0);try{n()}finally{jn(!1)}}return a.memoizedState=[l,r],l}function sm(n,r,a){return a===void 0||(cr&1073741824)!==0&&(De&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=Hv(),Re.lanes|=n,Zr|=n,a)}function H_(n,r,a,l){return Sn(a,r)?a:oo.current!==null?(n=sm(n,a,l),Sn(n,r)||(It=!0),n):(cr&42)===0||(cr&1073741824)!==0&&(De&261930)===0?(It=!0,n.memoizedState=a):(n=Hv(),Re.lanes|=n,Zr|=n,r)}function G_(n,r,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var E=Z.T,S={};Z.T=S,lm(n,!1,r,a);try{var O=f(),$=Z.S;if($!==null&&$(S,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=_w(O,l);jl(n,r,J,xn(n))}else jl(n,r,l,xn(n))}catch(te){jl(n,r,{then:function(){},status:"rejected",reason:te},xn())}finally{le.p=d,E!==null&&S.types!==null&&(E.types=S.types),Z.T=E}}function Sw(){}function am(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=$_(n).queue;G_(n,f,r,ye,a===null?Sw:function(){return K_(n),a(l)})}function $_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:ye},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function K_(n){var r=$_(n);r.next===null&&(r=n.alternate.memoizedState),jl(n,r.next.queue,{},xn())}function om(){return Kt(tc)}function Q_(){return vt().memoizedState}function Y_(){return vt().memoizedState}function ww(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=xn();n=Kr(a);var l=Qr(r,n,a);l!==null&&(_n(l,r,a),Ml(l,r,a)),r={cache:Pd()},n.payload=r;return}r=r.return}}function Rw(n,r,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(n)?W_(r,a):(a=wd(n,r,a,l),a!==null&&(_n(a,n,l),J_(a,r,l)))}function X_(n,r,a){var l=xn();jl(n,r,a,l)}function jl(n,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(n))W_(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,S=d(E,a);if(f.hasEagerState=!0,f.eagerState=S,Sn(S,E))return Nu(n,r,f,0),nt===null&&Iu(),!1}catch{}if(a=wd(n,r,f,l),a!==null)return _n(a,n,l),J_(a,r,l),!0}return!1}function lm(n,r,a,l){if(l={lane:2,revertLane:zm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(n)){if(r)throw Error(s(479))}else r=wd(n,a,l,2),r!==null&&_n(r,n,2)}function Yu(n){var r=n.alternate;return n===Re||r!==null&&r===Re}function W_(n,r){lo=qu=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function J_(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,al(n,a)}}var Ul={readContext:Kt,use:Gu,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};Ul.useEffectEvent=dt;var Z_={readContext:Kt,use:Gu,useCallback:function(n,r){return ln().memoizedState=[n,r===void 0?null:r],n},useContext:Kt,useEffect:P_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Ku(4194308,4,z_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Ku(4194308,4,n,r)},useInsertionEffect:function(n,r){Ku(4,2,n,r)},useMemo:function(n,r){var a=ln();r=r===void 0?null:r;var l=n();if(la){jn(!0);try{n()}finally{jn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=ln();if(a!==void 0){var f=a(r);if(la){jn(!0);try{a(r)}finally{jn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=Rw.bind(null,Re,n),[l.memoizedState,n]},useRef:function(n){var r=ln();return n={current:n},r.memoizedState=n},useState:function(n){n=tm(n);var r=n.queue,a=X_.bind(null,Re,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:rm,useDeferredValue:function(n,r){var a=ln();return sm(a,n,r)},useTransition:function(){var n=tm(!1);return n=G_.bind(null,Re,n.queue,!0,!1),ln().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Re,f=ln();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(De&127)!==0||E_(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,P_(b_.bind(null,l,d,n),[n]),l.flags|=2048,uo(9,{destroy:void 0},T_.bind(null,l,d,a,r),null),a},useId:function(){var n=ln(),r=nt.identifierPrefix;if(Pe){var a=Ui,l=ji;a=(l&~(1<<32-gt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Fu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=vw++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:om,useFormState:D_,useActionState:D_,useOptimistic:function(n){var r=ln();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=lm.bind(null,Re,!0,a),a.dispatch=r,[n,r]},useMemoCache:Jd,useCacheRefresh:function(){return ln().memoizedState=ww.bind(null,Re)},useEffectEvent:function(n){var r=ln(),a={impl:n};return r.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},cm={readContext:Kt,use:Gu,useCallback:q_,useContext:Kt,useEffect:im,useImperativeHandle:B_,useInsertionEffect:j_,useLayoutEffect:U_,useMemo:F_,useReducer:$u,useRef:k_,useState:function(){return $u(ur)},useDebugValue:rm,useDeferredValue:function(n,r){var a=vt();return H_(a,Ze.memoizedState,n,r)},useTransition:function(){var n=$u(ur)[0],r=vt().memoizedState;return[typeof n=="boolean"?n:Ll(n),r]},useSyncExternalStore:v_,useId:Q_,useHostTransitionStatus:om,useFormState:O_,useActionState:O_,useOptimistic:function(n,r){var a=vt();return w_(a,Ze,n,r)},useMemoCache:Jd,useCacheRefresh:Y_};cm.useEffectEvent=L_;var ev={readContext:Kt,use:Gu,useCallback:q_,useContext:Kt,useEffect:im,useImperativeHandle:B_,useInsertionEffect:j_,useLayoutEffect:U_,useMemo:F_,useReducer:em,useRef:k_,useState:function(){return em(ur)},useDebugValue:rm,useDeferredValue:function(n,r){var a=vt();return Ze===null?sm(a,n,r):H_(a,Ze.memoizedState,n,r)},useTransition:function(){var n=em(ur)[0],r=vt().memoizedState;return[typeof n=="boolean"?n:Ll(n),r]},useSyncExternalStore:v_,useId:Q_,useHostTransitionStatus:om,useFormState:V_,useActionState:V_,useOptimistic:function(n,r){var a=vt();return Ze!==null?w_(a,Ze,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Jd,useCacheRefresh:Y_};ev.useEffectEvent=L_;function um(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var hm={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=xn(),f=Kr(l);f.payload=r,a!=null&&(f.callback=a),r=Qr(n,f,l),r!==null&&(_n(r,n,l),Ml(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=xn(),f=Kr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Qr(n,f,l),r!==null&&(_n(r,n,l),Ml(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=xn(),l=Kr(a);l.tag=2,r!=null&&(l.callback=r),r=Qr(n,l,a),r!==null&&(_n(r,n,a),Ml(r,n,a))}};function tv(n,r,a,l,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!wl(a,l)||!wl(f,d):!0}function nv(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&hm.enqueueReplaceState(r,r.state,null)}function ca(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=b({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}function iv(n){Cu(n)}function rv(n){console.error(n)}function sv(n){Cu(n)}function Xu(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function av(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fm(n,r,a){return a=Kr(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(n,r)},a}function ov(n){return n=Kr(n),n.tag=3,n}function lv(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){av(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){av(r,a,l),typeof f!="function"&&(es===null?es=new Set([this]):es.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Cw(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&no(r,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Qn===null?lh():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Lu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Lm(n,l,f)),!1;case 22:return a.flags|=65536,l===Lu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Lm(n,l,f)),!1}throw Error(s(435,a.tag))}return Lm(n,l,f),lh(),!1}if(Pe)return r=Rn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Dd&&(n=Error(s(422),{cause:l}),Il(Hn(n,a)))):(l!==Dd&&(r=Error(s(423),{cause:l}),Il(Hn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Hn(l,a),f=fm(n.stateNode,l,f),qd(n,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Hn(d,a),Kl===null?Kl=[d]:Kl.push(d),mt!==4&&(mt=2),r===null)return!0;l=Hn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=fm(a.stateNode,l,n),qd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(es===null||!es.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=ov(f),lv(f,n,a,l),qd(a,f),!1}a=a.return}while(a!==null);return!1}var dm=Error(s(461)),It=!1;function Qt(n,r,a,l){r.child=n===null?f_(r,null,a,l):oa(r,n.child,a,l)}function cv(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var S in l)S!=="ref"&&(E[S]=l[S])}else E=l;return ia(r),l=Qd(n,r,a,E,d,f),S=Yd(),n!==null&&!It?(Xd(n,r,f),hr(n,r,f)):(Pe&&S&&Nd(r),r.flags|=1,Qt(n,r,l,f),r.child)}function uv(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Rd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,hv(n,r,d,l,f)):(n=Du(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Tm(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(E,l)&&n.ref===r.ref)return hr(n,r,f)}return r.flags|=1,n=sr(d,l),n.ref=r.ref,n.return=r,r.child=n}function hv(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(wl(d,l)&&n.ref===r.ref)if(It=!1,r.pendingProps=l=d,Tm(n,f))(n.flags&131072)!==0&&(It=!0);else return r.lanes=n.lanes,hr(n,r,f)}return mm(n,r,a,l,f)}function fv(n,r,a,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,n!==null){for(l=r.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return dv(n,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ku(r,d!==null?d.cachePool:null),d!==null?p_(r,d):Hd(),g_(r);else return l=r.lanes=536870912,dv(n,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ku(r,d.cachePool),p_(r,d),Xr(),r.memoizedState=null):(n!==null&&ku(r,null),Hd(),Xr());return Qt(n,r,f,a),r.child}function zl(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function dv(n,r,a,l,f){var d=jd();return d=d===null?null:{parent:Rt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},n!==null&&ku(r,null),Hd(),g_(r),n!==null&&no(n,r,l,!0),r.childLanes=f,null}function Wu(n,r){return r=Zu({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function mv(n,r,a){return oa(r,n.child,null,a),n=Wu(r,r.pendingProps),n.flags|=2,Cn(r),r.memoizedState=null,n}function Iw(n,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Pe){if(l.mode==="hidden")return n=Wu(r,l),r.lanes=536870912,zl(null,n);if($d(r),(n=st)?(n=R0(n,Kn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:qr!==null?{id:ji,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=Wy(n),a.return=r,r.child=a,$t=r,st=null)):n=null,n===null)throw Hr(r);return r.lanes=536870912,null}return Wu(r,l)}var d=n.memoizedState;if(d!==null){var E=d.dehydrated;if($d(r),f)if(r.flags&256)r.flags&=-257,r=mv(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(It||no(n,r,a,!1),f=(a&n.childLanes)!==0,It||f){if(l=nt,l!==null&&(E=ol(l,a),E!==0&&E!==d.retryLane))throw d.retryLane=E,Zs(n,E),_n(l,n,E),dm;lh(),r=mv(n,r,a)}else n=d.treeContext,st=Yn(E.nextSibling),$t=r,Pe=!0,Fr=null,Kn=!1,n!==null&&e_(r,n),r=Wu(r,l),r.flags|=4096;return r}return n=sr(n.child,{mode:l.mode,children:l.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Ju(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function mm(n,r,a,l,f){return ia(r),a=Qd(n,r,a,l,void 0,f),l=Yd(),n!==null&&!It?(Xd(n,r,f),hr(n,r,f)):(Pe&&l&&Nd(r),r.flags|=1,Qt(n,r,a,f),r.child)}function pv(n,r,a,l,f,d){return ia(r),r.updateQueue=null,a=__(r,l,a,f),y_(n),l=Yd(),n!==null&&!It?(Xd(n,r,d),hr(n,r,d)):(Pe&&l&&Nd(r),r.flags|=1,Qt(n,r,a,d),r.child)}function gv(n,r,a,l,f){if(ia(r),r.stateNode===null){var d=Ja,E=a.contextType;typeof E=="object"&&E!==null&&(d=Kt(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hm,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},zd(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Kt(E):Ja,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(um(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&hm.enqueueReplaceState(d,d.state,null),kl(r,l,d,f),Vl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var S=r.memoizedProps,O=ca(a,S);d.props=O;var $=d.context,J=a.contextType;E=Ja,typeof J=="object"&&J!==null&&(E=Kt(J));var te=a.getDerivedStateFromProps;J=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||$!==E)&&nv(r,d,l,E),$r=!1;var K=r.memoizedState;d.state=K,kl(r,l,d,f),Vl(),$=r.memoizedState,S||K!==$||$r?(typeof te=="function"&&(um(r,a,te,l),$=r.memoizedState),(O=$r||tv(r,a,O,l,K,$,E))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=E,l=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Bd(n,r),E=r.memoizedProps,J=ca(a,E),d.props=J,te=r.pendingProps,K=d.context,$=a.contextType,O=Ja,typeof $=="object"&&$!==null&&(O=Kt($)),S=a.getDerivedStateFromProps,($=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==te||K!==O)&&nv(r,d,l,O),$r=!1,K=r.memoizedState,d.state=K,kl(r,l,d,f),Vl();var Y=r.memoizedState;E!==te||K!==Y||$r||n!==null&&n.dependencies!==null&&Mu(n.dependencies)?(typeof S=="function"&&(um(r,a,S,l),Y=r.memoizedState),(J=$r||tv(r,a,J,l,K,Y,O)||n!==null&&n.dependencies!==null&&Mu(n.dependencies))?($||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=O,l=J):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ju(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=oa(r,n.child,null,f),r.child=oa(r,null,a,f)):Qt(n,r,a,f),r.memoizedState=d.state,n=r.child):n=hr(n,r,f),n}function yv(n,r,a,l){return ta(),r.flags|=256,Qt(n,r,a,l),r.child}var pm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gm(n){return{baseLanes:n,cachePool:a_()}}function ym(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Nn),n}function _v(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(_t.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Pe){if(f?Yr(r):Xr(),(n=st)?(n=R0(n,Kn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:qr!==null?{id:ji,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},a=Wy(n),a.return=r,r.child=a,$t=r,st=null)):n=null,n===null)throw Hr(r);return Zm(n)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Xr(),f=r.mode,S=Zu({mode:"hidden",children:S},f),l=ea(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=gm(a),l.childLanes=ym(n,E,a),r.memoizedState=pm,zl(null,l)):(Yr(r),_m(r,S))}var O=n.memoizedState;if(O!==null&&(S=O.dehydrated,S!==null)){if(d)r.flags&256?(Yr(r),r.flags&=-257,r=vm(n,r,a)):r.memoizedState!==null?(Xr(),r.child=n.child,r.flags|=128,r=null):(Xr(),S=l.fallback,f=r.mode,l=Zu({mode:"visible",children:l.children},f),S=ea(S,f,a,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,oa(r,n.child,null,a),l=r.child,l.memoizedState=gm(a),l.childLanes=ym(n,E,a),r.memoizedState=pm,r=zl(null,l));else if(Yr(r),Zm(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var $=E.dgst;E=$,l=Error(s(419)),l.stack="",l.digest=E,Il({value:l,source:null,stack:null}),r=vm(n,r,a)}else if(It||no(n,r,a,!1),E=(a&n.childLanes)!==0,It||E){if(E=nt,E!==null&&(l=ol(E,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Zs(n,l),_n(E,n,l),dm;Jm(S)||lh(),r=vm(n,r,a)}else Jm(S)?(r.flags|=192,r.child=n.child,r=null):(n=O.treeContext,st=Yn(S.nextSibling),$t=r,Pe=!0,Fr=null,Kn=!1,n!==null&&e_(r,n),r=_m(r,l.children),r.flags|=4096);return r}return f?(Xr(),S=l.fallback,f=r.mode,O=n.child,$=O.sibling,l=sr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,$!==null?S=sr($,S):(S=ea(S,f,a,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,zl(null,l),l=r.child,S=n.child.memoizedState,S===null?S=gm(a):(f=S.cachePool,f!==null?(O=Rt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=a_(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=ym(n,E,a),r.memoizedState=pm,zl(n.child,l)):(Yr(r),a=n.child,n=a.sibling,a=sr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function _m(n,r){return r=Zu({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Zu(n,r){return n=wn(22,n,null,r),n.lanes=0,n}function vm(n,r,a){return oa(r,n.child,null,a),n=_m(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function vv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Vd(n.return,r,a)}function Em(n,r,a,l,f,d){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(E.isBackwards=r,E.rendering=null,E.renderingStartTime=0,E.last=l,E.tail=a,E.tailMode=f,E.treeForkCount=d)}function Ev(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var E=_t.current,S=(E&2)!==0;if(S?(E=E&1|2,r.flags|=128):E&=1,ce(_t,E),Qt(n,r,l,a),l=Pe?Cl:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&vv(n,a,r);else if(n.tag===19)vv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Bu(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Em(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Bu(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Em(r,!0,a,null,d,l);break;case"together":Em(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function hr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Zr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(no(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=sr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=sr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Tm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Mu(n)))}function Nw(n,r,a){switch(r.tag){case 3:Vt(r,r.stateNode.containerInfo),Gr(r,Rt,n.memoizedState.cache),ta();break;case 27:case 5:ks(r);break;case 4:Vt(r,r.stateNode.containerInfo);break;case 10:Gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,$d(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Yr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?_v(n,r,a):(Yr(r),n=hr(n,r,a),n!==null?n.sibling:null);Yr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(no(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Ev(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(_t,_t.current),l)break;return null;case 22:return r.lanes=0,fv(n,r,a,r.pendingProps);case 24:Gr(r,Rt,n.memoizedState.cache)}return hr(n,r,a)}function Tv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)It=!0;else{if(!Tm(n,a)&&(r.flags&128)===0)return It=!1,Nw(n,r,a);It=(n.flags&131072)!==0}else It=!1,Pe&&(r.flags&1048576)!==0&&Zy(r,Cl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(n=sa(r.elementType),r.type=n,typeof n=="function")Rd(n)?(l=ca(n,l),r.tag=1,r=gv(null,r,n,l,a)):(r.tag=0,r=mm(null,r,n,l,a));else{if(n!=null){var f=n.$$typeof;if(f===re){r.tag=11,r=cv(null,r,n,l,a);break e}else if(f===N){r.tag=14,r=uv(null,r,n,l,a);break e}}throw r=ot(n)||n,Error(s(306,r,""))}}return r;case 0:return mm(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ca(l,r.pendingProps),gv(n,r,l,f,a);case 3:e:{if(Vt(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Bd(n,r),kl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Gr(r,Rt,l),l!==d.cache&&kd(r,[Rt],a,!0),Vl(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=yv(n,r,l,a);break e}else if(l!==f){f=Hn(Error(s(424)),r),Il(f),r=yv(n,r,l,a);break e}else for(n=r.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,st=Yn(n.firstChild),$t=r,Pe=!0,Fr=null,Kn=!0,a=f_(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ta(),l===f){r=hr(n,r,a);break e}Qt(n,r,l,a)}r=r.child}return r;case 26:return Ju(n,r),n===null?(a=O0(r.type,null,r.pendingProps,null))?r.memoizedState=a:Pe||(a=r.type,n=r.pendingProps,l=ph(Ce.current).createElement(a),l[At]=r,l[Ut]=n,Yt(l,a,n),St(l),r.stateNode=l):r.memoizedState=O0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ks(r),n===null&&Pe&&(l=r.stateNode=N0(r.type,r.pendingProps,Ce.current),$t=r,Kn=!0,f=st,rs(r.type)?(ep=f,st=Yn(l.firstChild)):st=f),Qt(n,r,r.pendingProps.children,a),Ju(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Pe&&((f=l=st)&&(l=s2(l,r.type,r.pendingProps,Kn),l!==null?(r.stateNode=l,$t=r,st=Yn(l.firstChild),Kn=!1,f=!0):f=!1),f||Hr(r)),ks(r),f=r.type,d=r.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,Ym(f,d)?l=null:E!==null&&Ym(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Qd(n,r,Ew,null,null,a),tc._currentValue=f),Ju(n,r),Qt(n,r,l,a),r.child;case 6:return n===null&&Pe&&((n=a=st)&&(a=a2(a,r.pendingProps,Kn),a!==null?(r.stateNode=a,$t=r,st=null,n=!0):n=!1),n||Hr(r)),null;case 13:return _v(n,r,a);case 4:return Vt(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=oa(r,null,l,a):Qt(n,r,l,a),r.child;case 11:return cv(n,r,r.type,r.pendingProps,a);case 7:return Qt(n,r,r.pendingProps,a),r.child;case 8:return Qt(n,r,r.pendingProps.children,a),r.child;case 12:return Qt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Gr(r,r.type,l.value),Qt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ia(r),f=Kt(f),l=l(f),r.flags|=1,Qt(n,r,l,a),r.child;case 14:return uv(n,r,r.type,r.pendingProps,a);case 15:return hv(n,r,r.type,r.pendingProps,a);case 19:return Ev(n,r,a);case 31:return Iw(n,r,a);case 22:return fv(n,r,a,r.pendingProps);case 24:return ia(r),l=Kt(Rt),n===null?(f=jd(),f===null&&(f=nt,d=Pd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},zd(r),Gr(r,Rt,f)):((n.lanes&a)!==0&&(Bd(n,r),kl(r,null,null,a),Vl()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Gr(r,Rt,l)):(l=d.cache,Gr(r,Rt,l),l!==f.cache&&kd(r,[Rt],a,!0))),Qt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function fr(n){n.flags|=4}function bm(n,r,a,l,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Qv())n.flags|=8192;else throw aa=Lu,Ud}else n.flags&=-16777217}function bv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!L0(r))if(Qv())n.flags|=8192;else throw aa=Lu,Ud}function eh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?au():536870912,n.lanes|=r,po|=r)}function Bl(n,r){if(!Pe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function at(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function xw(n,r,a){var l=r.pendingProps;switch(xd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),lr(Rt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(to(r)?fr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Od())),at(r),null;case 26:var f=r.type,d=r.memoizedState;return n===null?(fr(r),d!==null?(at(r),bv(r,d)):(at(r),bm(r,f,null,l,a))):d?d!==n.memoizedState?(fr(r),at(r),bv(r,d)):(at(r),r.flags&=-16777217):(n=n.memoizedProps,n!==l&&fr(r),at(r),bm(r,f,n,l,a)),null;case 27:if(Ma(r),a=Ce.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&fr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}n=fe.current,to(r)?t_(r):(n=N0(f,l,a),r.stateNode=n,fr(r))}return at(r),null;case 5:if(Ma(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&fr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(d=fe.current,to(r))t_(r);else{var E=ph(Ce.current);switch(d){case 1:d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=E.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=E.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=E.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?E.createElement("select",{is:l.is}):E.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?E.createElement(f,{is:l.is}):E.createElement(f)}}d[At]=r,d[Ut]=l;e:for(E=r.child;E!==null;){if(E.tag===5||E.tag===6)d.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===r)break e;for(;E.sibling===null;){if(E.return===null||E.return===r)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}r.stateNode=d;e:switch(Yt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&fr(r)}}return at(r),bm(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&fr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ce.current,to(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=$t,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[At]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||_0(n.nodeValue,a)),n||Hr(r,!0)}else n=ph(n).createTextNode(l),n[At]=r,r.stateNode=n}return at(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(l=to(r),a!==null){if(n===null){if(!l)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[At]=r}else ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),n=!1}else a=Od(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(Cn(r),r):(Cn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return at(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=to(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[At]=r}else ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),f=!1}else f=Od(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Cn(r),r):(Cn(r),null)}return Cn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,n=n!==null&&n.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),eh(r,r.updateQueue),at(r),null);case 4:return lt(),n===null&&Hm(r.stateNode.containerInfo),at(r),null;case 10:return lr(r.type),at(r),null;case 19:if(ne(_t),l=r.memoizedState,l===null)return at(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Bl(l,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Bu(n),d!==null){for(r.flags|=128,Bl(l,!1),n=d.updateQueue,r.updateQueue=n,eh(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Xy(a,n),a=a.sibling;return ce(_t,_t.current&1|2),Pe&&ar(r,l.treeForkCount),r.child}n=n.sibling}l.tail!==null&&an()>sh&&(r.flags|=128,f=!0,Bl(l,!1),r.lanes=4194304)}else{if(!f)if(n=Bu(d),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,eh(r,n),Bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return at(r),null}else 2*an()-l.renderingStartTime>sh&&a!==536870912&&(r.flags|=128,f=!0,Bl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(n=l.last,n!==null?n.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=an(),n.sibling=null,a=_t.current,ce(_t,f?a&1|2:a&1),Pe&&ar(r,l.treeForkCount),n):(at(r),null);case 22:case 23:return Cn(r),Gd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&eh(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ne(ra),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),lr(Rt),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Dw(n,r){switch(xd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return lr(Rt),lt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ma(r),null;case 31:if(r.memoizedState!==null){if(Cn(r),r.alternate===null)throw Error(s(340));ta()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Cn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ta()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ne(_t),null;case 4:return lt(),null;case 10:return lr(r.type),null;case 22:case 23:return Cn(r),Gd(),n!==null&&ne(ra),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return lr(Rt),null;case 25:return null;default:return null}}function Av(n,r){switch(xd(r),r.tag){case 3:lr(Rt),lt();break;case 26:case 27:case 5:Ma(r);break;case 4:lt();break;case 31:r.memoizedState!==null&&Cn(r);break;case 13:Cn(r);break;case 19:ne(_t);break;case 10:lr(r.type);break;case 22:case 23:Cn(r),Gd(),n!==null&&ne(ra);break;case 24:lr(Rt)}}function ql(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(S){Ye(r,r.return,S)}}function Wr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var E=l.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=r;var O=a,$=S;try{$()}catch(J){Ye(f,O,J)}}}l=l.next}while(l!==d)}}catch(J){Ye(r,r.return,J)}}function Sv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{m_(r,a)}catch(l){Ye(n,n.return,l)}}}function wv(n,r,a){a.props=ca(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(n,r,l)}}function Fl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Ye(n,r,f)}}function zi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ye(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ye(n,r,f)}else a.current=null}function Rv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ye(n,n.return,f)}}function Am(n,r,a){try{var l=n.stateNode;Zw(l,n.type,a,r),l[Ut]=r}catch(f){Ye(n,n.return,f)}}function Cv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&rs(n.type)||n.tag===4}function Sm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Cv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&rs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function wm(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ai));else if(l!==4&&(l===27&&rs(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(wm(n,r,a),n=n.sibling;n!==null;)wm(n,r,a),n=n.sibling}function th(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&rs(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(th(n,r,a),n=n.sibling;n!==null;)th(n,r,a),n=n.sibling}function Iv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Yt(r,l,a),r[At]=n,r[Ut]=a}catch(d){Ye(n,n.return,d)}}var dr=!1,Nt=!1,Rm=!1,Nv=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Ow(n,r){if(n=n.containerInfo,Km=bh,n=By(n),vd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,S=-1,O=-1,$=0,J=0,te=n,K=null;t:for(;;){for(var Y;te!==a||f!==0&&te.nodeType!==3||(S=E+f),te!==d||l!==0&&te.nodeType!==3||(O=E+l),te.nodeType===3&&(E+=te.nodeValue.length),(Y=te.firstChild)!==null;)K=te,te=Y;for(;;){if(te===n)break t;if(K===a&&++$===f&&(S=E),K===d&&++J===l&&(O=E),(Y=te.nextSibling)!==null)break;te=K,K=te.parentNode}te=Y}a=S===-1||O===-1?null:{start:S,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qm={focusedElem:n,selectionRange:a},bh=!1,Bt=r;Bt!==null;)if(r=Bt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Bt=n;else for(;Bt!==null;){switch(r=Bt,d=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)f=n[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=ca(a.type,f);n=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Ye(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Wm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Wm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Bt=n;break}Bt=r.return}}function xv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:pr(n,a),l&4&&ql(5,a);break;case 1:if(pr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){Ye(a,a.return,E)}else{var f=ca(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Ye(a,a.return,E)}}l&64&&Sv(a),l&512&&Fl(a,a.return);break;case 3:if(pr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{m_(n,r)}catch(E){Ye(a,a.return,E)}}break;case 27:r===null&&l&4&&Iv(a);case 26:case 5:pr(n,a),r===null&&l&4&&Rv(a),l&512&&Fl(a,a.return);break;case 12:pr(n,a);break;case 31:pr(n,a),l&4&&Mv(n,a);break;case 13:pr(n,a),l&4&&Vv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Bw.bind(null,a),o2(n,a))));break;case 22:if(l=a.memoizedState!==null||dr,!l){r=r!==null&&r.memoizedState!==null||Nt,f=dr;var d=Nt;dr=l,(Nt=r)&&!d?gr(n,a,(a.subtreeFlags&8772)!==0):pr(n,a),dr=f,Nt=d}break;case 30:break;default:pr(n,a)}}function Dv(n){var r=n.alternate;r!==null&&(n.alternate=null,Dv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&ja(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ut=null,mn=!1;function mr(n,r,a){for(a=a.child;a!==null;)Ov(n,r,a),a=a.sibling}function Ov(n,r,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ni,a)}catch{}switch(a.tag){case 26:Nt||zi(a,r),mr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||zi(a,r);var l=ut,f=mn;rs(a.type)&&(ut=a.stateNode,mn=!1),mr(n,r,a),Jl(a.stateNode),ut=l,mn=f;break;case 5:Nt||zi(a,r);case 6:if(l=ut,f=mn,ut=null,mr(n,r,a),ut=l,mn=f,ut!==null)if(mn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Ye(a,r,d)}else try{ut.removeChild(a.stateNode)}catch(d){Ye(a,r,d)}break;case 18:ut!==null&&(mn?(n=ut,S0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ao(n)):S0(ut,a.stateNode));break;case 4:l=ut,f=mn,ut=a.stateNode.containerInfo,mn=!0,mr(n,r,a),ut=l,mn=f;break;case 0:case 11:case 14:case 15:Wr(2,a,r),Nt||Wr(4,a,r),mr(n,r,a);break;case 1:Nt||(zi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&wv(a,r,l)),mr(n,r,a);break;case 21:mr(n,r,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,mr(n,r,a),Nt=l;break;default:mr(n,r,a)}}function Mv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Ao(n)}catch(a){Ye(r,r.return,a)}}}function Vv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ao(n)}catch(a){Ye(r,r.return,a)}}function Mw(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Nv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Nv),r;default:throw Error(s(435,n.tag))}}function nh(n,r){var a=Mw(n);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=qw.bind(null,n,l);l.then(f,f)}})}function pn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,E=r,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(rs(S.type)){ut=S.stateNode,mn=!1;break e}break;case 5:ut=S.stateNode,mn=!1;break e;case 3:case 4:ut=S.stateNode.containerInfo,mn=!0;break e}S=S.return}if(ut===null)throw Error(s(160));Ov(d,E,f),ut=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)kv(r,n),r=r.sibling}var fi=null;function kv(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pn(r,n),gn(n),l&4&&(Wr(3,n,n.return),ql(3,n),Wr(5,n,n.return));break;case 1:pn(r,n),gn(n),l&512&&(Nt||a===null||zi(a,a.return)),l&64&&dr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=fi;if(pn(r,n),gn(n),l&512&&(Nt||a===null||zi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ri]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Yt(d,l,a),d[At]=n,St(d),l=d;break e;case"link":var E=k0("link","href",f).get(l+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(d=E[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=k0("meta","content",f).get(l+(a.content||""))){for(S=0;S<E.length;S++)if(d=E[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}d=f.createElement(l),Yt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=n,St(d),l=d}n.stateNode=l}else P0(f,n.type,n.stateNode);else n.stateNode=V0(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?P0(f,n.type,n.stateNode):V0(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Am(n,n.memoizedProps,a.memoizedProps)}break;case 27:pn(r,n),gn(n),l&512&&(Nt||a===null||zi(a,a.return)),a!==null&&l&4&&Am(n,n.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,n),gn(n),l&512&&(Nt||a===null||zi(a,a.return)),n.flags&32){f=n.stateNode;try{dn(f,"")}catch(de){Ye(n,n.return,de)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Am(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Rm=!0);break;case 6:if(pn(r,n),gn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(de){Ye(n,n.return,de)}}break;case 3:if(_h=null,f=fi,fi=gh(r.containerInfo),pn(r,n),fi=f,gn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ao(r.containerInfo)}catch(de){Ye(n,n.return,de)}Rm&&(Rm=!1,Pv(n));break;case 4:l=fi,fi=gh(n.stateNode.containerInfo),pn(r,n),gn(n),fi=l;break;case 12:pn(r,n),gn(n);break;case 31:pn(r,n),gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,nh(n,l)));break;case 13:pn(r,n),gn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rh=an()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,nh(n,l)));break;case 22:f=n.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,$=dr,J=Nt;if(dr=$||f,Nt=J||O,pn(r,n),Nt=J,dr=$,gn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||O||dr||Nt||ua(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=O.stateNode;var te=O.memoizedProps.style,K=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(de){Ye(O,O.return,de)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(de){Ye(O,O.return,de)}}}else if(r.tag===18){if(a===null){O=r;try{var Y=O.stateNode;f?w0(Y,!0):w0(O.stateNode,!1)}catch(de){Ye(O,O.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nh(n,a))));break;case 19:pn(r,n),gn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,nh(n,l)));break;case 30:break;case 21:break;default:pn(r,n),gn(n)}}function gn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(Cv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Sm(n);th(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(dn(E,""),a.flags&=-33);var S=Sm(n);th(n,S,E);break;case 3:case 4:var O=a.stateNode.containerInfo,$=Sm(n);wm(n,$,O);break;default:throw Error(s(161))}}catch(J){Ye(n,n.return,J)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Pv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Pv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function pr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)xv(n,r.alternate,r),r=r.sibling}function ua(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Wr(4,r,r.return),ua(r);break;case 1:zi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&wv(r,r.return,a),ua(r);break;case 27:Jl(r.stateNode);case 26:case 5:zi(r,r.return),ua(r);break;case 22:r.memoizedState===null&&ua(r);break;case 30:ua(r);break;default:ua(r)}n=n.sibling}}function gr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:gr(f,d,a),ql(4,d);break;case 1:if(gr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){Ye(l,l.return,$)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)d_(O[f],S)}catch($){Ye(l,l.return,$)}}a&&E&64&&Sv(d),Fl(d,d.return);break;case 27:Iv(d);case 26:case 5:gr(f,d,a),a&&l===null&&E&4&&Rv(d),Fl(d,d.return);break;case 12:gr(f,d,a);break;case 31:gr(f,d,a),a&&E&4&&Mv(f,d);break;case 13:gr(f,d,a),a&&E&4&&Vv(f,d);break;case 22:d.memoizedState===null&&gr(f,d,a),Fl(d,d.return);break;case 30:break;default:gr(f,d,a)}r=r.sibling}}function Cm(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Nl(a))}function Im(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Nl(n))}function di(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Lv(n,r,a,l),r=r.sibling}function Lv(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:di(n,r,a,l),f&2048&&ql(9,r);break;case 1:di(n,r,a,l);break;case 3:di(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Nl(n)));break;case 12:if(f&2048){di(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){Ye(r,r.return,O)}}else di(n,r,a,l);break;case 31:di(n,r,a,l);break;case 13:di(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?di(n,r,a,l):Hl(n,r):d._visibility&2?di(n,r,a,l):(d._visibility|=2,ho(n,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Cm(E,r);break;case 24:di(n,r,a,l),f&2048&&Im(r.alternate,r);break;default:di(n,r,a,l)}}function ho(n,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=n,E=r,S=a,O=l,$=E.flags;switch(E.tag){case 0:case 11:case 15:ho(d,E,S,O,f),ql(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?ho(d,E,S,O,f):Hl(d,E):(J._visibility|=2,ho(d,E,S,O,f)),f&&$&2048&&Cm(E.alternate,E);break;case 24:ho(d,E,S,O,f),f&&$&2048&&Im(E.alternate,E);break;default:ho(d,E,S,O,f)}r=r.sibling}}function Hl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Hl(a,l),f&2048&&Cm(l.alternate,l);break;case 24:Hl(a,l),f&2048&&Im(l.alternate,l);break;default:Hl(a,l)}r=r.sibling}}var Gl=8192;function fo(n,r,a){if(n.subtreeFlags&Gl)for(n=n.child;n!==null;)jv(n,r,a),n=n.sibling}function jv(n,r,a){switch(n.tag){case 26:fo(n,r,a),n.flags&Gl&&n.memoizedState!==null&&v2(a,fi,n.memoizedState,n.memoizedProps);break;case 5:fo(n,r,a);break;case 3:case 4:var l=fi;fi=gh(n.stateNode.containerInfo),fo(n,r,a),fi=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Gl,Gl=16777216,fo(n,r,a),Gl=l):fo(n,r,a));break;default:fo(n,r,a)}}function Uv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function $l(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,Bv(l,n)}Uv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zv(n),n=n.sibling}function zv(n){switch(n.tag){case 0:case 11:case 15:$l(n),n.flags&2048&&Wr(9,n,n.return);break;case 3:$l(n);break;case 12:$l(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,ih(n)):$l(n);break;default:$l(n)}}function ih(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,Bv(l,n)}Uv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Wr(8,r,r.return),ih(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,ih(r));break;default:ih(r)}n=n.sibling}}function Bv(n,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Wr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=n;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(Dv(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var Vw={getCacheForType:function(n){var r=Kt(Rt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return Kt(Rt).controller.signal}},kw=typeof WeakMap=="function"?WeakMap:Map,Ge=0,nt=null,Ne=null,De=0,Qe=0,In=null,Jr=!1,mo=!1,Nm=!1,yr=0,mt=0,Zr=0,ha=0,xm=0,Nn=0,po=0,Kl=null,yn=null,Dm=!1,rh=0,qv=0,sh=1/0,ah=null,es=null,Pt=0,ts=null,go=null,_r=0,Om=0,Mm=null,Fv=null,Ql=0,Vm=null;function xn(){return(Ge&2)!==0&&De!==0?De&-De:Z.T!==null?zm():ou()}function Hv(){if(Nn===0)if((De&536870912)===0||Pe){var n=js;js<<=1,(js&3932160)===0&&(js=262144),Nn=n}else Nn=536870912;return n=Rn.current,n!==null&&(n.flags|=32),Nn}function _n(n,r,a){(n===nt&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)&&(yo(n,0),ns(n,De,Nn,!1)),Us(n,a),((Ge&2)===0||n!==nt)&&(n===nt&&((Ge&2)===0&&(ha|=a),mt===4&&ns(n,De,Nn,!1)),Bi(n))}function Gv(n,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&n.expiredLanes)===0||ii(n,r),f=l?jw(n,r):Pm(n,r,!0),d=l;do{if(f===0){mo&&!l&&ns(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!Pw(a)){f=Pm(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var S=n;f=Kl;var O=S.current.memoizedState.isDehydrated;if(O&&(yo(S,E).flags|=256),E=Pm(S,E,!1),E!==2){if(Nm&&!O){S.errorRecoveryDisabledLanes|=d,ha|=d,f=4;break e}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){yo(n,0),ns(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ns(l,r,Nn,!Jr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=rh+300-an(),10<f)){if(ns(l,r,Nn,!Jr),Ai(l,0,!0)!==0)break e;_r=r,l.timeoutHandle=b0($v.bind(null,l,a,yn,ah,Dm,r,Nn,ha,po,Jr,d,"Throttled",-0,0),f);break e}$v(l,a,yn,ah,Dm,r,Nn,ha,po,Jr,d,null,-0,0)}}break}while(!0);Bi(n)}function $v(n,r,a,l,f,d,E,S,O,$,J,te,K,Y){if(n.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},jv(r,d,te);var de=(d&62914560)===d?rh-an():(d&4194048)===d?qv-an():0;if(de=E2(te,de),de!==null){_r=d,n.cancelPendingCommit=de(e0.bind(null,n,r,d,a,l,f,E,S,O,J,te,null,K,Y)),ns(n,d,E,!$);return}}e0(n,r,d,a,l,f,E,S,O)}function Pw(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Sn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ns(n,r,a,l){r&=~xm,r&=~ha,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-gt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&zs(n,a,r)}function oh(){return(Ge&6)===0?(Yl(0),!1):!0}function km(){if(Ne!==null){if(Qe===0)var n=Ne.return;else n=Ne,or=na=null,Wd(n),ao=null,Dl=0,n=Ne;for(;n!==null;)Av(n.alternate,n),n=n.return;Ne=null}}function yo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,n2(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),_r=0,km(),nt=n,Ne=a=sr(n.current,null),De=r,Qe=0,In=null,Jr=!1,mo=ii(n,r),Nm=!1,po=Nn=xm=ha=Zr=mt=0,yn=Kl=null,Dm=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-gt(l),d=1<<f;r|=n[f],l&=~d}return yr=r,Iu(),a}function Kv(n,r){Re=null,Z.H=Ul,r===so||r===Pu?(r=c_(),Qe=3):r===Ud?(r=c_(),Qe=4):Qe=r===dm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,In=r,Ne===null&&(mt=1,Xu(n,Hn(r,n.current)))}function Qv(){var n=Rn.current;return n===null?!0:(De&4194048)===De?Qn===null:(De&62914560)===De||(De&536870912)!==0?n===Qn:!1}function Yv(){var n=Z.H;return Z.H=Ul,n===null?Ul:n}function Xv(){var n=Z.A;return Z.A=Vw,n}function lh(){mt=4,Jr||(De&4194048)!==De&&Rn.current!==null||(mo=!0),(Zr&134217727)===0&&(ha&134217727)===0||nt===null||ns(nt,De,Nn,!1)}function Pm(n,r,a){var l=Ge;Ge|=2;var f=Yv(),d=Xv();(nt!==n||De!==r)&&(ah=null,yo(n,r)),r=!1;var E=mt;e:do try{if(Qe!==0&&Ne!==null){var S=Ne,O=In;switch(Qe){case 8:km(),E=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(r=!0);var $=Qe;if(Qe=0,In=null,_o(n,S,O,$),a&&mo){E=0;break e}break;default:$=Qe,Qe=0,In=null,_o(n,S,O,$)}}Lw(),E=mt;break}catch(J){Kv(n,J)}while(!0);return r&&n.shellSuspendCounter++,or=na=null,Ge=l,Z.H=f,Z.A=d,Ne===null&&(nt=null,De=0,Iu()),E}function Lw(){for(;Ne!==null;)Wv(Ne)}function jw(n,r){var a=Ge;Ge|=2;var l=Yv(),f=Xv();nt!==n||De!==r?(ah=null,sh=an()+500,yo(n,r)):mo=ii(n,r);e:do try{if(Qe!==0&&Ne!==null){r=Ne;var d=In;t:switch(Qe){case 1:Qe=0,In=null,_o(n,r,d,1);break;case 2:case 9:if(o_(d)){Qe=0,In=null,Jv(r);break}r=function(){Qe!==2&&Qe!==9||nt!==n||(Qe=7),Bi(n)},d.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:o_(d)?(Qe=0,In=null,Jv(r)):(Qe=0,In=null,_o(n,r,d,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var S=Ne;if(E?L0(E):S.stateNode.complete){Qe=0,In=null;var O=S.sibling;if(O!==null)Ne=O;else{var $=S.return;$!==null?(Ne=$,ch($)):Ne=null}break t}}Qe=0,In=null,_o(n,r,d,5);break;case 6:Qe=0,In=null,_o(n,r,d,6);break;case 8:km(),mt=6;break e;default:throw Error(s(462))}}Uw();break}catch(J){Kv(n,J)}while(!0);return or=na=null,Z.H=l,Z.A=f,Ge=a,Ne!==null?0:(nt=null,De=0,Iu(),mt)}function Uw(){for(;Ne!==null&&!fd();)Wv(Ne)}function Wv(n){var r=Tv(n.alternate,n,yr);n.memoizedProps=n.pendingProps,r===null?ch(n):Ne=r}function Jv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=pv(a,r,r.pendingProps,r.type,void 0,De);break;case 11:r=pv(a,r,r.pendingProps,r.type.render,r.ref,De);break;case 5:Wd(r);default:Av(a,r),r=Ne=Xy(r,yr),r=Tv(a,r,yr)}n.memoizedProps=n.pendingProps,r===null?ch(n):Ne=r}function _o(n,r,a,l){or=na=null,Wd(r),ao=null,Dl=0;var f=r.return;try{if(Cw(n,f,r,a,De)){mt=1,Xu(n,Hn(a,n.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;mt=1,Xu(n,Hn(a,n.current)),Ne=null;return}r.flags&32768?(Pe||l===1?n=!0:mo||(De&536870912)!==0?n=!1:(Jr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Zv(r,n)):ch(r)}function ch(n){var r=n;do{if((r.flags&32768)!==0){Zv(r,Jr);return}n=r.return;var a=xw(r.alternate,r,yr);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=n}while(r!==null);mt===0&&(mt=5)}function Zv(n,r){do{var a=Dw(n.alternate,n);if(a!==null){a.flags&=32767,Ne=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=a}while(n!==null);mt=6,Ne=null}function e0(n,r,a,l,f,d,E,S,O){n.cancelPendingCommit=null;do uh();while(Pt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Sd,pd(n,a,d,E,S,O),n===nt&&(Ne=nt=null,De=0),go=r,ts=n,_r=a,Om=d,Mm=f,Fv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Fw(Or,function(){return s0(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,f=le.p,le.p=2,E=Ge,Ge|=4;try{Ow(n,r,a)}finally{Ge=E,le.p=f,Z.T=l}}Pt=1,t0(),n0(),i0()}}function t0(){if(Pt===1){Pt=0;var n=ts,r=go,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var l=le.p;le.p=2;var f=Ge;Ge|=4;try{kv(r,n);var d=Qm,E=By(n.containerInfo),S=d.focusedElem,O=d.selectionRange;if(E!==S&&S&&S.ownerDocument&&zy(S.ownerDocument.documentElement,S)){if(O!==null&&vd(S)){var $=O.start,J=O.end;if(J===void 0&&(J=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(J,S.value.length);else{var te=S.ownerDocument||document,K=te&&te.defaultView||window;if(K.getSelection){var Y=K.getSelection(),de=S.textContent.length,ve=Math.min(O.start,de),tt=O.end===void 0?ve:Math.min(O.end,de);!Y.extend&&ve>tt&&(E=tt,tt=ve,ve=E);var B=Uy(S,ve),P=Uy(S,tt);if(B&&P&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==P.node||Y.focusOffset!==P.offset)){var G=te.createRange();G.setStart(B.node,B.offset),Y.removeAllRanges(),ve>tt?(Y.addRange(G),Y.extend(P.node,P.offset)):(G.setEnd(P.node,P.offset),Y.addRange(G))}}}}for(te=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var ee=te[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}bh=!!Km,Qm=Km=null}finally{Ge=f,le.p=l,Z.T=a}}n.current=r,Pt=2}}function n0(){if(Pt===2){Pt=0;var n=ts,r=go,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var l=le.p;le.p=2;var f=Ge;Ge|=4;try{xv(n,r.alternate,r)}finally{Ge=f,le.p=l,Z.T=a}}Pt=3}}function i0(){if(Pt===4||Pt===3){Pt=0,eu();var n=ts,r=go,a=_r,l=Fv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Pt=5:(Pt=0,go=ts=null,r0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(es=null),tr(a),r=r.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ni,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Z.T,f=le.p,le.p=2,Z.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var S=l[E];d(S.value,{componentStack:S.stack})}}finally{Z.T=r,le.p=f}}(_r&3)!==0&&uh(),Bi(n),f=n.pendingLanes,(a&261930)!==0&&(f&42)!==0?n===Vm?Ql++:(Ql=0,Vm=n):Ql=0,Yl(0)}}function r0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Nl(r)))}function uh(){return t0(),n0(),i0(),s0()}function s0(){if(Pt!==5)return!1;var n=ts,r=Om;Om=0;var a=tr(_r),l=Z.T,f=le.p;try{le.p=32>a?32:a,Z.T=null,a=Mm,Mm=null;var d=ts,E=_r;if(Pt=0,go=ts=null,_r=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,zv(d.current),Lv(d,d.current,E,a),Ge=S,Yl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ni,d)}catch{}return!0}finally{le.p=f,Z.T=l,r0(n,r)}}function a0(n,r,a){r=Hn(a,r),r=fm(n.stateNode,r,2),n=Qr(n,r,2),n!==null&&(Us(n,2),Bi(n))}function Ye(n,r,a){if(n.tag===3)a0(n,n,a);else for(;r!==null;){if(r.tag===3){a0(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(es===null||!es.has(l))){n=Hn(a,n),a=ov(2),l=Qr(r,a,2),l!==null&&(lv(a,l,r,n),Us(l,2),Bi(l));break}}r=r.return}}function Lm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new kw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Nm=!0,f.add(a),n=zw.bind(null,n,r,a),r.then(n,n))}function zw(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(De&a)===a&&(mt===4||mt===3&&(De&62914560)===De&&300>an()-rh?(Ge&2)===0&&yo(n,0):xm|=a,po===De&&(po=0)),Bi(n)}function o0(n,r){r===0&&(r=au()),n=Zs(n,r),n!==null&&(Us(n,r),Bi(n))}function Bw(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),o0(n,a)}function qw(n,r){var a=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),o0(n,a)}function Fw(n,r){return kt(n,r)}var hh=null,vo=null,jm=!1,fh=!1,Um=!1,is=0;function Bi(n){n!==vo&&n.next===null&&(vo===null?hh=vo=n:vo=vo.next=n),fh=!0,jm||(jm=!0,Gw())}function Yl(n,r){if(!Um&&fh){Um=!0;do for(var a=!1,l=hh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-gt(42|n)+1)-1,d&=f&~(E&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,h0(l,d))}else d=De,d=Ai(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ii(l,d)||(a=!0,h0(l,d));l=l.next}while(a);Um=!1}}function Hw(){l0()}function l0(){fh=jm=!1;var n=0;is!==0&&t2()&&(n=is);for(var r=an(),a=null,l=hh;l!==null;){var f=l.next,d=c0(l,r);d===0?(l.next=null,a===null?hh=f:a.next=f,f===null&&(vo=a)):(a=l,(n!==0||(d&3)!==0)&&(fh=!0)),l=f}Pt!==0&&Pt!==5||Yl(n),is!==0&&(is=0)}function c0(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-gt(d),S=1<<E,O=f[E];O===-1?((S&a)===0||(S&l)!==0)&&(f[E]=md(S,r)):O<=r&&(n.expiredLanes|=S),d&=~S}if(r=nt,a=De,a=Ai(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Qe===2||Qe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Dr(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ii(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Dr(l),tr(a)){case 2:case 8:a=sl;break;case 32:a=Or;break;case 268435456:a=tu;break;default:a=Or}return l=u0.bind(null,n),a=kt(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Dr(l),n.callbackPriority=2,n.callbackNode=null,2}function u0(n,r){if(Pt!==0&&Pt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(uh()&&n.callbackNode!==a)return null;var l=De;return l=Ai(n,n===nt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Gv(n,l,r),c0(n,an()),n.callbackNode!=null&&n.callbackNode===a?u0.bind(null,n):null)}function h0(n,r){if(uh())return null;Gv(n,r,!0)}function Gw(){i2(function(){(Ge&6)!==0?kt(rl,Hw):l0()})}function zm(){if(is===0){var n=io;n===0&&(n=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),is=n}return is}function f0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:qa(""+n)}function d0(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function $w(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=f0((f[Ut]||null).action),E=l.submitter;E&&(r=(r=E[Ut]||null)?f0(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var S=new Vi("action","action",null,l,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(is!==0){var O=E?d0(f,E):new FormData(f);am(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(S.preventDefault(),O=E?d0(f,E):new FormData(f),am(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var Bm=0;Bm<Ad.length;Bm++){var qm=Ad[Bm],Kw=qm.toLowerCase(),Qw=qm[0].toUpperCase()+qm.slice(1);hi(Kw,"on"+Qw)}hi(Hy,"onAnimationEnd"),hi(Gy,"onAnimationIteration"),hi($y,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(uw,"onTransitionRun"),hi(hw,"onTransitionStart"),hi(fw,"onTransitionCancel"),hi(Ky,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xl));function m0(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var S=l[E],O=S.instance,$=S.currentTarget;if(S=S.listener,O!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=$;try{d(f)}catch(J){Cu(J)}f.currentTarget=null,d=O}else for(E=0;E<l.length;E++){if(S=l[E],O=S.instance,$=S.currentTarget,S=S.listener,O!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=$;try{d(f)}catch(J){Cu(J)}f.currentTarget=null,d=O}}}}function xe(n,r){var a=r[La];a===void 0&&(a=r[La]=new Set);var l=n+"__bubble";a.has(l)||(p0(r,n,2,!1),a.add(l))}function Fm(n,r,a){var l=0;r&&(l|=4),p0(a,n,l,r)}var dh="_reactListening"+Math.random().toString(36).slice(2);function Hm(n){if(!n[dh]){n[dh]=!0,ll.forEach(function(a){a!=="selectionchange"&&(Yw.has(a)||Fm(a,!1,n),Fm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[dh]||(r[dh]=!0,Fm("selectionchange",!1,r))}}function p0(n,r,a,l){switch(H0(r)){case 2:var f=A2;break;case 8:f=S2;break;default:f=sp}a=f.bind(null,r,a,n),f=void 0,!Gs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Gm(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var S=l.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=l.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=Ci(S),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){l=d=E;continue e}S=S.parentNode}}l=l.return}jr(function(){var $=d,J=zn(a),te=[];e:{var K=Qy.get(n);if(K!==void 0){var Y=Vi,de=n;switch(n){case"keypress":if(Ks(a)===0)break e;case"keydown":case"keyup":Y=Su;break;case"focusin":de="focus",Y=Ys;break;case"focusout":de="blur",Y=Ys;break;case"beforeblur":case"afterblur":Y=Ys;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case Hy:case Gy:case $y:Y=yu;break;case Ky:Y=R;break;case"scroll":case"scrollend":Y=El;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=rr;break;case"toggle":case"beforetoggle":Y=we}var ve=(r&4)!==0,tt=!ve&&(n==="scroll"||n==="scrollend"),B=ve?K!==null?K+"Capture":null:K;ve=[];for(var P=$,G;P!==null;){var ee=P;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||B===null||(ee=oi(P,B),ee!=null&&ve.push(Wl(P,ee,G))),tt)break;P=P.return}0<ve.length&&(K=new Y(K,de,null,a,J),te.push({event:K,listeners:ve}))}}if((r&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",K&&a!==yl&&(de=a.relatedTarget||a.fromElement)&&(Ci(de)||de[wi]))break e;if((Y||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(de=a.relatedTarget||a.toElement,Y=$,de=de?Ci(de):null,de!==null&&(tt=c(de),ve=de.tag,de!==tt||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(Y=null,de=$),Y!==de)){if(ve=Tl,ee="onMouseLeave",B="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(ve=rr,ee="onPointerLeave",B="onPointerEnter",P="pointer"),tt=Y==null?K:bn(Y),G=de==null?K:bn(de),K=new ve(ee,P+"leave",Y,a,J),K.target=tt,K.relatedTarget=G,ee=null,Ci(J)===$&&(ve=new ve(B,P+"enter",de,a,J),ve.target=G,ve.relatedTarget=tt,ee=ve),tt=ee,Y&&de)t:{for(ve=Xw,B=Y,P=de,G=0,ee=B;ee;ee=ve(ee))G++;ee=0;for(var ge=P;ge;ge=ve(ge))ee++;for(;0<G-ee;)B=ve(B),G--;for(;0<ee-G;)P=ve(P),ee--;for(;G--;){if(B===P||P!==null&&B===P.alternate){ve=B;break t}B=ve(B),P=ve(P)}ve=null}else ve=null;Y!==null&&g0(te,K,Y,ve,!1),de!==null&&tt!==null&&g0(te,tt,de,ve,!0)}}e:{if(K=$?bn($):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var qe=My;else if(Dy(K))if(Vy)qe=ow;else{qe=sw;var me=rw}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&Ba($.elementType)&&(qe=My):qe=aw;if(qe&&(qe=qe(n,$))){Oy(te,qe,a,J);break e}me&&me(n,K,$),n==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&ml(K,"number",K.value)}switch(me=$?bn($):window,n){case"focusin":(Dy(me)||me.contentEditable==="true")&&(Ya=me,Ed=$,Rl=null);break;case"focusout":Rl=Ed=Ya=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,qy(te,a,J);break;case"selectionchange":if(cw)break;case"keydown":case"keyup":qy(te,a,J)}var Ie;if(He)e:{switch(n){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Qa?Xs(n,a)&&(Oe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Li&&a.locale!=="ko"&&(Qa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Qa&&(Ie=vl()):(Mi=J,_l="value"in Mi?Mi.value:Mi.textContent,Qa=!0)),me=mh($,Oe),0<me.length&&(Oe=new Pi(Oe,n,null,a,J),te.push({event:Oe,listeners:me}),Ie?Oe.data=Ie:(Ie=Ka(a),Ie!==null&&(Oe.data=Ie)))),(Ie=qn?ew(n,a):tw(n,a))&&(Oe=mh($,"onBeforeInput"),0<Oe.length&&(me=new Pi("onBeforeInput","beforeinput",null,a,J),te.push({event:me,listeners:Oe}),me.data=Ie)),$w(te,n,$,a,J)}m0(te,r)})}function Wl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function mh(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=oi(n,a),f!=null&&l.unshift(Wl(n,f,d)),f=oi(n,r),f!=null&&l.push(Wl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Xw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function g0(n,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var S=a,O=S.alternate,$=S.stateNode;if(S=S.tag,O!==null&&O===l)break;S!==5&&S!==26&&S!==27||$===null||(O=$,f?($=oi(a,d),$!=null&&E.unshift(Wl(a,$,O))):f||($=oi(a,d),$!=null&&E.push(Wl(a,$,O)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var Ww=/\r\n?/g,Jw=/\u0000|\uFFFD/g;function y0(n){return(typeof n=="string"?n:""+n).replace(Ww,`
`).replace(Jw,"")}function _0(n,r){return r=y0(r),y0(n)===r}function et(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||dn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&dn(n,""+l);break;case"className":An(n,"class",l);break;case"tabIndex":An(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(n,a,l);break;case"style":gl(n,l,d);break;case"data":if(r!=="object"){An(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=qa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&et(n,r,"name",f.name,f,null),et(n,r,"formEncType",f.formEncType,f,null),et(n,r,"formMethod",f.formMethod,f,null),et(n,r,"formTarget",f.formTarget,f,null)):(et(n,r,"encType",f.encType,f,null),et(n,r,"method",f.method,f,null),et(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=qa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=ai);break;case"onScroll":l!=null&&xe("scroll",n);break;case"onScrollEnd":l!=null&&xe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=qa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":xe("beforetoggle",n),xe("toggle",n),Ua(n,"popover",l);break;case"xlinkActuate":wt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ua(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=mu.get(a)||a,Ua(n,a,l))}}function $m(n,r,a,l,f,d){switch(a){case"style":gl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?dn(n,l):(typeof l=="number"||typeof l=="bigint")&&dn(n,""+l);break;case"onScroll":l!=null&&xe("scroll",n);break;case"onScrollEnd":l!=null&&xe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ua(n,a,l)}}}function Yt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",n),xe("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,d,E,a,null)}}f&&et(n,r,"srcSet",a.srcSet,a,null),l&&et(n,r,"src",a.src,a,null);return;case"input":xe("invalid",n);var S=d=E=f=null,O=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":f=J;break;case"type":E=J;break;case"checked":O=J;break;case"defaultChecked":$=J;break;case"value":d=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:et(n,r,l,J,a,null)}}hu(n,d,S,O,$,E,f,!1);return;case"select":xe("invalid",n),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":E=S;break;case"multiple":l=S;default:et(n,r,f,S,a,null)}r=d,a=E,n.multiple=!!l,r!=null?Vr(n,!!l,r,!1):a!=null&&Vr(n,!!l,a,!0);return;case"textarea":xe("invalid",n),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(n,r,E,S,a,null)}kr(n,l,f,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":et(n,r,O,l,a,null));return;case"dialog":xe("beforetoggle",n),xe("toggle",n),xe("cancel",n),xe("close",n);break;case"iframe":case"object":xe("load",n);break;case"video":case"audio":for(l=0;l<Xl.length;l++)xe(Xl[l],n);break;case"image":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"embed":case"source":case"link":xe("error",n),xe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:et(n,r,$,l,a,null)}return;default:if(Ba(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&$m(n,r,J,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&et(n,r,S,l,a,null))}function Zw(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,S=null,O=null,$=null,J=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=te;default:l.hasOwnProperty(Y)||et(n,r,Y,null,l,te)}}for(var K in l){var Y=l[K];if(te=a[K],l.hasOwnProperty(K)&&(Y!=null||te!=null))switch(K){case"type":d=Y;break;case"name":f=Y;break;case"checked":$=Y;break;case"defaultChecked":J=Y;break;case"value":E=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==te&&et(n,r,K,Y,l,te)}}za(n,E,S,O,$,J,d,f);return;case"select":Y=E=S=K=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(d)||et(n,r,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":K=d;break;case"defaultValue":S=d;break;case"multiple":E=d;default:d!==O&&et(n,r,f,d,l,O)}r=S,a=E,l=Y,K!=null?Vr(n,!!a,K,!1):!!l!=!!a&&(r!=null?Vr(n,!!a,r,!0):Vr(n,!!a,a?[]:"",!1));return;case"textarea":Y=K=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(n,r,S,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":K=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&et(n,r,E,f,l,d)}fu(n,K,Y);return;case"option":for(var de in a)K=a[de],a.hasOwnProperty(de)&&K!=null&&!l.hasOwnProperty(de)&&(de==="selected"?n.selected=!1:et(n,r,de,null,l,K));for(O in l)K=l[O],Y=a[O],l.hasOwnProperty(O)&&K!==Y&&(K!=null||Y!=null)&&(O==="selected"?n.selected=K&&typeof K!="function"&&typeof K!="symbol":et(n,r,O,K,l,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)K=a[ve],a.hasOwnProperty(ve)&&K!=null&&!l.hasOwnProperty(ve)&&et(n,r,ve,null,l,K);for($ in l)if(K=l[$],Y=a[$],l.hasOwnProperty($)&&K!==Y&&(K!=null||Y!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:et(n,r,$,K,l,Y)}return;default:if(Ba(r)){for(var tt in a)K=a[tt],a.hasOwnProperty(tt)&&K!==void 0&&!l.hasOwnProperty(tt)&&$m(n,r,tt,void 0,l,K);for(J in l)K=l[J],Y=a[J],!l.hasOwnProperty(J)||K===Y||K===void 0&&Y===void 0||$m(n,r,J,K,l,Y);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&et(n,r,B,null,l,K);for(te in l)K=l[te],Y=a[te],!l.hasOwnProperty(te)||K===Y||K==null&&Y==null||et(n,r,te,K,l,Y)}function v0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function e2(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,E=f.initiatorType,S=f.duration;if(d&&S&&v0(E)){for(E=0,S=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],$=O.startTime;if($>S)break;var J=O.transferSize,te=O.initiatorType;J&&v0(te)&&(O=O.responseEnd,E+=J*(O<S?1:(S-$)/(O-$)))}if(--l,r+=8*(d+E)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Km=null,Qm=null;function ph(n){return n.nodeType===9?n:n.ownerDocument}function E0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function T0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Ym(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xm=null;function t2(){var n=window.event;return n&&n.type==="popstate"?n===Xm?!1:(Xm=n,!0):(Xm=null,!1)}var b0=typeof setTimeout=="function"?setTimeout:void 0,n2=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,i2=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(n){return A0.resolve(null).then(n).catch(r2)}:b0;function r2(n){setTimeout(function(){throw n})}function rs(n){return n==="head"}function S0(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){n.removeChild(f),Ao(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Jl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Jl(a);for(var d=a.firstChild;d;){var E=d.nextSibling,S=d.nodeName;d[Ri]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=E}}else a==="body"&&Jl(n.ownerDocument.body);a=f}while(a);Ao(r)}function w0(n,r){var a=n;n=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=l}while(a)}function Wm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wm(a),ja(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function s2(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ri])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Yn(n.nextSibling),n===null)break}return null}function a2(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Yn(n.nextSibling),n===null))return null;return n}function R0(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Yn(n.nextSibling),n===null))return null;return n}function Jm(n){return n.data==="$?"||n.data==="$~"}function Zm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function o2(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Yn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var ep=null;function C0(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return Yn(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function I0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function N0(n,r,a){switch(r=ph(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Jl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);ja(n)}var Xn=new Map,x0=new Set;function gh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var vr=le.d;le.d={f:l2,r:c2,D:u2,C:h2,L:f2,m:d2,X:p2,S:m2,M:g2};function l2(){var n=vr.f(),r=oh();return n||r}function c2(n){var r=Un(n);r!==null&&r.tag===5&&r.type==="form"?K_(r):vr.r(n)}var Eo=typeof document>"u"?null:document;function D0(n,r,a){var l=Eo;if(l&&typeof r=="string"&&r){var f=fn(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),x0.has(f)||(x0.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Yt(r,"link",n),St(r),l.head.appendChild(r)))}}function u2(n){vr.D(n),D0("dns-prefetch",n,null)}function h2(n,r){vr.C(n,r),D0("preconnect",n,r)}function f2(n,r,a){vr.L(n,r,a);var l=Eo;if(l&&n&&r){var f='link[rel="preload"][as="'+fn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(n)+'"]';var d=f;switch(r){case"style":d=To(n);break;case"script":d=bo(n)}Xn.has(d)||(n=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Xn.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Zl(d))||r==="script"&&l.querySelector(ec(d))||(r=l.createElement("link"),Yt(r,"link",n),St(r),l.head.appendChild(r)))}}function d2(n,r){vr.m(n,r);var a=Eo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=bo(n)}if(!Xn.has(d)&&(n=b({rel:"modulepreload",href:n},r),Xn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ec(d)))return}l=a.createElement("link"),Yt(l,"link",n),St(l),a.head.appendChild(l)}}}function m2(n,r,a){vr.S(n,r,a);var l=Eo;if(l&&n){var f=Ii(l).hoistableStyles,d=To(n);r=r||"default";var E=f.get(d);if(!E){var S={loading:0,preload:null};if(E=l.querySelector(Zl(d)))S.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Xn.get(d))&&tp(n,a);var O=E=l.createElement("link");St(O),Yt(O,"link",n),O._p=new Promise(function($,J){O.onload=$,O.onerror=J}),O.addEventListener("load",function(){S.loading|=1}),O.addEventListener("error",function(){S.loading|=2}),S.loading|=4,yh(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(d,E)}}}function p2(n,r){vr.X(n,r);var a=Eo;if(a&&n){var l=Ii(a).hoistableScripts,f=bo(n),d=l.get(f);d||(d=a.querySelector(ec(f)),d||(n=b({src:n,async:!0},r),(r=Xn.get(f))&&np(n,r),d=a.createElement("script"),St(d),Yt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function g2(n,r){vr.M(n,r);var a=Eo;if(a&&n){var l=Ii(a).hoistableScripts,f=bo(n),d=l.get(f);d||(d=a.querySelector(ec(f)),d||(n=b({src:n,async:!0,type:"module"},r),(r=Xn.get(f))&&np(n,r),d=a.createElement("script"),St(d),Yt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function O0(n,r,a,l){var f=(f=Ce.current)?gh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=To(a.href),a=Ii(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=To(a.href);var d=Ii(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(Zl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Xn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(n,a),d||y2(f,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=bo(a),a=Ii(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function To(n){return'href="'+fn(n)+'"'}function Zl(n){return'link[rel="stylesheet"]['+n+"]"}function M0(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function y2(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Yt(r,"link",a),St(r),n.head.appendChild(r))}function bo(n){return'[src="'+fn(n)+'"]'}function ec(n){return"script[async]"+n}function V0(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+fn(a.href)+'"]');if(l)return r.instance=l,St(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),St(l),Yt(l,"style",f),yh(l,a.precedence,n),r.instance=l;case"stylesheet":f=To(a.href);var d=n.querySelector(Zl(f));if(d)return r.state.loading|=4,r.instance=d,St(d),d;l=M0(a),(f=Xn.get(f))&&tp(l,f),d=(n.ownerDocument||n).createElement("link"),St(d);var E=d;return E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),Yt(d,"link",l),r.state.loading|=4,yh(d,a.precedence,n),r.instance=d;case"script":return d=bo(a.src),(f=n.querySelector(ec(d)))?(r.instance=f,St(f),f):(l=a,(f=Xn.get(d))&&(l=b({},a),np(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),St(f),Yt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,yh(l,a.precedence,n));return r.instance}function yh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var S=l[E];if(S.dataset.precedence===r)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function tp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function np(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var _h=null;function k0(n,r,a){if(_h===null){var l=new Map,f=_h=new Map;f.set(a,l)}else f=_h,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[Ri]||d[At]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=n+E;var S=l.get(E);S?S.push(d):l.set(E,[d])}}return l}function P0(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function _2(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(n=r.disabled,typeof r.precedence=="string"&&n==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function L0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function v2(n,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=To(l.href),d=r.querySelector(Zl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=vh.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=d,St(d);return}d=r.ownerDocument||r,l=M0(l),(f=Xn.get(f))&&tp(l,f),d=d.createElement("link"),St(d);var E=d;E._p=new Promise(function(S,O){E.onload=S,E.onerror=O}),Yt(d,"link",l),a.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=vh.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var ip=0;function E2(n,r){return n.stylesheets&&n.count===0&&Th(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var l=setTimeout(function(){if(n.stylesheets&&Th(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+r);0<n.imgBytes&&ip===0&&(ip=62500*e2());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Th(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>ip?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function vh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Th(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Eh=null;function Th(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Eh=new Map,r.forEach(T2,n),Eh=null,vh.call(n))}function T2(n,r){if(!(r.state.loading&4)){var a=Eh.get(n);if(a)var l=a.get(null);else{a=new Map,Eh.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=vh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var tc={$$typeof:z,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function b2(n,r,a,l,f,d,E,S,O){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function j0(n,r,a,l,f,d,E,S,O,$,J,te){return n=new b2(n,r,a,E,O,$,J,te,S),r=1,d===!0&&(r|=24),d=wn(3,null,null,r),n.current=d,d.stateNode=n,r=Pd(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},zd(d),n}function U0(n){return n?(n=Ja,n):Ja}function z0(n,r,a,l,f,d){f=U0(f),l.context===null?l.context=f:l.pendingContext=f,l=Kr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Qr(n,l,r),a!==null&&(_n(a,n,r),Ml(a,n,r))}function B0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function rp(n,r){B0(n,r),(n=n.alternate)&&B0(n,r)}function q0(n){if(n.tag===13||n.tag===31){var r=Zs(n,67108864);r!==null&&_n(r,n,67108864),rp(n,67108864)}}function F0(n){if(n.tag===13||n.tag===31){var r=xn();r=Bs(r);var a=Zs(n,r);a!==null&&_n(a,n,r),rp(n,r)}}var bh=!0;function A2(n,r,a,l){var f=Z.T;Z.T=null;var d=le.p;try{le.p=2,sp(n,r,a,l)}finally{le.p=d,Z.T=f}}function S2(n,r,a,l){var f=Z.T;Z.T=null;var d=le.p;try{le.p=8,sp(n,r,a,l)}finally{le.p=d,Z.T=f}}function sp(n,r,a,l){if(bh){var f=ap(l);if(f===null)Gm(n,r,l,Ah,a),G0(n,l);else if(R2(f,n,r,a,l))l.stopPropagation();else if(G0(n,l),r&4&&-1<w2.indexOf(n)){for(;f!==null;){var d=Un(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=bi(d.pendingLanes);if(E!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var O=1<<31-gt(E);S.entanglements[1]|=O,E&=~O}Bi(d),(Ge&6)===0&&(sh=an()+500,Yl(0))}}break;case 31:case 13:S=Zs(d,2),S!==null&&_n(S,d,2),oh(),rp(d,2)}if(d=ap(l),d===null&&Gm(n,r,l,Ah,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Gm(n,r,l,null,a)}}function ap(n){return n=zn(n),op(n)}var Ah=null;function op(n){if(Ah=null,n=Ci(n),n!==null){var r=c(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=u(r),n!==null)return n;n=null}else if(a===31){if(n=m(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Ah=n,null}function H0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ls()){case rl:return 2;case sl:return 8;case Or:case dd:return 32;case tu:return 268435456;default:return 32}default:return 32}}var lp=!1,ss=null,as=null,os=null,nc=new Map,ic=new Map,ls=[],w2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G0(n,r){switch(n){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":nc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(r.pointerId)}}function rc(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Un(r),r!==null&&q0(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function R2(n,r,a,l,f){switch(r){case"focusin":return ss=rc(ss,n,r,a,l,f),!0;case"dragenter":return as=rc(as,n,r,a,l,f),!0;case"mouseover":return os=rc(os,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return nc.set(d,rc(nc.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,ic.set(d,rc(ic.get(d)||null,n,r,a,l,f)),!0}return!1}function $0(n){var r=Ci(n.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){n.blockedOn=r,ri(n.priority,function(){F0(a)});return}}else if(r===31){if(r=m(a),r!==null){n.blockedOn=r,ri(n.priority,function(){F0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Sh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=ap(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);yl=l,a.target.dispatchEvent(l),yl=null}else return r=Un(a),r!==null&&q0(r),n.blockedOn=a,!1;r.shift()}return!0}function K0(n,r,a){Sh(n)&&a.delete(r)}function C2(){lp=!1,ss!==null&&Sh(ss)&&(ss=null),as!==null&&Sh(as)&&(as=null),os!==null&&Sh(os)&&(os=null),nc.forEach(K0),ic.forEach(K0)}function wh(n,r){n.blockedOn===r&&(n.blockedOn=null,lp||(lp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,C2)))}var Rh=null;function Q0(n){Rh!==n&&(Rh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Rh===n&&(Rh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(op(l||a)===null)continue;break}var d=Un(a);d!==null&&(n.splice(r,3),r-=3,am(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ao(n){function r(O){return wh(O,n)}ss!==null&&wh(ss,n),as!==null&&wh(as,n),os!==null&&wh(os,n),nc.forEach(r),ic.forEach(r);for(var a=0;a<ls.length;a++){var l=ls[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<ls.length&&(a=ls[0],a.blockedOn===null);)$0(a),a.blockedOn===null&&ls.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[Ut]||null;if(typeof d=="function")E||Q0(a);else if(E){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Ut]||null)S=E.formAction;else if(op(f)!==null)continue}else S=E.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Q0(a)}}}function Y0(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(E){return f=E})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function cp(n){this._internalRoot=n}Ch.prototype.render=cp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=xn();z0(a,l,n,r,null,null)},Ch.prototype.unmount=cp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;z0(n.current,2,null,n,null,null),oh(),r[wi]=null}};function Ch(n){this._internalRoot=n}Ch.prototype.unstable_scheduleHydration=function(n){if(n){var r=ou();n={blockedOn:null,target:n,priority:r};for(var a=0;a<ls.length&&r!==0&&r<ls[a].priority;a++);ls.splice(a,0,n),a===0&&$0(n)}};var X0=e.version;if(X0!=="19.2.3")throw Error(s(527,X0,"19.2.3"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var I2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ih.isDisabled&&Ih.supportsFiber)try{ni=Ih.inject(I2),Ht=Ih}catch{}}return ac.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=iv,d=rv,E=sv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError)),r=j0(n,1,!1,null,null,a,l,null,f,d,E,Y0),n[wi]=r.current,Hm(n),new cp(r)},ac.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=iv,E=rv,S=sv,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=j0(n,1,!0,r,a??null,l,f,O,d,E,S,Y0),r.context=U0(null),a=r.current,l=xn(),l=Bs(l),f=Kr(l),f.callback=null,Qr(a,f,l),a=l,r.current.lanes=a,Us(r,a),Bi(r),n[wi]=r.current,Hm(n),new Ch(r)},ac.version="19.2.3",ac}var aE;function j2(){if(aE)return fp.exports;aE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fp.exports=L2(),fp.exports}var U2=j2();const z2=m1(U2);var oE="popstate";function B2(i={}){function e(s,o){let{pathname:c,search:u,hash:m}=s.location;return Lp("",{pathname:c,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Tc(o)}return F2(e,t,null,i)}function ht(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Jn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q2(){return Math.random().toString(36).substring(2,10)}function lE(i,e){return{usr:i.state,key:i.key,idx:e}}function Lp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?$o(e):e,state:t,key:e&&e.key||s||q2()}}function Tc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function $o(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function F2(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,u=o.history,m="POP",p=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function b(){m="POP";let k=v(),F=k==null?null:k-g;g=k,p&&p({action:m,location:U.location,delta:F})}function w(k,F){m="PUSH";let W=Lp(U.location,k,F);g=v()+1;let z=lE(W,g),re=U.createHref(W);try{u.pushState(z,"",re)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(re)}c&&p&&p({action:m,location:U.location,delta:1})}function x(k,F){m="REPLACE";let W=Lp(U.location,k,F);g=v();let z=lE(W,g),re=U.createHref(W);u.replaceState(z,"",re),c&&p&&p({action:m,location:U.location,delta:0})}function j(k){return H2(k)}let U={get action(){return m},get location(){return i(o,u)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(oE,b),p=k,()=>{o.removeEventListener(oE,b),p=null}},createHref(k){return e(o,k)},createURL:j,encodeLocation(k){let F=j(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:w,replace:x,go(k){return u.go(k)}};return U}function H2(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ht(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Tc(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function g1(i,e,t="/"){return G2(i,e,t,!1)}function G2(i,e,t,s){let o=typeof e=="string"?$o(e):e,c=Sr(o.pathname||"/",t);if(c==null)return null;let u=y1(i);$2(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let g=iR(c);m=tR(u[p],g,s)}return m}function y1(i,e=[],t=[],s="",o=!1){let c=(u,m,p=o,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;ht(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Ar([s,v.relativePath]),w=t.concat(v);u.children&&u.children.length>0&&(ht(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),y1(u.children,e,w,b,p)),!(u.path==null&&!u.index)&&e.push({path:b,score:Z2(b,u.index),routesMeta:w})};return i.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))c(u,m);else for(let p of _1(u.path))c(u,m,!0,p)}),e}function _1(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let u=_1(s.join("/")),m=[];return m.push(...u.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...u),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function $2(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:eR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var K2=/^:[\w-]+$/,Q2=3,Y2=2,X2=1,W2=10,J2=-2,cE=i=>i==="*";function Z2(i,e){let t=i.split("/"),s=t.length;return t.some(cE)&&(s+=J2),e&&(s+=Y2),t.filter(o=>!cE(o)).reduce((o,c)=>o+(K2.test(c)?Q2:c===""?X2:W2),s)}function eR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function tR(i,e,t=!1){let{routesMeta:s}=i,o={},c="/",u=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=c==="/"?e:e.slice(c.length)||"/",b=nf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!b&&g&&t&&!s[s.length-1].route.index&&(b=nf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:Ar([c,b.pathname]),pathnameBase:oR(Ar([c,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(c=Ar([c,b.pathnameBase]))}return u}function nf(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=nR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},w)=>{if(v==="*"){let j=m[w]||"";u=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const x=m[w];return b&&!x?g[v]=void 0:g[v]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:u,pattern:i}}function nR(i,e=!1,t=!0){Jn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function iR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Sr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var v1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rR=i=>v1.test(i);function sR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?$o(i):i,c;if(t)if(rR(t))c=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),Jn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?c=uE(t.substring(1),"/"):c=uE(t,e)}else c=e;return{pathname:c,search:lR(s),hash:cR(o)}}function uE(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function gp(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function pg(i){let e=aR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function gg(i,e,t,s=!1){let o;typeof i=="string"?o=$o(i):(o={...i},ht(!o.pathname||!o.pathname.includes("?"),gp("?","pathname","search",o)),ht(!o.pathname||!o.pathname.includes("#"),gp("#","pathname","hash",o)),ht(!o.search||!o.search.includes("#"),gp("#","search","hash",o)));let c=i===""||o.pathname==="",u=c?"/":o.pathname,m;if(u==null)m=t;else{let b=e.length-1;if(!s&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let p=sR(o,m),g=u&&u!=="/"&&u.endsWith("/"),v=(c||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Ar=i=>i.join("/").replace(/\/\/+/g,"/"),oR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),lR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,cR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,uR=class{constructor(i,e,t,s=!1){this.status=i,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function hR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function fR(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var E1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function T1(i,e){let t=i;if(typeof t!="string"||!v1.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,o=!1;if(E1)try{let c=new URL(window.location.href),u=t.startsWith("//")?new URL(c.protocol+t):new URL(t),m=Sr(u.pathname,e);u.origin===c.origin&&m!=null?t=m+u.search+u.hash:o=!0}catch{Jn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var b1=["POST","PUT","PATCH","DELETE"];new Set(b1);var dR=["GET",...b1];new Set(dR);var Ko=I.createContext(null);Ko.displayName="DataRouter";var Df=I.createContext(null);Df.displayName="DataRouterState";var mR=I.createContext(!1),A1=I.createContext({isTransitioning:!1});A1.displayName="ViewTransition";var pR=I.createContext(new Map);pR.displayName="Fetchers";var gR=I.createContext(null);gR.displayName="Await";var Ln=I.createContext(null);Ln.displayName="Navigation";var Vc=I.createContext(null);Vc.displayName="Location";var ei=I.createContext({outlet:null,matches:[],isDataRoute:!1});ei.displayName="Route";var yg=I.createContext(null);yg.displayName="RouteError";var S1="REACT_ROUTER_ERROR",yR="REDIRECT",_R="ROUTE_ERROR_RESPONSE";function vR(i){if(i.startsWith(`${S1}:${yR}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ER(i){if(i.startsWith(`${S1}:${_R}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new uR(e.status,e.statusText,e.data)}catch{}}function TR(i,{relative:e}={}){ht(Qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=I.useContext(Ln),{hash:o,pathname:c,search:u}=Pc(i,{relative:e}),m=c;return t!=="/"&&(m=c==="/"?t:Ar([t,c])),s.createHref({pathname:m,search:u,hash:o})}function Qo(){return I.useContext(Vc)!=null}function Ji(){return ht(Qo(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Vc).location}var w1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R1(i){I.useContext(Ln).static||I.useLayoutEffect(i)}function kc(){let{isDataRoute:i}=I.useContext(ei);return i?PR():bR()}function bR(){ht(Qo(),"useNavigate() may be used only in the context of a <Router> component.");let i=I.useContext(Ko),{basename:e,navigator:t}=I.useContext(Ln),{matches:s}=I.useContext(ei),{pathname:o}=Ji(),c=JSON.stringify(pg(s)),u=I.useRef(!1);return R1(()=>{u.current=!0}),I.useCallback((p,g={})=>{if(Jn(u.current,w1),!u.current)return;if(typeof p=="number"){t.go(p);return}let v=gg(p,JSON.parse(c),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ar([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,c,o,i])}var AR=I.createContext(null);function SR(i){let e=I.useContext(ei).outlet;return I.useMemo(()=>e&&I.createElement(AR.Provider,{value:i},e),[e,i])}function C1(){let{matches:i}=I.useContext(ei),e=i[i.length-1];return e?e.params:{}}function Pc(i,{relative:e}={}){let{matches:t}=I.useContext(ei),{pathname:s}=Ji(),o=JSON.stringify(pg(t));return I.useMemo(()=>gg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function wR(i,e){return I1(i,e)}function I1(i,e,t,s,o){ht(Qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=I.useContext(Ln),{matches:u}=I.useContext(ei),m=u[u.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let W=b&&b.path||"";x1(g,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=Ji(),x;if(e){let W=typeof e=="string"?$o(e):e;ht(v==="/"||W.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),x=W}else x=w;let j=x.pathname||"/",U=j;if(v!=="/"){let W=v.replace(/^\//,"").split("/");U="/"+j.replace(/^\//,"").split("/").slice(W.length).join("/")}let k=g1(i,{pathname:U});Jn(b||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Jn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=xR(k&&k.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:Ar([v,c.encodeLocation?c.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:Ar([v,c.encodeLocation?c.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),u,t,s,o);return e&&F?I.createElement(Vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},F):F}function RR(){let i=kR(),e=hR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:c},"ErrorBoundary")," or"," ",I.createElement("code",{style:c},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:o},t):null,u)}var CR=I.createElement(RR,null),N1=class extends I.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const t=ER(i.digest);t&&(i=t)}let e=i!==void 0?I.createElement(ei.Provider,{value:this.props.routeContext},I.createElement(yg.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?I.createElement(IR,{error:i},e):e}};N1.contextType=mR;var yp=new WeakMap;function IR({children:i,error:e}){let{basename:t}=I.useContext(Ln);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=vR(e.digest);if(s){let o=yp.get(e);if(o)throw o;let c=T1(s.location,t);if(E1&&!yp.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw yp.set(e,u),u}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function NR({routeContext:i,match:e,children:t}){let s=I.useContext(Ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(ei.Provider,{value:i},t)}function xR(i,e=[],t=null,s=null,o=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let c=i,u=t?.errors;if(u!=null){let v=c.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);ht(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let m=!1,p=-1;if(t)for(let v=0;v<c.length;v++){let b=c[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:w,errors:x}=t,j=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!x||x[b.route.id]===void 0);if(b.route.lazy||j){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let g=t&&s?(v,b)=>{s(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:fR(t.matches),errorInfo:b})}:void 0;return c.reduceRight((v,b,w)=>{let x,j=!1,U=null,k=null;t&&(x=u&&b.route.id?u[b.route.id]:void 0,U=b.route.errorElement||CR,m&&(p<0&&w===0?(x1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,k=null):p===w&&(j=!0,k=b.route.hydrateFallbackElement||null)));let F=e.concat(c.slice(0,w+1)),W=()=>{let z;return x?z=U:j?z=k:b.route.Component?z=I.createElement(b.route.Component,null):b.route.element?z=b.route.element:z=v,I.createElement(NR,{match:b,routeContext:{outlet:v,matches:F,isDataRoute:t!=null},children:z})};return t&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?I.createElement(N1,{location:t.location,revalidation:t.revalidation,component:U,error:x,children:W(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:g}):W()},null)}function _g(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DR(i){let e=I.useContext(Ko);return ht(e,_g(i)),e}function OR(i){let e=I.useContext(Df);return ht(e,_g(i)),e}function MR(i){let e=I.useContext(ei);return ht(e,_g(i)),e}function vg(i){let e=MR(i),t=e.matches[e.matches.length-1];return ht(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function VR(){return vg("useRouteId")}function kR(){let i=I.useContext(yg),e=OR("useRouteError"),t=vg("useRouteError");return i!==void 0?i:e.errors?.[t]}function PR(){let{router:i}=DR("useNavigate"),e=vg("useNavigate"),t=I.useRef(!1);return R1(()=>{t.current=!0}),I.useCallback(async(o,c={})=>{Jn(t.current,w1),t.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var hE={};function x1(i,e,t){!e&&!hE[i]&&(hE[i]=!0,Jn(!1,t))}I.memo(LR);function LR({routes:i,future:e,state:t,onError:s}){return I1(i,void 0,t,s,e)}function jR({to:i,replace:e,state:t,relative:s}){ht(Qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=I.useContext(Ln);Jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=I.useContext(ei),{pathname:u}=Ji(),m=kc(),p=gg(i,pg(c),u,s==="path"),g=JSON.stringify(p);return I.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function UR(i){return SR(i.context)}function Dn(i){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:u}){ht(!Qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:m,navigator:o,static:c,unstable_useTransitions:u,future:{}}),[m,o,c,u]);typeof t=="string"&&(t=$o(t));let{pathname:g="/",search:v="",hash:b="",state:w=null,key:x="default"}=t,j=I.useMemo(()=>{let U=Sr(g,m);return U==null?null:{location:{pathname:U,search:v,hash:b,state:w,key:x},navigationType:s}},[m,g,v,b,w,x,s]);return Jn(j!=null,`<Router basename="${m}"> is not able to match the URL "${g}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:I.createElement(Ln.Provider,{value:p},I.createElement(Vc.Provider,{children:e,value:j}))}function BR({children:i,location:e}){return wR(jp(i),e)}function jp(i,e=[]){let t=[];return I.Children.forEach(i,(s,o)=>{if(!I.isValidElement(s))return;let c=[...e,o];if(s.type===I.Fragment){t.push.apply(t,jp(s.props.children,c));return}ht(s.type===Dn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=jp(s.props.children,c)),t.push(u)}),t}var zh="get",Bh="application/x-www-form-urlencoded";function Of(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function qR(i){return Of(i)&&i.tagName.toLowerCase()==="button"}function FR(i){return Of(i)&&i.tagName.toLowerCase()==="form"}function HR(i){return Of(i)&&i.tagName.toLowerCase()==="input"}function GR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function $R(i,e){return i.button===0&&(!e||e==="_self")&&!GR(i)}var Nh=null;function KR(){if(Nh===null)try{new FormData(document.createElement("form"),0),Nh=!1}catch{Nh=!0}return Nh}var QR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _p(i){return i!=null&&!QR.has(i)?(Jn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bh}"`),null):i}function YR(i,e){let t,s,o,c,u;if(FR(i)){let m=i.getAttribute("action");s=m?Sr(m,e):null,t=i.getAttribute("method")||zh,o=_p(i.getAttribute("enctype"))||Bh,c=new FormData(i)}else if(qR(i)||HR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Sr(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||zh,o=_p(i.getAttribute("formenctype"))||_p(m.getAttribute("enctype"))||Bh,c=new FormData(m,i),!KR()){let{name:g,type:v,value:b}=i;if(v==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,b)}}else{if(Of(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zh,s=null,o=Bh,u=i}return c&&o==="text/plain"&&(u=c,c=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Eg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function XR(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Sr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function WR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function ZR(i,e,t){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await WR(c,t);return u.links?u.links():[]}return[]}));return iC(s.flat(1).filter(JR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function fE(i,e,t,s,o,c){let u=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,g)=>u(p,g)||m(p,g)):c==="data"?e.filter((p,g)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function eC(i,e,{includeHydrateFallback:t}={}){return tC(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function tC(i){return[...new Set(i)]}function nC(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function iC(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(nC(o));return t.has(c)||(t.add(c),s.push({key:c,link:o})),s},[])}function D1(){let i=I.useContext(Ko);return Eg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function rC(){let i=I.useContext(Df);return Eg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Tg=I.createContext(void 0);Tg.displayName="FrameworkContext";function O1(){let i=I.useContext(Tg);return Eg(i,"You must render this element inside a <HydratedRouter> element"),i}function sC(i,e){let t=I.useContext(Tg),[s,o]=I.useState(!1),[c,u]=I.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,w=I.useRef(null);I.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let U=F=>{F.forEach(W=>{u(W.isIntersecting)})},k=new IntersectionObserver(U,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[i]),I.useEffect(()=>{if(s){let U=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(U)}}},[s]);let x=()=>{o(!0)},j=()=>{o(!1),u(!1)};return t?i!=="intent"?[c,w,{}]:[c,w,{onFocus:oc(m,x),onBlur:oc(p,j),onMouseEnter:oc(g,x),onMouseLeave:oc(v,j),onTouchStart:oc(b,x)}]:[!1,w,{}]}function oc(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function aC({page:i,...e}){let{router:t}=D1(),s=I.useMemo(()=>g1(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?I.createElement(lC,{page:i,matches:s,...e}):null}function oC(i){let{manifest:e,routeModules:t}=O1(),[s,o]=I.useState([]);return I.useEffect(()=>{let c=!1;return ZR(i,e,t).then(u=>{c||o(u)}),()=>{c=!0}},[i,e,t]),s}function lC({page:i,matches:e,...t}){let s=Ji(),{manifest:o,routeModules:c}=O1(),{basename:u}=D1(),{loaderData:m,matches:p}=rC(),g=I.useMemo(()=>fE(i,e,p,o,s,"data"),[i,e,p,o,s]),v=I.useMemo(()=>fE(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=I.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let j=new Set,U=!1;if(e.forEach(F=>{let W=o.routes[F.route.id];!W||!W.hasLoader||(!g.some(z=>z.route.id===F.route.id)&&F.route.id in m&&c[F.route.id]?.shouldRevalidate||W.hasClientLoader?U=!0:j.add(F.route.id))}),j.size===0)return[];let k=XR(i,u,"data");return U&&j.size>0&&k.searchParams.set("_routes",e.filter(F=>j.has(F.route.id)).map(F=>F.route.id).join(",")),[k.pathname+k.search]},[u,m,s,o,g,e,i,c]),w=I.useMemo(()=>eC(v,o),[v,o]),x=oC(v);return I.createElement(I.Fragment,null,b.map(j=>I.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),w.map(j=>I.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),x.map(({key:j,link:U})=>I.createElement("link",{key:j,nonce:t.nonce,...U})))}function cC(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var uC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uC&&(window.__reactRouterVersion="7.11.0")}catch{}function hC({basename:i,children:e,unstable_useTransitions:t,window:s}){let o=I.useRef();o.current==null&&(o.current=B2({window:s,v5Compat:!0}));let c=o.current,[u,m]=I.useState({action:c.action,location:c.location}),p=I.useCallback(g=>{t===!1?m(g):I.startTransition(()=>m(g))},[t]);return I.useLayoutEffect(()=>c.listen(p),[c,p]),I.createElement(zR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:c,unstable_useTransitions:t})}var M1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=I.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:c,replace:u,state:m,target:p,to:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...x},j){let{basename:U,unstable_useTransitions:k}=I.useContext(Ln),F=typeof g=="string"&&M1.test(g),W=T1(g,U);g=W.to;let z=TR(g,{relative:o}),[re,oe,ue]=sC(s,x),N=mC(g,{replace:u,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:k});function A(V){e&&e(V),V.defaultPrevented||N(V)}let C=I.createElement("a",{...x,...ue,href:W.absoluteURL||z,onClick:W.isExternal||c?e:A,ref:cC(j,oe),target:p,"data-discover":!F&&t==="render"?"true":void 0});return re&&!F?I.createElement(I.Fragment,null,C,I.createElement(aC,{page:z})):C});tn.displayName="Link";var qh=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:c,to:u,viewTransition:m,children:p,...g},v){let b=Pc(u,{relative:g.relative}),w=Ji(),x=I.useContext(Df),{navigator:j,basename:U}=I.useContext(Ln),k=x!=null&&vC(b)&&m===!0,F=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,W=w.pathname,z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(W=W.toLowerCase(),z=z?z.toLowerCase():null,F=F.toLowerCase()),z&&U&&(z=Sr(z,U)||z);const re=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let oe=W===F||!o&&W.startsWith(F)&&W.charAt(re)==="/",ue=z!=null&&(z===F||!o&&z.startsWith(F)&&z.charAt(F.length)==="/"),N={isActive:oe,isPending:ue,isTransitioning:k},A=oe?e:void 0,C;typeof s=="function"?C=s(N):C=[s,oe?"active":null,ue?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(N):c;return I.createElement(tn,{...g,"aria-current":A,className:C,ref:v,style:V,to:u,viewTransition:m},typeof p=="function"?p(N):p)});qh.displayName="NavLink";var fC=I.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:c,method:u=zh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w,...x},j)=>{let{unstable_useTransitions:U}=I.useContext(Ln),k=yC(),F=_C(m,{relative:g}),W=u.toLowerCase()==="get"?"get":"post",z=typeof m=="string"&&M1.test(m),re=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let ue=oe.nativeEvent.submitter,N=ue?.getAttribute("formmethod")||u,A=()=>k(ue||oe.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:o,state:c,relative:g,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:w});U&&t!==!1?I.startTransition(()=>A()):A()};return I.createElement("form",{ref:j,method:W,action:F,onSubmit:s?p:re,...x,"data-discover":!z&&i==="render"?"true":void 0})});fC.displayName="Form";function dC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V1(i){let e=I.useContext(Ko);return ht(e,dC(i)),e}function mC(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=kc(),v=Ji(),b=Pc(i,{relative:c});return I.useCallback(w=>{if($R(w,e)){w.preventDefault();let x=t!==void 0?t:Tc(v)===Tc(b),j=()=>g(i,{replace:x,state:s,preventScrollReset:o,relative:c,viewTransition:u,unstable_defaultShouldRevalidate:m});p?I.startTransition(()=>j()):j()}},[v,g,b,t,s,e,i,o,c,u,m,p])}var pC=0,gC=()=>`__${String(++pC)}__`;function yC(){let{router:i}=V1("useSubmit"),{basename:e}=I.useContext(Ln),t=VR(),s=i.fetch,o=i.navigate;return I.useCallback(async(c,u={})=>{let{action:m,method:p,encType:g,formData:v,body:b}=YR(c,e);if(u.navigate===!1){let w=u.fetcherKey||gC();await s(w,t,u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||p,formEncType:u.encType||g,flushSync:u.flushSync})}else await o(u.action||m,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:b,formMethod:u.method||p,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,o,e,t])}function _C(i,{relative:e}={}){let{basename:t}=I.useContext(Ln),s=I.useContext(ei);ht(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Pc(i||".",{relative:e})},u=Ji();if(i==null){c.search=u.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();c.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Ar([t,c.pathname])),Tc(c)}function vC(i,{relative:e}={}){let t=I.useContext(A1);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=V1("useViewTransitionState"),o=Pc(i,{relative:e});if(!t.isTransitioning)return!1;let c=Sr(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=Sr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return nf(o.pathname,u)!=null||nf(o.pathname,c)!=null}var EC=p1();let TC={data:""},bC=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||TC},AC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,SC=/\/\*[^]*?\*\/|  +/g,dE=/\n+/g,hs=(i,e)=>{let t="",s="",o="";for(let c in i){let u=i[c];c[0]=="@"?c[1]=="i"?t=c+" "+u+";":s+=c[1]=="f"?hs(u,c):c+"{"+hs(u,c[1]=="k"?"":e)+"}":typeof u=="object"?s+=hs(u,e?e.replace(/([^,])+/g,m=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):c):u!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=hs.p?hs.p(c,u):c+":"+u+";")}return t+(e&&o?e+"{"+o+"}":o)+s},Er={},k1=i=>{if(typeof i=="object"){let e="";for(let t in i)e+=t+k1(i[t]);return e}return i},wC=(i,e,t,s,o)=>{let c=k1(i),u=Er[c]||(Er[c]=(p=>{let g=0,v=11;for(;g<p.length;)v=101*v+p.charCodeAt(g++)>>>0;return"go"+v})(c));if(!Er[u]){let p=c!==i?i:(g=>{let v,b,w=[{}];for(;v=AC.exec(g.replace(SC,""));)v[4]?w.shift():v[3]?(b=v[3].replace(dE," ").trim(),w.unshift(w[0][b]=w[0][b]||{})):w[0][v[1]]=v[2].replace(dE," ").trim();return w[0]})(i);Er[u]=hs(o?{["@keyframes "+u]:p}:p,t?"":"."+u)}let m=t&&Er.g?Er.g:null;return t&&(Er.g=Er[u]),((p,g,v,b)=>{b?g.data=g.data.replace(b,p):g.data.indexOf(p)===-1&&(g.data=v?p+g.data:g.data+p)})(Er[u],e,s,m),u},RC=(i,e,t)=>i.reduce((s,o,c)=>{let u=e[c];if(u&&u.call){let m=u(t),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;u=p?"."+p:m&&typeof m=="object"?m.props?"":hs(m,""):m===!1?"":m}return s+o+(u??"")},"");function Mf(i){let e=this||{},t=i.call?i(e.p):i;return wC(t.unshift?t.raw?RC(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,bC(e.target),e.g,e.o,e.k)}let P1,Up,zp;Mf.bind({g:1});let wr=Mf.bind({k:1});function CC(i,e,t,s){hs.p=e,P1=i,Up=t,zp=s}function xs(i,e){let t=this||{};return function(){let s=arguments;function o(c,u){let m=Object.assign({},c),p=m.className||o.className;t.p=Object.assign({theme:Up&&Up()},m),t.o=/ *go\d+/.test(p),m.className=Mf.apply(t,s)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),zp&&g[0]&&zp(m),P1(g,m)}return o}}var IC=i=>typeof i=="function",rf=(i,e)=>IC(i)?i(e):i,NC=(()=>{let i=0;return()=>(++i).toString()})(),L1=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),xC=20,bg="default",j1=(i,e)=>{let{toastLimit:t}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,t)};case 1:return{...i,toasts:i.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:s}=e;return j1(i,{type:i.toasts.find(u=>u.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...i,toasts:i.toasts.map(u=>u.id===o||o===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let c=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+c}))}}},Fh=[],U1={toasts:[],pausedAt:void 0,settings:{toastLimit:xC}},Fi={},z1=(i,e=bg)=>{Fi[e]=j1(Fi[e]||U1,i),Fh.forEach(([t,s])=>{t===e&&s(Fi[e])})},B1=i=>Object.keys(Fi).forEach(e=>z1(i,e)),DC=i=>Object.keys(Fi).find(e=>Fi[e].toasts.some(t=>t.id===i)),Vf=(i=bg)=>e=>{z1(e,i)},OC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},MC=(i={},e=bg)=>{let[t,s]=I.useState(Fi[e]||U1),o=I.useRef(Fi[e]);I.useEffect(()=>(o.current!==Fi[e]&&s(Fi[e]),Fh.push([e,s]),()=>{let u=Fh.findIndex(([m])=>m===e);u>-1&&Fh.splice(u,1)}),[e]);let c=t.toasts.map(u=>{var m,p,g;return{...i,...i[u.type],...u,removeDelay:u.removeDelay||((m=i[u.type])==null?void 0:m.removeDelay)||i?.removeDelay,duration:u.duration||((p=i[u.type])==null?void 0:p.duration)||i?.duration||OC[u.type],style:{...i.style,...(g=i[u.type])==null?void 0:g.style,...u.style}}});return{...t,toasts:c}},VC=(i,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...t,id:t?.id||NC()}),Lc=i=>(e,t)=>{let s=VC(e,i,t);return Vf(s.toasterId||DC(s.id))({type:2,toast:s}),s.id},Lt=(i,e)=>Lc("blank")(i,e);Lt.error=Lc("error");Lt.success=Lc("success");Lt.loading=Lc("loading");Lt.custom=Lc("custom");Lt.dismiss=(i,e)=>{let t={type:3,toastId:i};e?Vf(e)(t):B1(t)};Lt.dismissAll=i=>Lt.dismiss(void 0,i);Lt.remove=(i,e)=>{let t={type:4,toastId:i};e?Vf(e)(t):B1(t)};Lt.removeAll=i=>Lt.remove(void 0,i);Lt.promise=(i,e,t)=>{let s=Lt.loading(e.loading,{...t,...t?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let c=e.success?rf(e.success,o):void 0;return c?Lt.success(c,{id:s,...t,...t?.success}):Lt.dismiss(s),o}).catch(o=>{let c=e.error?rf(e.error,o):void 0;c?Lt.error(c,{id:s,...t,...t?.error}):Lt.dismiss(s)}),i};var kC=1e3,PC=(i,e="default")=>{let{toasts:t,pausedAt:s}=MC(i,e),o=I.useRef(new Map).current,c=I.useCallback((b,w=kC)=>{if(o.has(b))return;let x=setTimeout(()=>{o.delete(b),u({type:4,toastId:b})},w);o.set(b,x)},[]);I.useEffect(()=>{if(s)return;let b=Date.now(),w=t.map(x=>{if(x.duration===1/0)return;let j=(x.duration||0)+x.pauseDuration-(b-x.createdAt);if(j<0){x.visible&&Lt.dismiss(x.id);return}return setTimeout(()=>Lt.dismiss(x.id,e),j)});return()=>{w.forEach(x=>x&&clearTimeout(x))}},[t,s,e]);let u=I.useCallback(Vf(e),[e]),m=I.useCallback(()=>{u({type:5,time:Date.now()})},[u]),p=I.useCallback((b,w)=>{u({type:1,toast:{id:b,height:w}})},[u]),g=I.useCallback(()=>{s&&u({type:6,time:Date.now()})},[s,u]),v=I.useCallback((b,w)=>{let{reverseOrder:x=!1,gutter:j=8,defaultPosition:U}=w||{},k=t.filter(z=>(z.position||U)===(b.position||U)&&z.height),F=k.findIndex(z=>z.id===b.id),W=k.filter((z,re)=>re<F&&z.visible).length;return k.filter(z=>z.visible).slice(...x?[W+1]:[0,W]).reduce((z,re)=>z+(re.height||0)+j,0)},[t]);return I.useEffect(()=>{t.forEach(b=>{if(b.dismissed)c(b.id,b.removeDelay);else{let w=o.get(b.id);w&&(clearTimeout(w),o.delete(b.id))}})},[t,c]),{toasts:t,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:v}}},LC=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,jC=wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,UC=wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,zC=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${LC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${jC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${UC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,BC=wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qC=xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${BC} 1s linear infinite;
`,FC=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,HC=wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,GC=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${FC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${HC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$C=xs("div")`
  position: absolute;
`,KC=xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,QC=wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YC=xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${QC} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,XC=({toast:i})=>{let{icon:e,type:t,iconTheme:s}=i;return e!==void 0?typeof e=="string"?I.createElement(YC,null,e):e:t==="blank"?null:I.createElement(KC,null,I.createElement(qC,{...s}),t!=="loading"&&I.createElement($C,null,t==="error"?I.createElement(zC,{...s}):I.createElement(GC,{...s})))},WC=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,JC=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,ZC="0%{opacity:0;} 100%{opacity:1;}",eI="0%{opacity:1;} 100%{opacity:0;}",tI=xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,nI=xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,iI=(i,e)=>{let t=i.includes("top")?1:-1,[s,o]=L1()?[ZC,eI]:[WC(t),JC(t)];return{animation:e?`${wr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rI=I.memo(({toast:i,position:e,style:t,children:s})=>{let o=i.height?iI(i.position||e||"top-center",i.visible):{opacity:0},c=I.createElement(XC,{toast:i}),u=I.createElement(nI,{...i.ariaProps},rf(i.message,i));return I.createElement(tI,{className:i.className,style:{...o,...t,...i.style}},typeof s=="function"?s({icon:c,message:u}):I.createElement(I.Fragment,null,c,u))});CC(I.createElement);var sI=({id:i,className:e,style:t,onHeightUpdate:s,children:o})=>{let c=I.useCallback(u=>{if(u){let m=()=>{let p=u.getBoundingClientRect().height;s(i,p)};m(),new MutationObserver(m).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return I.createElement("div",{ref:c,className:e,style:t},o)},aI=(i,e)=>{let t=i.includes("top"),s=t?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:L1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},oI=Mf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,xh=16,lI=({reverseOrder:i,position:e="top-center",toastOptions:t,gutter:s,children:o,toasterId:c,containerStyle:u,containerClassName:m})=>{let{toasts:p,handlers:g}=PC(t,c);return I.createElement("div",{"data-rht-toaster":c||"",style:{position:"fixed",zIndex:9999,top:xh,left:xh,right:xh,bottom:xh,pointerEvents:"none",...u},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(v=>{let b=v.position||e,w=g.calculateOffset(v,{reverseOrder:i,gutter:s,defaultPosition:e}),x=aI(b,w);return I.createElement(sI,{id:v.id,key:v.id,onHeightUpdate:g.updateHeight,className:v.visible?oI:"",style:x},v.type==="custom"?rf(v.message,v):o?o(v):I.createElement(rI,{toast:v,position:b}))}))},Ue=Lt;const cI="data:image/svg+xml,%3csvg%20width='32'%20height='48'%20viewBox='0%202%2018%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.13082%2013.9768C1.18296%2013.9144%201.24817%2013.8642%201.32184%2013.8298C1.39551%2013.7953%201.47584%2013.7775%201.55716%2013.7775H12.7587L13.1809%2011.4562C13.2041%2011.3282%2013.2716%2011.2124%2013.3714%2011.1291C13.4713%2011.0457%2013.5972%2011%2013.7273%2011H15.4445C15.5918%2011%2015.7331%2011.0585%2015.8373%2011.1627C15.9415%2011.2669%2016%2011.4082%2016%2011.5555C16%2011.7028%2015.9415%2011.8441%2015.8373%2011.9483C15.7331%2012.0525%2015.5918%2012.111%2015.4445%2012.111H14.1946L12.4198%2021.8523C12.3676%2022.1412%2012.2399%2022.4112%2012.0497%2022.6349C12.3122%2022.88%2012.5016%2023.193%2012.597%2023.5393C12.6924%2023.8855%2012.6901%2024.2513%2012.5902%2024.5963C12.4904%2024.9412%2012.297%2025.2518%2012.0314%2025.4935C11.7658%2025.7353%2011.4385%2025.8987%2011.0857%2025.9658C10.7329%2026.0329%2010.3684%2026.0009%2010.0327%2025.8735C9.69697%2025.746%209.40309%2025.5281%209.18364%2025.2438C8.9642%2024.9596%208.82777%2024.6201%208.78949%2024.263C8.7512%2023.906%208.81256%2023.5453%208.96675%2023.2209H5.81294C5.93721%2023.4811%206.00152%2023.7659%206.00111%2024.0542C6.00111%2024.4387%205.88708%2024.8146%205.67345%2025.1344C5.45981%2025.4541%205.15617%2025.7033%204.80091%2025.8504C4.44564%2025.9976%204.05473%2026.0361%203.67758%2025.9611C3.30044%2025.8861%202.95401%2025.7009%202.6821%2025.429C2.4102%2025.1571%202.22503%2024.8106%202.15001%2024.4335C2.07499%2024.0564%202.1135%2023.6654%202.26065%2023.3102C2.4078%2022.9549%202.657%2022.6513%202.97673%2022.4376C3.29645%2022.224%203.67235%2022.11%204.05688%2022.11H10.7804C10.9105%2022.1099%2011.0365%2022.0643%2011.1364%2021.9809C11.2362%2021.8975%2011.3037%2021.7817%2011.3269%2021.6538L11.547%2020.4435H3.49236C3.10209%2020.4434%202.72422%2020.3064%202.42463%2020.0563C2.12503%2019.8062%201.92272%2019.4588%201.85296%2019.0749L1.00861%2014.4323C0.994316%2014.352%200.997854%2014.2696%201.01897%2014.1909C1.04009%2014.1122%201.07828%2014.0391%201.13082%2013.9768ZM9.88957%2024.0542C9.88957%2024.219%209.93844%2024.3801%2010.03%2024.5171C10.1216%2024.6541%2010.2517%2024.7609%2010.4039%2024.824C10.5562%2024.8871%2010.7237%2024.9036%2010.8854%2024.8714C11.047%2024.8393%2011.1955%2024.7599%2011.312%2024.6434C11.4285%2024.5269%2011.5079%2024.3784%2011.54%2024.2168C11.5722%2024.0551%2011.5557%2023.8876%2011.4926%2023.7353C11.4296%2023.5831%2011.3228%2023.4529%2011.1857%2023.3614C11.0487%2023.2698%2010.8876%2023.2209%2010.7228%2023.2209C10.5018%2023.2209%2010.2899%2023.3087%2010.1336%2023.465C9.97736%2023.6213%209.88957%2023.8332%209.88957%2024.0542ZM3.22364%2024.0542C3.22364%2024.219%203.27251%2024.3801%203.36407%2024.5171C3.45563%2024.6541%203.58576%2024.7609%203.73801%2024.824C3.89027%2024.8871%204.05781%2024.9036%204.21944%2024.8714C4.38107%2024.8393%204.52954%2024.7599%204.64607%2024.6434C4.7626%2024.5269%204.84196%2024.3784%204.87411%2024.2168C4.90626%2024.0551%204.88976%2023.8876%204.8267%2023.7353C4.76363%2023.5831%204.65683%2023.4529%204.51981%2023.3614C4.38278%2023.2698%204.22168%2023.2209%204.05688%2023.2209C3.83589%2023.2209%203.62396%2023.3087%203.46769%2023.465C3.31143%2023.6213%203.22364%2023.8332%203.22364%2024.0542ZM2.94589%2018.8763C2.96921%2019.0046%203.03695%2019.1207%203.13725%2019.2041C3.23754%2019.2875%203.364%2019.3329%203.49444%2019.3325H11.7491L12.5566%2014.8885H2.22306L2.94589%2018.8763Z'%20fill='%23FF68C4'/%3e%3ccircle%20cx='2.5'%20cy='10.5'%20r='2.5'%20fill='%23FF009B'/%3e%3c!--%20//Logica%20items%20cart%20--%3e%3cpath%20d='M2.01138%209.44V9.108H2.76338V12H2.39538V9.44H2.01138Z'%20fill='white'/%3e%3c/svg%3e",q1=""+new URL("logo-desktop-CR_Mk_JO.svg",import.meta.url).href,F1=I.createContext(null),uI=()=>{};var mE={};const H1=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},hI=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[t++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[t++],u=i[t++],m=i[t++],p=((o&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=i[t++],u=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},G1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],u=o+1<i.length,m=u?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=c>>2,b=(c&3)<<4|m>>4;let w=(m&15)<<2|g>>6,x=g&63;p||(x=64,u||(w=64)),s.push(t[v],t[b],t[w],t[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(H1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):hI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,c==null||m==null||g==null||b==null)throw new fI;const w=c<<2|m>>4;if(s.push(w),g!==64){const x=m<<4&240|g>>2;if(s.push(x),b!==64){const j=g<<6&192|b;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class fI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dI=function(i){const e=H1(i);return G1.encodeByteArray(e,!0)},sf=function(i){return dI(i).replace(/\./g,"")},$1=function(i){try{return G1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pI=()=>mI().__FIREBASE_DEFAULTS__,gI=()=>{if(typeof process>"u"||typeof mE>"u")return;const i=mE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},yI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&$1(i[1]);return e&&JSON.parse(e)},kf=()=>{try{return uI()||pI()||gI()||yI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},K1=i=>kf()?.emulatorHosts?.[i],Q1=i=>{const e=K1(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Y1=()=>kf()?.config,X1=i=>kf()?.[`_${i}`];class _I{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function wa(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ag(i){return(await fetch(i,{credentials:"include"})).ok}function W1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[sf(JSON.stringify(t)),sf(JSON.stringify(u)),""].join(".")}const pc={};function vI(){const i={prod:[],emulator:[]};for(const e of Object.keys(pc))pc[e]?i.emulator.push(e):i.prod.push(e);return i}function EI(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let pE=!1;function Sg(i,e){if(typeof window>"u"||typeof document>"u"||!wa(window.location.host)||pc[i]===e||pc[i]||pE)return;pc[i]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=vI().prod.length>0;function u(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{pE=!0,u()},w}function v(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=EI(s),x=t("text"),j=document.getElementById(x)||document.createElement("span"),U=t("learnmore"),k=document.getElementById(U)||document.createElement("a"),F=t("preprendIcon"),W=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const z=w.element;m(z),v(k,U);const re=g();p(W,F),z.append(W,j,k,re),document.body.appendChild(z)}c?(j.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function bI(){const i=kf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wg(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function SI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wI(){const i=sn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function RI(){return!bI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Rg(){try{return typeof indexedDB=="object"}catch{return!1}}function Cg(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function J1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const CI="FirebaseError";class ti extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=CI,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ra.prototype.create)}}class Ra{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?II(c,s):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new ti(o,m,s)}}function II(i,e){return i.replace(NI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const NI=/\{\$([^}]+)}/g;function xI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function As(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const c=i[o],u=e[o];if(gE(c)&&gE(u)){if(!As(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function gE(i){return i!==null&&typeof i=="object"}function jc(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function lc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function cc(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function DI(i,e){const t=new OI(i,e);return t.subscribe.bind(t)}class OI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");MI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=vp),o.error===void 0&&(o.error=vp),o.complete===void 0&&(o.complete=vp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function vp(){}const VI=1e3,kI=2,PI=14400*1e3,LI=.5;function yE(i,e=VI,t=kI){const s=e*Math.pow(t,i),o=Math.round(LI*s*(Math.random()-.5)*2);return Math.min(PI,s+o)}function rt(i){return i&&i._delegate?i._delegate:i}class Zn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fa="[DEFAULT]";class jI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new _I;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zI(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&u.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:UI(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UI(i){return i===fa?void 0:i}function zI(i){return i.instantiationMode==="EAGER"}class BI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const qI={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},FI=Me.INFO,HI={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},GI=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=HI[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pf{constructor(e){this.name=e,this._logLevel=FI,this._logHandler=GI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const $I=(i,e)=>e.some(t=>i instanceof t);let _E,vE;function KI(){return _E||(_E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QI(){return vE||(vE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z1=new WeakMap,Bp=new WeakMap,eb=new WeakMap,Ep=new WeakMap,Ig=new WeakMap;function YI(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",u)},c=()=>{t(ys(i.result)),o()},u=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Z1.set(t,i)}).catch(()=>{}),Ig.set(e,i),e}function XI(i){if(Bp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",u),i.removeEventListener("abort",u)},c=()=>{t(),o()},u=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",u),i.addEventListener("abort",u)});Bp.set(i,e)}let qp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Bp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||eb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ys(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function WI(i){qp=i(qp)}function JI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Tp(this),e,...t);return eb.set(s,e.sort?e.sort():[e]),ys(s)}:QI().includes(i)?function(...e){return i.apply(Tp(this),e),ys(Z1.get(this))}:function(...e){return ys(i.apply(Tp(this),e))}}function ZI(i){return typeof i=="function"?JI(i):(i instanceof IDBTransaction&&XI(i),$I(i,KI())?new Proxy(i,qp):i)}function ys(i){if(i instanceof IDBRequest)return YI(i);if(Ep.has(i))return Ep.get(i);const e=ZI(i);return e!==i&&(Ep.set(i,e),Ig.set(e,i)),e}const Tp=i=>Ig.get(i);function tb(i,e,{blocked:t,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(i,e),m=ys(u);return s&&u.addEventListener("upgradeneeded",p=>{s(ys(u.result),p.oldVersion,p.newVersion,ys(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const eN=["get","getKey","getAll","getAllKeys","count"],tN=["put","add","delete","clear"],bp=new Map;function EE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=tN.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||eN.includes(t)))return;const c=async function(u,...m){const p=this.transaction(u,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return bp.set(e,c),c}WI(i=>({...i,get:(e,t,s)=>EE(e,t)||i.get(e,t,s),has:(e,t)=>!!EE(e,t)||i.has(e,t)}));class nN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(iN(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function iN(i){return i.getComponent()?.type==="VERSION"}const Fp="@firebase/app",TE="0.14.6";const Rr=new Pf("@firebase/app"),rN="@firebase/app-compat",sN="@firebase/analytics-compat",aN="@firebase/analytics",oN="@firebase/app-check-compat",lN="@firebase/app-check",cN="@firebase/auth",uN="@firebase/auth-compat",hN="@firebase/database",fN="@firebase/data-connect",dN="@firebase/database-compat",mN="@firebase/functions",pN="@firebase/functions-compat",gN="@firebase/installations",yN="@firebase/installations-compat",_N="@firebase/messaging",vN="@firebase/messaging-compat",EN="@firebase/performance",TN="@firebase/performance-compat",bN="@firebase/remote-config",AN="@firebase/remote-config-compat",SN="@firebase/storage",wN="@firebase/storage-compat",RN="@firebase/firestore",CN="@firebase/ai",IN="@firebase/firestore-compat",NN="firebase",xN="12.6.0";const Hp="[DEFAULT]",DN={[Fp]:"fire-core",[rN]:"fire-core-compat",[aN]:"fire-analytics",[sN]:"fire-analytics-compat",[lN]:"fire-app-check",[oN]:"fire-app-check-compat",[cN]:"fire-auth",[uN]:"fire-auth-compat",[hN]:"fire-rtdb",[fN]:"fire-data-connect",[dN]:"fire-rtdb-compat",[mN]:"fire-fn",[pN]:"fire-fn-compat",[gN]:"fire-iid",[yN]:"fire-iid-compat",[_N]:"fire-fcm",[vN]:"fire-fcm-compat",[EN]:"fire-perf",[TN]:"fire-perf-compat",[bN]:"fire-rc",[AN]:"fire-rc-compat",[SN]:"fire-gcs",[wN]:"fire-gcs-compat",[RN]:"fire-fst",[IN]:"fire-fst-compat",[CN]:"fire-vertex","fire-js":"fire-js",[NN]:"fire-js-all"};const af=new Map,ON=new Map,Gp=new Map;function bE(i,e){try{i.container.addComponent(e)}catch(t){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function gi(i){const e=i.name;if(Gp.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;Gp.set(e,i);for(const t of af.values())bE(t,i);for(const t of ON.values())bE(t,i);return!0}function Ds(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Wn(i){return i==null?!1:i.settings!==void 0}const MN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new Ra("app","Firebase",MN);class VN{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}const Ca=xN;function nb(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:Hp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(t||(t=Y1()),!t)throw _s.create("no-options");const c=af.get(o);if(c){if(As(t,c.options)&&As(s,c.config))return c;throw _s.create("duplicate-app",{appName:o})}const u=new BI(o);for(const p of Gp.values())u.addComponent(p);const m=new VN(t,s,u);return af.set(o,m),m}function Lf(i=Hp){const e=af.get(i);if(!e&&i===Hp&&Y1())return nb();if(!e)throw _s.create("no-app",{appName:i});return e}function En(i,e,t){let s=DN[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(u.join(" "));return}gi(new Zn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const kN="firebase-heartbeat-database",PN=1,bc="firebase-heartbeat-store";let Ap=null;function ib(){return Ap||(Ap=tb(kN,PN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(bc)}catch(t){console.warn(t)}}}}).catch(i=>{throw _s.create("idb-open",{originalErrorMessage:i.message})})),Ap}async function LN(i){try{const t=(await ib()).transaction(bc),s=await t.objectStore(bc).get(rb(i));return await t.done,s}catch(e){if(e instanceof ti)Rr.warn(e.message);else{const t=_s.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(t.message)}}}async function AE(i,e){try{const s=(await ib()).transaction(bc,"readwrite");await s.objectStore(bc).put(e,rb(i)),await s.done}catch(t){if(t instanceof ti)Rr.warn(t.message);else{const s=_s.create("idb-set",{originalErrorMessage:t?.message});Rr.warn(s.message)}}}function rb(i){return`${i.name}!${i.options.appId}`}const jN=1024,UN=30;class zN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qN(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=SE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>UN){const o=FN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=SE(),{heartbeatsToSend:t,unsentEntries:s}=BN(this._heartbeatsCache.heartbeats),o=sf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Rr.warn(e),""}}}function SE(){return new Date().toISOString().substring(0,10)}function BN(i,e=jN){const t=[];let s=i.slice();for(const o of i){const c=t.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),wE(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),wE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class qN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Rg()?Cg().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await LN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return AE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return AE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wE(i){return sf(JSON.stringify({version:2,heartbeats:i})).length}function FN(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}function HN(i){gi(new Zn("platform-logger",e=>new nN(e),"PRIVATE")),gi(new Zn("heartbeat",e=>new zN(e),"PRIVATE")),En(Fp,TE,i),En(Fp,TE,"esm2020"),En("fire-js","")}HN("");function sb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GN=sb,ab=new Ra("auth","Firebase",sb());const of=new Pf("@firebase/auth");function $N(i,...e){of.logLevel<=Me.WARN&&of.warn(`Auth (${Ca}): ${i}`,...e)}function Hh(i,...e){of.logLevel<=Me.ERROR&&of.error(`Auth (${Ca}): ${i}`,...e)}function yi(i,...e){throw Ng(i,...e)}function Hi(i,...e){return Ng(i,...e)}function ob(i,e,t){const s={...GN(),[e]:t};return new Ra("auth","Firebase",s).create(e,{appName:i.name})}function vs(i){return ob(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ng(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return ab.create(i,...e)}function Te(i,e,...t){if(!i)throw Ng(e,...t)}function Tr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Hh(e),new Error(e)}function Cr(i,e){i||Tr(e)}function $p(){return typeof self<"u"&&self.location?.href||""}function KN(){return RE()==="http:"||RE()==="https:"}function RE(){return typeof self<"u"&&self.location?.protocol||null}function QN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KN()||wg()||"connection"in navigator)?navigator.onLine:!0}function YN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Uc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cr(t>e,"Short delay should be less than long delay!"),this.isMobile=TI()||SI()}get(){return QN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xg(i,e){Cr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class lb{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const WN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JN=new Uc(3e4,6e4);function Ia(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Os(i,e,t,s,o={}){return cb(i,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const m=jc({key:i.config.apiKey,...u}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...c};return AI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&wa(i.emulatorConfig.host)&&(g.credentials="include"),lb.fetch()(await ub(i,i.config.apiHost,t,m),g)})}async function cb(i,e,t){i._canInitEmulator=!1;const s={...XN,...e};try{const o=new ex(i),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Dh(i,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const m=c.ok?u.errorMessage:u.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(i,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw Dh(i,"email-already-in-use",u);if(p==="USER_DISABLED")throw Dh(i,"user-disabled",u);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ob(i,v,g);yi(i,v)}}catch(o){if(o instanceof ti)throw o;yi(i,"network-request-failed",{message:String(o)})}}async function jf(i,e,t,s,o={}){const c=await Os(i,e,t,s,o);return"mfaPendingCredential"in c&&yi(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function ub(i,e,t,s){const o=`${e}${t}?${s}`,c=i,u=c.config.emulator?xg(i.config,o):`${i.config.apiScheme}://${o}`;return WN.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function ZN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ex{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Hi(this.auth,"network-request-failed")),JN.get())})}}function Dh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Hi(i,e,s);return o.customData._tokenResponse=t,o}function CE(i){return i!==void 0&&i.enterprise!==void 0}class tx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nx(i,e){return Os(i,"GET","/v2/recaptchaConfig",Ia(i,e))}async function ix(i,e){return Os(i,"POST","/v1/accounts:delete",e)}async function lf(i,e){return Os(i,"POST","/v1/accounts:lookup",e)}function gc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rx(i,e=!1){const t=rt(i),s=await t.getIdToken(e),o=Dg(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:s,authTime:gc(Sp(o.auth_time)),issuedAtTime:gc(Sp(o.iat)),expirationTime:gc(Sp(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Sp(i){return Number(i)*1e3}function Dg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=$1(t);return o?JSON.parse(o):(Hh("Failed to decode base64 JWT payload"),null)}catch(o){return Hh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function IE(i){const e=Dg(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ac(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ti&&sx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function sx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class ax{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Kp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cf(i){const e=i.auth,t=await i.getIdToken(),s=await Ac(i,lf(e,{idToken:t}));Te(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?hb(o.providerUserInfo):[],u=lx(i.providerData,c),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!u?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Kp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,v)}async function ox(i){const e=rt(i);await cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lx(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function hb(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function cx(i,e){const t=await cb(i,{},async()=>{const s=jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,u=await ub(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&wa(i.emulatorConfig.host)&&(p.credentials="include"),lb.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ux(i,e){return Os(i,"POST","/v2/accounts:revokeToken",Ia(i,e))}class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=IE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:c}=await cx(e,t);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:c}=t,u=new xo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return Tr("not implemented")}}function us(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class mi{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new ax(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Kp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ac(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rx(this,e)}reload(){return ox(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await cf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Ac(this,ix(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,u=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:j,stsTokenManager:U}=t;Te(b&&U,e,"internal-error");const k=xo.fromJSON(this.name,U);Te(typeof b=="string",e,"internal-error"),us(s,e.name),us(o,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof x=="boolean",e,"internal-error"),us(c,e.name),us(u,e.name),us(m,e.name),us(p,e.name),us(g,e.name),us(v,e.name);const F=new mi({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:x,photoURL:u,phoneNumber:c,tenantId:m,stsTokenManager:k,createdAt:g,lastLoginAt:v});return j&&Array.isArray(j)&&(F.providerData=j.map(W=>({...W}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,t,s=!1){const o=new xo;o.updateFromServerResponse(t);const c=new mi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await cf(c),c}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?hb(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,m=new xo;m.updateFromIdToken(s);const p=new mi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Kp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,g),p}}const NE=new Map;function br(i){Cr(i instanceof Function,"Expected a class definition");let e=NE.get(i);return e?(Cr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,NE.set(i,e),e)}class fb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fb.type="NONE";const xE=fb;function Gh(i,e,t){return`firebase:${i}:${e}:${t}`}class Do{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Gh(this.userKey,o.apiKey,c),this.fullPersistenceKey=Gh("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await lf(this.auth,{idToken:e}).catch(()=>{});return t?mi._fromGetAccountInfoResponse(this.auth,t,e):null}return mi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Do(br(xE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||br(xE);const u=Gh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const v=await g._get(u);if(v){let b;if(typeof v=="string"){const w=await lf(e,{idToken:v}).catch(()=>{});if(!w)break;b=await mi._fromGetAccountInfoResponse(e,w,v)}else b=mi._fromJSON(e,v);g!==c&&(m=b),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Do(c,e,s):(c=p[0],m&&await c._set(u,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new Do(c,e,s))}}function DE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(db(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_b(e))return"Blackberry";if(vb(e))return"Webos";if(mb(e))return"Safari";if((e.includes("chrome/")||pb(e))&&!e.includes("edge/"))return"Chrome";if(yb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function db(i=sn()){return/firefox\//i.test(i)}function mb(i=sn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pb(i=sn()){return/crios\//i.test(i)}function gb(i=sn()){return/iemobile/i.test(i)}function yb(i=sn()){return/android/i.test(i)}function _b(i=sn()){return/blackberry/i.test(i)}function vb(i=sn()){return/webos/i.test(i)}function Og(i=sn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function hx(i=sn()){return Og(i)&&!!window.navigator?.standalone}function fx(){return wI()&&document.documentMode===10}function Eb(i=sn()){return Og(i)||yb(i)||vb(i)||_b(i)||/windows phone/i.test(i)||gb(i)}function Tb(i,e=[]){let t;switch(i){case"Browser":t=DE(sn());break;case"Worker":t=`${DE(sn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ca}/${s}`}class dx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=c=>new Promise((u,m)=>{try{const p=e(c);u(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function mx(i,e={}){return Os(i,"GET","/v2/passwordPolicy",Ia(i,e))}const px=6;class gx{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??px,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class yx{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OE(this),this.idTokenSubscription=new OE(this),this.beforeStateQueue=new dx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ab,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=br(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await lf(this,{idToken:e}),s=await mi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===u)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(vs(this));const t=e?rt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mx(this),t=new gx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ra("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await ux(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&br(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[br(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{u||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&$N(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Yo(i){return rt(i)}class OE{constructor(e){this.auth=e,this.observer=null,this.addObserver=DI(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _x(i){Uf=i}function bb(i){return Uf.loadJS(i)}function vx(){return Uf.recaptchaEnterpriseScript}function Ex(){return Uf.gapiScript}function Tx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class bx{constructor(){this.enterprise=new Ax}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ax{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Sx="recaptcha-enterprise",Ab="NO_RECAPTCHA";class wx{constructor(e){this.type=Sx,this.auth=Yo(e)}async verify(e="verify",t=!1){async function s(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,m)=>{nx(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new tx(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,u(g.siteKey)}}).catch(p=>{m(p)})})}function o(c,u,m){const p=window.grecaptcha;CE(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{u(g)}).catch(()=>{u(Ab)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bx().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{s(this.auth).then(m=>{if(!t&&CE(window.grecaptcha))o(m,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=vx();p.length!==0&&(p+=m),bb(p).then(()=>{o(m,c,u)}).catch(g=>{u(g)})}}).catch(m=>{u(m)})})}}async function ME(i,e,t,s=!1,o=!1){const c=new wx(i);let u;if(o)u=Ab;else try{u=await c.verify(t)}catch{u=await c.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function VE(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await ME(i,e,t,t==="getOobCode");return s(i,c)}else return s(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await ME(i,e,t,t==="getOobCode");return s(i,u)}else return Promise.reject(c)})}function Rx(i,e){const t=Ds(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(As(c,e??{}))return o;yi(o,"already-initialized")}return t.initialize({options:e})}function Cx(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(br);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function Ix(i,e,t){const s=Yo(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=Sb(e),{host:u,port:m}=Nx(e),p=m===null?"":`:${m}`,g={url:`${c}//${u}${p}/`},v=Object.freeze({host:u,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(As(g,s.config.emulator)&&As(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,wa(u)?(Ag(`${c}//${u}${p}`),Sg("Auth",!0)):xx()}function Sb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Nx(i){const e=Sb(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:kE(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:kE(u)}}}function kE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function xx(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Mg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,t){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}async function Dx(i,e){return Os(i,"POST","/v1/accounts:signUp",e)}async function Ox(i,e){return jf(i,"POST","/v1/accounts:signInWithPassword",Ia(i,e))}async function Mx(i,e){return jf(i,"POST","/v1/accounts:signInWithEmailLink",Ia(i,e))}async function Vx(i,e){return jf(i,"POST","/v1/accounts:signInWithEmailLink",Ia(i,e))}class Sc extends Mg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Sc(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Sc(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VE(e,t,"signInWithPassword",Ox);case"emailLink":return Mx(e,{email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VE(e,s,"signUpPassword",Dx);case"emailLink":return Vx(e,{idToken:t,email:this._email,oobCode:this._password});default:yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Oo(i,e){return jf(i,"POST","/v1/accounts:signInWithIdp",Ia(i,e))}const kx="http://localhost";class _a extends Mg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new _a(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=t;if(!s||!o)return null;const u=new _a(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Oo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Oo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oo(e,t)}buildRequest(){const e={requestUri:kx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=jc(t)}return e}}function Px(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Lx(i){const e=lc(cc(i)).link,t=e?lc(cc(e)).deep_link_id:null,s=lc(cc(i)).deep_link_id;return(s?lc(cc(s)).link:null)||s||t||e||i}class Vg{constructor(e){const t=lc(cc(e)),s=t.apiKey??null,o=t.oobCode??null,c=Px(t.mode??null);Te(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Lx(e);try{return new Vg(t)}catch{return null}}}class Xo{constructor(){this.providerId=Xo.PROVIDER_ID}static credential(e,t){return Sc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Vg.parseLink(t);return Te(s,"argument-error"),Sc._fromEmailAndCode(e,s.code,s.tenantId)}}Xo.PROVIDER_ID="password";Xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zc extends wb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fs extends zc{constructor(){super("facebook.com")}static credential(e){return _a._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";class ds extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return _a._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ds.credential(t,s)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";class ms extends zc{constructor(){super("github.com")}static credential(e){return _a._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.GITHUB_SIGN_IN_METHOD="github.com";ms.PROVIDER_ID="github.com";class ps extends zc{constructor(){super("twitter.com")}static credential(e,t){return _a._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ps.credential(t,s)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const c=await mi._fromIdTokenResponse(e,s,o),u=PE(s);return new Lo({user:c,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=PE(s);return new Lo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function PE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class uf extends ti{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,uf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new uf(e,t,s,o)}}function Rb(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uf._fromErrorAndOperation(i,c,e,s):c})}async function jx(i,e,t=!1){const s=await Ac(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Lo._forOperation(i,"link",s)}async function Ux(i,e,t=!1){const{auth:s}=i;if(Wn(s.app))return Promise.reject(vs(s));const o="reauthenticate";try{const c=await Ac(i,Rb(s,o,e,i),t);Te(c.idToken,s,"internal-error");const u=Dg(c.idToken);Te(u,s,"internal-error");const{sub:m}=u;return Te(i.uid===m,s,"user-mismatch"),Lo._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&yi(s,"user-mismatch"),c}}async function Cb(i,e,t=!1){if(Wn(i.app))return Promise.reject(vs(i));const s="signIn",o=await Rb(i,s,e),c=await Lo._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(c.user),c}async function zx(i,e){return Cb(Yo(i),e)}async function Bx(i){const e=Yo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Ib(i,e,t){return Wn(i.app)?Promise.reject(vs(i)):zx(rt(i),Xo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Bx(i),s})}function qx(i,e,t,s){return rt(i).onIdTokenChanged(e,t,s)}function Fx(i,e,t){return rt(i).beforeAuthStateChanged(e,t)}function Hx(i,e,t,s){return rt(i).onAuthStateChanged(e,t,s)}function Nb(i){return rt(i).signOut()}const hf="__sak";class xb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hf,"1"),this.storage.removeItem(hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gx=1e3,$x=10;class Db extends xb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Eb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,m,p)=>{this.notifyListeners(u,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);fx()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,$x):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Gx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Db.type="LOCAL";const Kx=Db;class Ob extends xb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ob.type="SESSION";const Mb=Ob;function Qx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new zf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:c}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(u).map(async g=>g(t.origin,c)),p=await Qx(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zf.receivers=[];function kg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class Yx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((m,p)=>{const g=kg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(w.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Gi(){return window}function Xx(i){Gi().location.href=i}function Vb(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function Wx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jx(){return navigator?.serviceWorker?.controller||null}function Zx(){return Vb()?self:null}const kb="firebaseLocalStorageDb",eD=1,ff="firebaseLocalStorage",Pb="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bf(i,e){return i.transaction([ff],e?"readwrite":"readonly").objectStore(ff)}function tD(){const i=indexedDB.deleteDatabase(kb);return new Bc(i).toPromise()}function Qp(){const i=indexedDB.open(kb,eD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(ff,{keyPath:Pb})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(ff)?e(s):(s.close(),await tD(),e(await Qp()))})})}async function LE(i,e,t){const s=Bf(i,!0).put({[Pb]:e,value:t});return new Bc(s).toPromise()}async function nD(i,e){const t=Bf(i,!1).get(e),s=await new Bc(t).toPromise();return s===void 0?null:s.value}function jE(i,e){const t=Bf(i,!0).delete(e);return new Bc(t).toPromise()}const iD=800,rD=3;class Lb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>rD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zf._getInstance(Zx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Wx(),!this.activeServiceWorker)return;this.sender=new Yx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qp();return await LE(e,hf,"1"),await jE(e,hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>LE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>nD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Bf(o,!1).getAll();return new Bc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lb.type="LOCAL";const sD=Lb;new Uc(3e4,6e4);function aD(i,e){return e?br(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Pg extends Mg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oD(i){return Cb(i.auth,new Pg(i),i.bypassAuthState)}function lD(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),Ux(t,new Pg(i),i.bypassAuthState)}async function cD(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),jx(t,new Pg(i),i.bypassAuthState)}class jb{constructor(e,t,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:c,error:u,type:m}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oD;case"linkViaPopup":case"linkViaRedirect":return cD;case"reauthViaPopup":case"reauthViaRedirect":return lD;default:yi(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uD=new Uc(2e3,1e4);class Io extends jb{constructor(e,t,s,o,c){super(e,t,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uD.get())};e()}}Io.currentPopupAction=null;const hD="pendingRedirect",$h=new Map;class fD extends jb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=$h.get(this.auth._key());if(!e){try{const s=await dD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}$h.set(this.auth._key(),e)}return this.bypassAuthState||$h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dD(i,e){const t=gD(e),s=pD(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function mD(i,e){$h.set(i._key(),e)}function pD(i){return br(i._redirectPersistence)}function gD(i){return Gh(hD,i.config.apiKey,i.name)}async function yD(i,e,t=!1){if(Wn(i.app))return Promise.reject(vs(i));const s=Yo(i),o=aD(s,e),u=await new fD(s,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const _D=600*1e3;class vD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ED(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Ub(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Hi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_D&&this.cachedEventUids.clear(),this.cachedEventUids.has(UE(e))}saveEventToCache(e){this.cachedEventUids.add(UE(e)),this.lastProcessedEventTime=Date.now()}}function UE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Ub({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function ED(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ub(i);default:return!1}}async function TD(i,e={}){return Os(i,"GET","/v1/projects",e)}const bD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AD=/^https?/;async function SD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await TD(i);for(const t of e)try{if(wD(t))return}catch{}yi(i,"unauthorized-domain")}function wD(i){const e=$p(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!AD.test(t))return!1;if(bD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const RD=new Uc(3e4,6e4);function zE(){const i=Gi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function CD(i){return new Promise((e,t)=>{function s(){zE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zE(),t(Hi(i,"network-request-failed"))},timeout:RD.get()})}if(Gi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gi().gapi?.load)s();else{const o=Tx("iframefcb");return Gi()[o]=()=>{gapi.load?s():t(Hi(i,"network-request-failed"))},bb(`${Ex()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw Kh=null,e})}let Kh=null;function ID(i){return Kh=Kh||CD(i),Kh}const ND=new Uc(5e3,15e3),xD="__/auth/iframe",DD="emulator/auth/iframe",OD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VD(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?xg(e,DD):`https://${i.config.authDomain}/${xD}`,s={apiKey:e.apiKey,appName:i.name,v:Ca},o=MD.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${t}?${jc(s).slice(1)}`}async function kD(i){const e=await ID(i),t=Gi().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:VD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OD,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=Hi(i,"network-request-failed"),m=Gi().setTimeout(()=>{c(u)},ND.get());function p(){Gi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{c(u)})}))}const PD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LD=500,jD=600,UD="_blank",zD="http://localhost";class BE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BD(i,e,t,s=LD,o=jD){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...PD,width:s.toString(),height:o.toString(),top:c,left:u},g=sn().toLowerCase();t&&(m=pb(g)?UD:t),db(g)&&(e=e||zD,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[x,j])=>`${w}${x}=${j},`,"");if(hx(g)&&m!=="_self")return qD(e||"",m),new BE(null);const b=window.open(e||"",m,v);Te(b,i,"popup-blocked");try{b.focus()}catch{}return new BE(b)}function qD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const FD="__/auth/handler",HD="emulator/auth/handler",GD=encodeURIComponent("fac");async function qE(i,e,t,s,o,c){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Ca,eventId:o};if(e instanceof wb){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",xI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof zc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}i.tenantId&&(u.tid=i.tenantId);const m=u;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${GD}=${encodeURIComponent(p)}`:"";return`${$D(i)}?${jc(m).slice(1)}${g}`}function $D({config:i}){return i.emulator?xg(i,HD):`https://${i.authDomain}/${FD}`}const wp="webStorageSupport";class KD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mb,this._completeRedirectFn=yD,this._overrideRedirectResult=mD}async _openPopup(e,t,s,o){Cr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await qE(e,t,s,$p(),o);return BD(e,c,kg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const c=await qE(e,t,s,$p(),o);return Xx(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Cr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await kD(e),s=new vD(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wp,{type:wp},o=>{const c=o?.[0]?.[wp];c!==void 0&&t(!!c),yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Eb()||mb()||Og()}}const QD=KD;var FE="@firebase/auth",HE="1.12.0";class YD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function XD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WD(i){gi(new Zn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=s.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tb(i)},g=new yx(s,o,c,p);return Cx(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),gi(new Zn("auth-internal",e=>{const t=Yo(e.getProvider("auth").getImmediate());return(s=>new YD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),En(FE,HE,XD(i)),En(FE,HE,"esm2020")}const JD=300,ZD=X1("authIdTokenMaxAge")||JD;let GE=null;const e4=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>ZD)return;const o=t?.token;GE!==o&&(GE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function t4(i=Lf()){const e=Ds(i,"auth");if(e.isInitialized())return e.getImmediate();const t=Rx(i,{popupRedirectResolver:QD,persistence:[sD,Kx,Mb]}),s=X1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=e4(c.toString());Fx(t,u,()=>u(t.currentUser)),qx(t,m=>u(m))}}const o=K1("auth");return o&&Ix(t,`http://${o}`),t}function n4(){return document.getElementsByTagName("head")?.[0]??document}_x({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=Hi("internal-error");c.customData=o,t(c)},s.type="text/javascript",s.charset="UTF-8",n4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WD("Browser");var i4="firebase",r4="12.7.0";En(i4,r4,"app");var $E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Es,zb;(function(){var i;function e(N,A){function C(){}C.prototype=A.prototype,N.F=A.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,M,q){for(var D=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)D[ot-2]=arguments[ot];return A.prototype[M].apply(V,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)V[M]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(M=0;M<16;++M)V[M]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=N.g[0],C=N.g[1],M=N.g[2];let q=N.g[3],D;D=A+(q^C&(M^q))+V[0]+3614090360&4294967295,A=C+(D<<7&4294967295|D>>>25),D=q+(M^A&(C^M))+V[1]+3905402710&4294967295,q=A+(D<<12&4294967295|D>>>20),D=M+(C^q&(A^C))+V[2]+606105819&4294967295,M=q+(D<<17&4294967295|D>>>15),D=C+(A^M&(q^A))+V[3]+3250441966&4294967295,C=M+(D<<22&4294967295|D>>>10),D=A+(q^C&(M^q))+V[4]+4118548399&4294967295,A=C+(D<<7&4294967295|D>>>25),D=q+(M^A&(C^M))+V[5]+1200080426&4294967295,q=A+(D<<12&4294967295|D>>>20),D=M+(C^q&(A^C))+V[6]+2821735955&4294967295,M=q+(D<<17&4294967295|D>>>15),D=C+(A^M&(q^A))+V[7]+4249261313&4294967295,C=M+(D<<22&4294967295|D>>>10),D=A+(q^C&(M^q))+V[8]+1770035416&4294967295,A=C+(D<<7&4294967295|D>>>25),D=q+(M^A&(C^M))+V[9]+2336552879&4294967295,q=A+(D<<12&4294967295|D>>>20),D=M+(C^q&(A^C))+V[10]+4294925233&4294967295,M=q+(D<<17&4294967295|D>>>15),D=C+(A^M&(q^A))+V[11]+2304563134&4294967295,C=M+(D<<22&4294967295|D>>>10),D=A+(q^C&(M^q))+V[12]+1804603682&4294967295,A=C+(D<<7&4294967295|D>>>25),D=q+(M^A&(C^M))+V[13]+4254626195&4294967295,q=A+(D<<12&4294967295|D>>>20),D=M+(C^q&(A^C))+V[14]+2792965006&4294967295,M=q+(D<<17&4294967295|D>>>15),D=C+(A^M&(q^A))+V[15]+1236535329&4294967295,C=M+(D<<22&4294967295|D>>>10),D=A+(M^q&(C^M))+V[1]+4129170786&4294967295,A=C+(D<<5&4294967295|D>>>27),D=q+(C^M&(A^C))+V[6]+3225465664&4294967295,q=A+(D<<9&4294967295|D>>>23),D=M+(A^C&(q^A))+V[11]+643717713&4294967295,M=q+(D<<14&4294967295|D>>>18),D=C+(q^A&(M^q))+V[0]+3921069994&4294967295,C=M+(D<<20&4294967295|D>>>12),D=A+(M^q&(C^M))+V[5]+3593408605&4294967295,A=C+(D<<5&4294967295|D>>>27),D=q+(C^M&(A^C))+V[10]+38016083&4294967295,q=A+(D<<9&4294967295|D>>>23),D=M+(A^C&(q^A))+V[15]+3634488961&4294967295,M=q+(D<<14&4294967295|D>>>18),D=C+(q^A&(M^q))+V[4]+3889429448&4294967295,C=M+(D<<20&4294967295|D>>>12),D=A+(M^q&(C^M))+V[9]+568446438&4294967295,A=C+(D<<5&4294967295|D>>>27),D=q+(C^M&(A^C))+V[14]+3275163606&4294967295,q=A+(D<<9&4294967295|D>>>23),D=M+(A^C&(q^A))+V[3]+4107603335&4294967295,M=q+(D<<14&4294967295|D>>>18),D=C+(q^A&(M^q))+V[8]+1163531501&4294967295,C=M+(D<<20&4294967295|D>>>12),D=A+(M^q&(C^M))+V[13]+2850285829&4294967295,A=C+(D<<5&4294967295|D>>>27),D=q+(C^M&(A^C))+V[2]+4243563512&4294967295,q=A+(D<<9&4294967295|D>>>23),D=M+(A^C&(q^A))+V[7]+1735328473&4294967295,M=q+(D<<14&4294967295|D>>>18),D=C+(q^A&(M^q))+V[12]+2368359562&4294967295,C=M+(D<<20&4294967295|D>>>12),D=A+(C^M^q)+V[5]+4294588738&4294967295,A=C+(D<<4&4294967295|D>>>28),D=q+(A^C^M)+V[8]+2272392833&4294967295,q=A+(D<<11&4294967295|D>>>21),D=M+(q^A^C)+V[11]+1839030562&4294967295,M=q+(D<<16&4294967295|D>>>16),D=C+(M^q^A)+V[14]+4259657740&4294967295,C=M+(D<<23&4294967295|D>>>9),D=A+(C^M^q)+V[1]+2763975236&4294967295,A=C+(D<<4&4294967295|D>>>28),D=q+(A^C^M)+V[4]+1272893353&4294967295,q=A+(D<<11&4294967295|D>>>21),D=M+(q^A^C)+V[7]+4139469664&4294967295,M=q+(D<<16&4294967295|D>>>16),D=C+(M^q^A)+V[10]+3200236656&4294967295,C=M+(D<<23&4294967295|D>>>9),D=A+(C^M^q)+V[13]+681279174&4294967295,A=C+(D<<4&4294967295|D>>>28),D=q+(A^C^M)+V[0]+3936430074&4294967295,q=A+(D<<11&4294967295|D>>>21),D=M+(q^A^C)+V[3]+3572445317&4294967295,M=q+(D<<16&4294967295|D>>>16),D=C+(M^q^A)+V[6]+76029189&4294967295,C=M+(D<<23&4294967295|D>>>9),D=A+(C^M^q)+V[9]+3654602809&4294967295,A=C+(D<<4&4294967295|D>>>28),D=q+(A^C^M)+V[12]+3873151461&4294967295,q=A+(D<<11&4294967295|D>>>21),D=M+(q^A^C)+V[15]+530742520&4294967295,M=q+(D<<16&4294967295|D>>>16),D=C+(M^q^A)+V[2]+3299628645&4294967295,C=M+(D<<23&4294967295|D>>>9),D=A+(M^(C|~q))+V[0]+4096336452&4294967295,A=C+(D<<6&4294967295|D>>>26),D=q+(C^(A|~M))+V[7]+1126891415&4294967295,q=A+(D<<10&4294967295|D>>>22),D=M+(A^(q|~C))+V[14]+2878612391&4294967295,M=q+(D<<15&4294967295|D>>>17),D=C+(q^(M|~A))+V[5]+4237533241&4294967295,C=M+(D<<21&4294967295|D>>>11),D=A+(M^(C|~q))+V[12]+1700485571&4294967295,A=C+(D<<6&4294967295|D>>>26),D=q+(C^(A|~M))+V[3]+2399980690&4294967295,q=A+(D<<10&4294967295|D>>>22),D=M+(A^(q|~C))+V[10]+4293915773&4294967295,M=q+(D<<15&4294967295|D>>>17),D=C+(q^(M|~A))+V[1]+2240044497&4294967295,C=M+(D<<21&4294967295|D>>>11),D=A+(M^(C|~q))+V[8]+1873313359&4294967295,A=C+(D<<6&4294967295|D>>>26),D=q+(C^(A|~M))+V[15]+4264355552&4294967295,q=A+(D<<10&4294967295|D>>>22),D=M+(A^(q|~C))+V[6]+2734768916&4294967295,M=q+(D<<15&4294967295|D>>>17),D=C+(q^(M|~A))+V[13]+1309151649&4294967295,C=M+(D<<21&4294967295|D>>>11),D=A+(M^(C|~q))+V[4]+4149444226&4294967295,A=C+(D<<6&4294967295|D>>>26),D=q+(C^(A|~M))+V[11]+3174756917&4294967295,q=A+(D<<10&4294967295|D>>>22),D=M+(A^(q|~C))+V[2]+718787259&4294967295,M=q+(D<<15&4294967295|D>>>17),D=C+(q^(M|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+q&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const C=A-this.blockSize,V=this.C;let M=this.h,q=0;for(;q<A;){if(M==0)for(;q<=C;)o(this,N,q),q+=this.blockSize;if(typeof N=="string"){for(;q<A;)if(V[M++]=N.charCodeAt(q++),M==this.blockSize){o(this,V),M=0;break}}else for(;q<A;)if(V[M++]=N[q++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[A++]=this.g[C]>>>V&255;return N};function c(N,A){var C=m;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=A(N)}function u(N,A){this.h=A;const C=[];let V=!0;for(let M=N.length-1;M>=0;M--){const q=N[M]|0;V&&q==A||(C[M]=q,V=!1)}this.g=C}var m={};function p(N){return-128<=N&&N<128?c(N,function(A){return new u([A|0],A<0?-1:0)}):new u([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return k(g(-N));const A=[];let C=1;for(let V=0;N>=C;V++)A[V]=N/C|0,C*=4294967296;return new u(A,0)}function v(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return k(v(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(A,8));let V=b;for(let q=0;q<N.length;q+=8){var M=Math.min(8,N.length-q);const D=parseInt(N.substring(q,q+M),A);M<8?(M=g(Math.pow(A,M)),V=V.j(M).add(g(D))):(V=V.j(C),V=V.add(g(D)))}return V}var b=p(0),w=p(1),x=p(16777216);i=u.prototype,i.m=function(){if(U(this))return-k(this).m();let N=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(U(this))return"-"+k(this).toString(N);const A=g(Math.pow(N,6));var C=this;let V="";for(;;){const M=re(C,A).g;C=F(C,M.j(A));let q=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=M,j(C))return q+V;for(;q.length<6;)q="0"+q;V=q+V}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function U(N){return N.h==-1}i.l=function(N){return N=F(this,N),U(N)?-1:j(N)?0:1};function k(N){const A=N.g.length,C=[];for(let V=0;V<A;V++)C[V]=~N.g[V];return new u(C,~N.h).add(w)}i.abs=function(){return U(this)?k(this):this},i.add=function(N){const A=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let M=0;M<=A;M++){let q=V+(this.i(M)&65535)+(N.i(M)&65535),D=(q>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);V=D>>>16,q&=65535,D&=65535,C[M]=D<<16|q}return new u(C,C[C.length-1]&-2147483648?-1:0)};function F(N,A){return N.add(k(A))}i.j=function(N){if(j(this)||j(N))return b;if(U(this))return U(N)?k(this).j(k(N)):k(k(this).j(N));if(U(N))return k(this.j(k(N)));if(this.l(x)<0&&N.l(x)<0)return g(this.m()*N.m());const A=this.g.length+N.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<N.g.length;M++){const q=this.i(V)>>>16,D=this.i(V)&65535,ot=N.i(M)>>>16,Mt=N.i(M)&65535;C[2*V+2*M]+=D*Mt,W(C,2*V+2*M),C[2*V+2*M+1]+=q*Mt,W(C,2*V+2*M+1),C[2*V+2*M+1]+=D*ot,W(C,2*V+2*M+1),C[2*V+2*M+2]+=q*ot,W(C,2*V+2*M+2)}for(N=0;N<A;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=A;N<2*A;N++)C[N]=0;return new u(C,0)};function W(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function z(N,A){this.g=N,this.h=A}function re(N,A){if(j(A))throw Error("division by zero");if(j(N))return new z(b,b);if(U(N))return A=re(k(N),A),new z(k(A.g),k(A.h));if(U(A))return A=re(N,k(A)),new z(k(A.g),A.h);if(N.g.length>30){if(U(N)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var C=w,V=A;V.l(N)<=0;)C=oe(C),V=oe(V);var M=ue(C,1),q=ue(V,1);for(V=ue(V,2),C=ue(C,2);!j(V);){var D=q.add(V);D.l(N)<=0&&(M=M.add(C),q=D),V=ue(V,1),C=ue(C,1)}return A=F(N,M.j(A)),new z(M,A)}for(M=b;N.l(A)>=0;){for(C=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),q=g(C),D=q.j(A);U(D)||D.l(N)>0;)C-=V,q=g(C),D=q.j(A);j(q)&&(q=w),M=M.add(q),N=F(N,D)}return new z(M,N)}i.B=function(N){return re(this,N).h},i.and=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&N.i(V);return new u(C,this.h&N.h)},i.or=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|N.i(V);return new u(C,this.h|N.h)},i.xor=function(N){const A=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^N.i(V);return new u(C,this.h^N.h)};function oe(N){const A=N.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new u(C,N.h)}function ue(N,A){const C=A>>5;A%=32;const V=N.g.length-C,M=[];for(let q=0;q<V;q++)M[q]=A>0?N.i(q+C)>>>A|N.i(q+C+1)<<32-A:N.i(q+C);return new u(M,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,zb=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=v,Es=u}).apply(typeof $E<"u"?$E:typeof self<"u"?self:typeof window<"u"?window:{});var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Bb,uc,qb,Qh,Yp,Fb,Hb,Gb;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oh=="object"&&Oh];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=t(this);function o(h,y){if(y)e:{var T=s;h=h.split(".");for(var R=0;R<h.length-1;R++){var H=h[R];if(!(H in T))break e;T=T[H]}h=h[h.length-1],R=T[h],y=y(R),y!=R&&y!=null&&e(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],R;for(R in y)Object.prototype.hasOwnProperty.call(y,R)&&T.push([R,y[R]]);return T}});var c=c||{},u=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function b(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(R,H,Q){for(var ae=Array(arguments.length-2),we=2;we<arguments.length;we++)ae[we-2]=arguments[we];return y.prototype[H].apply(R,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const y=h.length;if(y>0){const T=Array(y);for(let R=0;R<y;R++)T[R]=h[R];return T}return[]}function j(h,y){for(let R=1;R<arguments.length;R++){const H=arguments[R];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=h.length||0;const Q=H.length||0;h.length=T+Q;for(let ae=0;ae<Q;ae++)h[T+ae]=H[ae]}else h.push(H)}}class U{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(h){u.setTimeout(()=>{throw h},0)}function F(){var h=N;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,T){const R=z.get();R.set(y,T),this.h?this.h.next=R:this.g=R,this.h=R}}var z=new U(()=>new re,h=>h.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ue=!1,N=new W,A=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(C)}};function C(){for(var h;h=F();){try{h.h.call(h.g)}catch(T){k(T)}var y=z;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ue=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,y),u.removeEventListener("test",T,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function ot(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}b(ot,M),ot.prototype.init=function(h,y){const T=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Mt="closure_listenable_"+(Math.random()*1e6|0),Z=0;function le(h,y,T,R,H){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!R,this.ha=H,this.key=++Z,this.da=this.fa=!1}function ye(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Be(h,y,T){for(const R in h)y.call(T,h[R],R,h)}function $e(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function L(h){const y={};for(const T in h)y[T]=h[T];return y}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(h,y){let T,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(T in R)h[T]=R[T];for(let Q=0;Q<ne.length;Q++)T=ne[Q],Object.prototype.hasOwnProperty.call(R,T)&&(h[T]=R[T])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,y,T,R,H){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ae=Ce(h,y,R,H);return ae>-1?(y=h[ae],T||(y.fa=!1)):(y=new le(y,this.src,Q,!!R,H),y.fa=T,h.push(y)),y};function be(h,y){const T=y.type;if(T in h.g){var R=h.g[T],H=Array.prototype.indexOf.call(R,y,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(R,H,1),Q&&(ye(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Ce(h,y,T,R){for(let H=0;H<h.length;++H){const Q=h[H];if(!Q.da&&Q.listener==y&&Q.capture==!!T&&Q.ha==R)return H}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Vt={};function lt(h,y,T,R,H){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)lt(h,y[Q],T,R,H);return null}return T=il(T),h&&h[Mt]?h.J(y,T,m(R)?!!R.capture:!1,H):ks(h,y,T,!1,R,H)}function ks(h,y,T,R,H,Q){if(!y)throw Error("Invalid event type");const ae=m(H)?!!H.capture:!!H;let we=Ps(h);if(we||(h[Le]=we=new fe(h)),T=we.add(y,T,R,ae,Q),T.proxy)return T;if(R=Ma(),T.proxy=R,R.src=h,R.listener=T,h.addEventListener)q||(H=ae),H===void 0&&(H=!1),h.addEventListener(y.toString(),R,H);else if(h.attachEvent)h.attachEvent(Ei(y.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ma(){function h(T){return y.call(h.src,h.listener,T)}const y=tl;return h}function Va(h,y,T,R,H){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Va(h,y[Q],T,R,H);else R=m(R)?!!R.capture:!!R,T=il(T),h&&h[Mt]?(h=h.i,Q=String(y).toString(),Q in h.g&&(y=h.g[Q],T=Ce(y,T,R,H),T>-1&&(ye(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Ps(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ce(y,T,R,H)),(T=h>-1?y[h]:null)&&ka(T))}function ka(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Mt])be(y.i,h);else{var T=h.type,R=h.proxy;y.removeEventListener?y.removeEventListener(T,R,h.capture):y.detachEvent?y.detachEvent(Ei(T),R):y.addListener&&y.removeListener&&y.removeListener(R),(T=Ps(y))?(be(T,h),T.h==0&&(T.src=null,y[Le]=null)):ye(h)}}}function Ei(h){return h in Vt?Vt[h]:Vt[h]="on"+h}function tl(h,y){if(h.da)h=!0;else{y=new ot(y,this);const T=h.listener,R=h.ha||h.src;h.fa&&ka(h),h=T.call(R,y)}return h}function Ps(h){return h=h[Le],h instanceof fe?h:null}var nl="__closure_events_fn_"+(Math.random()*1e9>>>0);function il(h){return typeof h=="function"?h:(h[nl]||(h[nl]=function(y){return h.handleEvent(y)}),h[nl])}function Tt(){V.call(this),this.i=new fe(this),this.M=this,this.G=null}b(Tt,V),Tt.prototype[Mt]=!0,Tt.prototype.removeEventListener=function(h,y,T,R){Va(this,h,y,T,R)};function kt(h,y){var T,R=h.G;if(R)for(T=[];R;R=R.G)T.push(R);if(h=h.M,R=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var H=y;y=new M(R,h),ce(y,H)}H=!0;let Q,ae;if(T)for(ae=T.length-1;ae>=0;ae--)Q=y.g=T[ae],H=Dr(Q,R,!0,y)&&H;if(Q=y.g=h,H=Dr(Q,R,!0,y)&&H,H=Dr(Q,R,!1,y)&&H,T)for(ae=0;ae<T.length;ae++)Q=y.g=T[ae],H=Dr(Q,R,!1,y)&&H}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let R=0;R<T.length;R++)ye(T[R]);delete h.g[y],h.h--}}this.G=null},Tt.prototype.J=function(h,y,T,R){return this.i.add(String(h),y,!1,T,R)},Tt.prototype.K=function(h,y,T,R){return this.i.add(String(h),y,!0,T,R)};function Dr(h,y,T,R){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let H=!0;for(let Q=0;Q<y.length;++Q){const ae=y[Q];if(ae&&!ae.da&&ae.capture==T){const we=ae.listener,yt=ae.ha||ae.src;ae.fa&&be(h.i,ae),H=we.call(yt,R)!==!1&&H}}return H&&!R.defaultPrevented}function fd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(h,y||0)}function eu(h){h.g=fd(()=>{h.g=null,h.i&&(h.i=!1,eu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class an extends V{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(h){V.call(this),this.h=h,this.g={}}b(Ls,V);var rl=[];function sl(h){Be(h.g,function(y,T){this.g.hasOwnProperty(T)&&ka(y)},h),h.g={}}Ls.prototype.N=function(){Ls.Z.N.call(this),sl(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Or=u.JSON.stringify,dd=u.JSON.parse,tu=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function nu(){}function iu(){}var ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){M.call(this,"d")}b(Ht,M);function jn(){M.call(this,"c")}b(jn,M);var gt={},ru=null;function Pa(){return ru=ru||new Tt}gt.Ia="serverreachability";function su(h){M.call(this,gt.Ia,h)}b(su,M);function Ti(h){const y=Pa();kt(y,new su(y))}gt.STAT_EVENT="statevent";function js(h,y){M.call(this,gt.STAT_EVENT,h),this.stat=y}b(js,M);function bt(h){const y=Pa();kt(y,new js(y,h))}gt.Ja="timingevent";function bi(h,y){M.call(this,gt.Ja,h),this.size=y}b(bi,M);function Ai(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},y)}function ii(){this.g=!0}ii.prototype.ua=function(){this.g=!1};function md(h,y,T,R,H,Q){h.info(function(){if(h.g)if(Q){var ae="",we=Q.split("&");for(let He=0;He<we.length;He++){var yt=we[He].split("=");if(yt.length>1){const ct=yt[0];yt=yt[1];const qn=ct.split("_");ae=qn.length>=2&&qn[1]=="type"?ae+(ct+"="+yt+"&"):ae+(ct+"=redacted&")}}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+y+`
`+T+`
`+ae})}function au(h,y,T,R,H,Q,ae){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+y+`
`+T+`
`+Q+" "+ae})}function Si(h,y,T,R){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+pd(h,T)+(R?" "+R:"")})}function Us(h,y){h.info(function(){return"TIMEOUT: "+y})}ii.prototype.info=function(){};function pd(h,y){if(!h.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var T=Q[h];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var H=R[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ae=1;ae<R.length;ae++)R[ae]=""}}}}return Or(Q)}catch{return y}}var zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ol;function Bs(){}b(Bs,nu),Bs.prototype.g=function(){return new XMLHttpRequest},ol=new Bs;function tr(h){return encodeURIComponent(String(h))}function ou(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function ri(h,y,T,R){this.j=h,this.i=y,this.l=T,this.S=R||1,this.V=new Ls(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var At={},Ut={};function wi(h,y,T){h.M=1,h.A=qs(wt(y)),h.u=T,h.R=!0,La(h,null)}function La(h,y){h.F=Date.now(),Ri(h),h.B=wt(h.A);var T=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Ba(T.i,"t",R),h.C=0,T=h.j.L,h.h=new si,h.g=bu(h.j,T?y:null,!h.u),h.P>0&&(h.O=new an(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,R=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(rl[0]=H.toString()),H=rl);for(let Q=0;Q<H.length;Q++){const ae=lt(T,H[Q],R||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Ti(),md(h.i,h.v,h.B,h.l,h.S,h.u)}ri.prototype.ba=function(h){h=h.target;const y=this.O;y&&li(h)==3?y.j():this.Y(h)},ri.prototype.Y=function(h){try{if(h==this.g)e:{const we=li(this.g),yt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||we!=4||yt==7||(yt==8||He<=0?Ti(3):Ti(2)),Ci(this);var y=this.g.ca();this.X=y;var T=gd(this);if(this.o=y==200,au(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var R,H=this.g;if((R=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(R)){var Q=R;break t}}Q=null}if(h=Q)Si(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,h);else{this.o=!1,this.m=3,bt(12),bn(this),Un(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<T.length;)if(ct=cu(this,T),ct==Ut){we==4&&(this.m=4,bt(14),h=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==At){this.m=4,bt(15),Si(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Si(this.i,this.l,ct,null),Ii(this,ct);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||T.length!=0||this.h.h||(this.m=1,bt(16),h=!1),this.o=this.o&&h,!h)Si(this.i,this.l,T,"[Invalid Chunked Response]"),bn(this),Un(this);else if(T.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),bl(ae),ae.P=!0,bt(11))}}else Si(this.i,this.l,T,null),Ii(this,T);we==4&&bn(this),this.o&&!this.K&&(we==4?_u(this.j,this):(this.o=!1,Ri(this)))}else ir(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),bn(this),Un(this)}}}catch{}};function gd(h){if(!lu(h))return h.g.la();const y=Gt(h.g);if(y==="")return"";let T="";const R=y.length,H=li(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),Un(h),"";h.h.i=new u.TextDecoder}for(let Q=0;Q<R;Q++)h.h.h=!0,T+=h.h.i.decode(y[Q],{stream:!(H&&Q==R-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function lu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function cu(h,y){var T=h.C,R=y.indexOf(`
`,T);return R==-1?Ut:(T=Number(y.substring(T,R)),isNaN(T)?At:(R+=1,R+T>y.length?Ut:(y=y.slice(R,R+T),h.C=R+T,y)))}ri.prototype.cancel=function(){this.K=!0,bn(this)};function Ri(h){h.T=Date.now()+h.H,ja(h,h.H)}function ja(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ai(g(h.aa,h),y)}function Ci(h){h.D&&(u.clearTimeout(h.D),h.D=null)}ri.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Us(this.i,this.B),this.M!=2&&(Ti(),bt(17)),bn(this),this.m=2,Un(this)):ja(this,this.T-h)};function Un(h){h.j.I==0||h.K||_u(h.j,h)}function bn(h){Ci(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,sl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ii(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||xi(T.h,h))){if(!h.L&&xi(T.h,h)&&T.I==3){try{var R=T.Ba.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)$a(T),zr(T);else break e;Ys(T),bt(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ai(g(T.Va,T),6e3));Ni(T.h)<=1&&T.ta&&(T.ta=void 0)}else Pi(T,11)}else if((h.L||T.g==h)&&$a(T),!D(y))for(H=T.Ba.g.parse(y),y=0;y<H.length;y++){let He=H[y];const ct=He[0];if(!(ct<=T.K))if(T.K=ct,He=He[1],T.I==2)if(He[0]=="c"){T.M=He[1],T.ba=He[2];const qn=He[3];qn!=null&&(T.ka=qn,T.j.info("VER="+T.ka));const Li=He[4];Li!=null&&(T.za=Li,T.j.info("SVER="+T.za));const ci=He[5];ci!=null&&typeof ci=="number"&&ci>0&&(R=1.5*ci,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const ui=h.g;if(ui){const Xs=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xs){var Q=R.h;Q.g||Xs.indexOf("spdy")==-1&&Xs.indexOf("quic")==-1&&Xs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ul(Q,Q.h),Q.h=null))}if(R.G){const Ka=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(R.wa=Ka,Ke(R.J,R.G,Ka))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var ae=h;if(R.na=Tu(R,R.L?R.ba:null,R.W),ae.L){hl(R.h,ae);var we=ae,yt=R.O;yt&&(we.H=yt),we.D&&(Ci(we),Ri(we)),R.g=ae}else gu(R);T.i.length>0&&ki(T)}else He[0]!="stop"&&He[0]!="close"||Pi(T,7);else T.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Pi(T,7):El(T):He[0]!="noop"&&T.l&&T.l.qa(He),T.A=0)}}Ti(4)}catch{}}var St=class{constructor(h,y){this.g=h,this.map=y}};function ll(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ni(h){return h.h?1:h.g?h.g.size:0}function xi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function ul(h,y){h.g?h.g.add(y):h.h=y}function hl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ll.prototype.cancel=function(){if(this.i=fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function fl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return x(h.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const R=h[T].indexOf("=");let H,Q=null;R>=0?(H=h[T].substring(0,R),Q=h[T].substring(R+1)):H=h[T],y(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof An?(this.l=h.l,zt(this,h.j),this.o=h.o,this.g=h.g,Mr(this,h.u),this.h=h.h,dl(this,mu(h.i)),this.m=h.m):h&&(y=String(h).match(uu))?(this.l=!1,zt(this,y[1]||"",!0),this.o=Di(y[2]||""),this.g=Di(y[3]||"",!0),Mr(this,y[4]),this.h=Di(y[5]||"",!0),dl(this,y[6]||"",!0),this.m=Di(y[7]||"")):(this.l=!1,this.i=new kr(null,this.l))}An.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Fs(y,za,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Fs(y,za,!0),"@"),h.push(tr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Fs(T,T.charAt(0)=="/"?ml:hu,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Fs(T,fu)),h.join("")},An.prototype.resolve=function(h){const y=wt(this);let T=!!h.j;T?zt(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var R=h.h;if(T)Mr(y,h.u);else if(T=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var H=y.h.lastIndexOf("/");H!=-1&&(R=y.h.slice(0,H+1)+R)}if(H=R,H==".."||H==".")R="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){R=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let ae=0;ae<H.length;){const we=H[ae++];we=="."?R&&ae==H.length&&Q.push(""):we==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),R&&ae==H.length&&Q.push("")):(Q.push(we),R=!0)}R=Q.join("/")}else R=H}return T?y.h=R:T=h.i.toString()!=="",T?dl(y,mu(h.i)):T=!!h.m,T&&(y.m=h.m),y};function wt(h){return new An(h)}function zt(h,y,T){h.j=T?Di(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Mr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function dl(h,y,T){y instanceof kr?(h.i=y,qa(h.i,h.l)):(T||(y=Fs(y,Vr)),h.i=new kr(y,h.l))}function Ke(h,y,T){h.i.set(y,T)}function qs(h){return Ke(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Di(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Fs(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,fn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var za=/[#\/\?@]/g,hu=/[#\?:]/g,ml=/[#\?]/g,Vr=/[#\?@]/g,fu=/#/g;function kr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ua(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}i=kr.prototype,i.add=function(h,y){dn(this),this.i=null,h=Pr(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function du(h,y){dn(h),y=Pr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function pl(h,y){return dn(h),y=Pr(h,y),h.g.has(y)}i.forEach=function(h,y){dn(this),this.g.forEach(function(T,R){T.forEach(function(H){h.call(y,H,R,this)},this)},this)};function gl(h,y){dn(h);let T=[];if(typeof y=="string")pl(h,y)&&(T=T.concat(h.g.get(Pr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}i.set=function(h,y){return dn(this),this.i=null,h=Pr(this,h),pl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=gl(this,h),h.length>0?String(h[0]):y):y};function Ba(h,y,T){du(h,y),T.length>0&&(h.i=null,h.g.set(Pr(h,y),x(T)),h.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let R=0;R<y.length;R++){var T=y[R];const H=tr(T);T=gl(this,T);for(let Q=0;Q<T.length;Q++){let ae=H;T[Q]!==""&&(ae+="="+tr(T[Q])),h.push(ae)}}return this.i=h.join("&")};function mu(h){const y=new kr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Pr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function qa(h,y){y&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(T,R){const H=R.toLowerCase();R!=H&&(du(this,R),Ba(this,H,T))},h)),h.j=y}function ai(h,y){const T=new ii;if(u.Image){const R=new Image;R.onload=v(zn,T,"TestLoadImage: loaded",!0,y,R),R.onerror=v(zn,T,"TestLoadImage: error",!1,y,R),R.onabort=v(zn,T,"TestLoadImage: abort",!1,y,R),R.ontimeout=v(zn,T,"TestLoadImage: timeout",!1,y,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else y(!1)}function yl(h,y){const T=new ii,R=new AbortController,H=setTimeout(()=>{R.abort(),zn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:R.signal}).then(Q=>{clearTimeout(H),Q.ok?zn(T,"TestPingServer: ok",!0,y):zn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),zn(T,"TestPingServer: error",!1,y)})}function zn(h,y,T,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(T)}catch{}}function Lr(){this.g=new tu}function Oi(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Oi,nu),Oi.prototype.g=function(){return new Hs(this.i,this.h)};function Hs(h,y){Tt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Hs,Tt),i=Hs.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,oi(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?jr(this):oi(this),this.readyState==3&&Fa(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,jr(this))},i.Na=function(h){this.g&&(this.response=h,jr(this))},i.ga=function(){this.g&&jr(this)};function jr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,oi(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function oi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Bn(h){let y="";return Be(h,function(T,R){y+=R,y+=":",y+=T,y+=`\r
`}),y}function Gs(h,y,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Bn(T),typeof h=="string"?T!=null&&tr(T):Ke(h,y,T))}function Je(h){Tt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Je,Tt);var Mi=/^https?$/i,_l=["POST","PUT"];i=Je.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ol.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Q){$s(this,Q);return}if(h=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)T.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())T.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(_l,y,void 0)>=0)||R||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of T)this.g.setRequestHeader(Q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){$s(this,Q)}};function $s(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,vl(h),nr(h)}function vl(h){h.A||(h.A=!0,kt(h,"complete"),kt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,kt(this,"complete"),kt(this,"abort"),nr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Ks(this):this.Xa())},i.Xa=function(){Ks(this)};function Ks(h){if(h.h&&typeof c<"u"){if(h.v&&li(h)==4)setTimeout(h.Ca.bind(h),0);else if(kt(h,"readystatechange"),li(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var R;if(R=Q===0){let ae=String(h.D).match(uu)[1]||null;!ae&&u.self&&u.self.location&&(ae=u.self.location.protocol.slice(0,-1)),R=!Mi.test(ae?ae.toLowerCase():"")}T=R}if(T)kt(h,"complete"),kt(h,"success");else{h.o=6;try{var H=li(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",vl(h)}}finally{nr(h)}}}}function nr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||kt(h,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function li(h){return h.g?h.g.readyState:0}i.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),dd(y)}};function Gt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ir(h){const y={};h=(h.g&&li(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(D(h[R]))continue;var T=ou(h[R]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=y[H]||[];y[H]=Q,Q.push(T)}$e(y,function(R){return R.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function Ur(h){this.za=0,this.i=[],this.j=new ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,h),this.Za=Vi("retryDelaySeedMs",1e4,h),this.Ta=Vi("forwardChannelMaxRetries",2,h),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ll(h&&h.concurrentRequestLimit),this.Ba=new Lr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Ur.prototype,i.ka=8,i.I=1,i.connect=function(h,y,T,R){bt(0),this.W=h,this.H=y||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=Tu(this,null,this.W),ki(this)};function El(h){if(Ha(h),h.I==3){var y=h.V++,T=wt(h.J);if(Ke(T,"SID",h.M),Ke(T,"RID",y),Ke(T,"TYPE","terminate"),Qs(h,T),y=new ri(h,h.j,y),y.M=2,y.A=qs(wt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=y.A,T=!0),T||(y.g=bu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ri(y)}Eu(h)}function zr(h){h.g&&(bl(h),h.g.cancel(),h.g=null)}function Ha(h){zr(h),h.v&&(u.clearTimeout(h.v),h.v=null),$a(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function ki(h){if(!cl(h.h)&&!h.m){h.m=!0;var y=h.Ea;oe||A(),ue||(oe(),ue=!0),N.add(y,h),h.D=0}}function Ga(h,y){return Ni(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ai(g(h.Ea,h,y),vu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new ri(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=L(Q),ce(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=pu(this,H,y),T=wt(this.J),Ke(T,"RID",h),Ke(T,"CVER",22),this.G&&Ke(T,"X-HTTP-Session-Id",this.G),Qs(this,T),Q&&(this.R?y="headers="+tr(Bn(Q))+"&"+y:this.u&&Gs(T,this.u,Q)),ul(this.h,H),this.Ra&&Ke(T,"TYPE","init"),this.S?(Ke(T,"$req",y),Ke(T,"SID","null"),H.U=!0,wi(H,T,null)):wi(H,T,y),this.I=2}}else this.I==3&&(h?Tl(this,h):this.i.length==0||cl(this.h)||Tl(this))};function Tl(h,y){var T;y?T=y.l:T=h.V++;const R=wt(h.J);Ke(R,"SID",h.M),Ke(R,"RID",T),Ke(R,"AID",h.K),Qs(h,R),h.u&&h.o&&Gs(R,h.u,h.o),T=new ri(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=pu(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ul(h.h,T),wi(T,R,y)}function Qs(h,y){h.H&&Be(h.H,function(T,R){Ke(y,R,T)}),h.l&&Be({},function(T,R){Ke(y,R,T)})}function pu(h,y,T){T=Math.min(h.i.length,T);const R=h.l?g(h.l.Ka,h.l,h):null;e:{var H=h.i;let we=-1;for(;;){const yt=["count="+T];we==-1?T>0?(we=H[0].g,yt.push("ofs="+we)):we=0:yt.push("ofs="+we);let He=!0;for(let ct=0;ct<T;ct++){var Q=H[ct].g;const qn=H[ct].map;if(Q-=we,Q<0)we=Math.max(0,H[ct].g-100),He=!1;else try{Q="req"+Q+"_"||"";try{var ae=qn instanceof Map?qn:Object.entries(qn);for(const[Li,ci]of ae){let ui=ci;m(ci)&&(ui=Or(ci)),yt.push(Q+Li+"="+encodeURIComponent(ui))}}catch(Li){throw yt.push(Q+"type="+encodeURIComponent("_badmap")),Li}}catch{R&&R(qn)}}if(He){ae=yt.join("&");break e}}ae=void 0}return h=h.i.splice(0,T),y.G=h,ae}function gu(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;oe||A(),ue||(oe(),ue=!0),N.add(y,h),h.A=0}}function Ys(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ai(g(h.Da,h),vu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ai(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),zr(this),yu(this))};function bl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function yu(h){h.g=new ri(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=wt(h.na);Ke(y,"RID","rpc"),Ke(y,"SID",h.M),Ke(y,"AID",h.K),Ke(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ke(y,"TO",h.ia),Ke(y,"TYPE","xmlhttp"),Qs(h,y),h.u&&h.o&&Gs(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=qs(wt(y)),T.u=null,T.R=!0,La(T,h)}i.Va=function(){this.C!=null&&(this.C=null,zr(this),Ys(this),bt(19))};function $a(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function _u(h,y){var T=null;if(h.g==y){$a(h),bl(h),h.g=null;var R=2}else if(xi(h.h,y))T=y.G,hl(h.h,y),R=1;else return;if(h.I!=0){if(y.o)if(R==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var H=h.D;R=Pa(),kt(R,new bi(R,T)),ki(h)}else gu(h);else if(H=y.m,H==3||H==0&&y.X>0||!(R==1&&Ga(h,y)||R==2&&Ys(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),H){case 1:Pi(h,5);break;case 4:Pi(h,10);break;case 3:Pi(h,6);break;default:Pi(h,2)}}}function vu(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Pi(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),R=h.Ua;const H=!R;R=new An(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||zt(R,"https"),qs(R),H?ai(R.toString(),T):yl(R.toString(),T)}else bt(2);h.I=0,h.l&&h.l.pa(y),Eu(h),Ha(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Eu(h){if(h.I=0,h.ja=[],h.l){const y=fl(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function Tu(h,y,T){var R=T instanceof An?wt(T):new An(T);if(R.g!="")y&&(R.g=y+"."+R.g),Mr(R,R.u);else{var H=u.location;R=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;const Q=new An(null);R&&zt(Q,R),y&&(Q.g=y),H&&Mr(Q,H),T&&(Q.h=T),R=Q}return T=h.G,y=h.wa,T&&y&&Ke(R,T,y),Ke(R,"VER",h.ka),Qs(h,R),R}function bu(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Je(new Oi({ab:T})):new Je(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}i=Au.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Br(){}Br.prototype.g=function(h,y){return new on(h,y)};function on(h,y){Tt.call(this),this.g=new Ur(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new rr(this)}b(on,Tt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){El(this.g)},on.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Or(h),h=T);y.i.push(new St(y.Ya++,h)),y.I==3&&ki(y)},on.prototype.N=function(){this.g.l=null,delete this.j,El(this.g),delete this.g,on.Z.N.call(this)};function Su(h){Ht.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const T in y){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}b(Su,Ht);function wu(){jn.call(this),this.status=1}b(wu,jn);function rr(h){this.g=h}b(rr,Au),rr.prototype.ra=function(){kt(this.g,"a")},rr.prototype.qa=function(h){kt(this.g,new Su(h))},rr.prototype.pa=function(h){kt(this.g,new wu)},rr.prototype.oa=function(){kt(this.g,"b")},Br.prototype.createWebChannel=Br.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Gb=function(){return new Br},Hb=function(){return Pa()},Fb=gt,Yp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Qh=zs,al.COMPLETE="complete",qb=al,iu.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,uc=iu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Bb=Je}).apply(typeof Oh<"u"?Oh:typeof self<"u"?self:typeof window<"u"?window:{});const KE="@firebase/firestore",QE="4.9.3";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let Wo="12.7.0";const va=new Pf("@firebase/firestore");function So(){return va.logLevel}function he(i,...e){if(va.logLevel<=Me.DEBUG){const t=e.map(Lg);va.debug(`Firestore (${Wo}): ${i}`,...t)}}function Ir(i,...e){if(va.logLevel<=Me.ERROR){const t=e.map(Lg);va.error(`Firestore (${Wo}): ${i}`,...t)}}function jo(i,...e){if(va.logLevel<=Me.WARN){const t=e.map(Lg);va.warn(`Firestore (${Wo}): ${i}`,...t)}}function Lg(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function _e(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,$b(i,s,t)}function $b(i,e,t){let s=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ir(s),new Error(s)}function ze(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||$b(e,o,s)}function Ae(i,e){return i}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $i{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Kb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(nn.UNAUTHENTICATED)))}shutdown(){}}class a4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class o4{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let c=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $i,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $i)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string",31837,{l:s}),new Kb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class l4{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class c4{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new l4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class YE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class u4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const s=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new YE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new YE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function h4(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class jg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=h4(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<t&&(s+=e.charAt(o[c]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Xp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return Rp(o)===Rp(c)?Ve(o,c):Rp(o)?1:-1}return Ve(i.length,e.length)}const f4=55296,d4=57343;function Rp(i){const e=i.charCodeAt(0);return e>=f4&&e<=d4}function Uo(i,e,t){return i.length===e.length&&i.every(((s,o)=>t(s,e[o])))}const XE="__name__";class qi{constructor(e,t,s){t===void 0?t=0:t>e.length&&_e(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&_e(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const c=qi.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Ve(e.length,t.length)}static compareSegments(e,t){const s=qi.isNumericId(e),o=qi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?qi.extractNumericId(e).compare(qi.extractNumericId(t)):Xp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class We extends qi{construct(e,t,s){return new We(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new We(t)}static emptyPath(){return new We([])}}const m4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends qi{construct(e,t,s){return new Wt(e,t,s)}static isValidIdentifier(e){return m4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===XE}static keyField(){return new Wt([XE])}static fromServerFormat(e){const t=[];let s="",o=0;const c=()=>{if(s.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new se(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new se(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(s+=m,o++):(c(),o++)}if(c(),u)throw new se(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(We.fromString(e))}static fromName(e){return new pe(We.fromString(e).popFirst(5))}static empty(){return new pe(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return We.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new We(e.slice()))}}function Qb(i,e,t){if(!t)throw new se(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function p4(i,e,t,s){if(e===!0&&s===!0)throw new se(X.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function WE(i){if(!pe.isDocumentKey(i))throw new se(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function JE(i){if(pe.isDocumentKey(i))throw new se(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Yb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function qf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":_e(12329,{type:typeof i})}function Vn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new se(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qf(i);throw new se(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function g4(i,e){if(e<=0)throw new se(X.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}function Ot(i,e){const t={typeString:i};return e&&(t.value=e),t}function qc(i,e){if(!Yb(i))throw new se(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const u=i[s];if(o&&typeof u!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){t=`Expected '${s}' field to equal '${c.value}'`;break}}if(t)throw new se(X.INVALID_ARGUMENT,t);return!0}const ZE=-62135596800,eT=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*eT);return new it(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new se(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ZE)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/eT}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qc(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ZE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Ot("string",it._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new it(0,0))}static max(){return new Ee(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wc=-1;function y4(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new it(t+1,0):new it(t,s));return new Ss(o,pe.empty(),e)}function _4(i){return new Ss(i.readTime,i.key,wc)}class Ss{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ss(Ee.min(),pe.empty(),wc)}static max(){return new Ss(Ee.max(),pe.empty(),wc)}}function v4(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(i.documentKey,e.documentKey),t!==0?t:Ve(i.largestBatchId,e.largestBatchId))}const E4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Jo(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==E4)throw i;he("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,s)=>{t(e)}))}static reject(e){return new ie(((t,s)=>{s(e)}))}static waitFor(e){return new ie(((t,s)=>{let o=0,c=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++c,u&&c===o&&t()}),(p=>s(p)))})),u=!0,c===o&&t()}))}static or(e){let t=ie.resolve(!1);for(const s of e)t=t.next((o=>o?ie.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,c)=>{s.push(t.call(this,o,c))})),this.waitFor(s)}static mapArray(e,t){return new ie(((s,o)=>{const c=e.length,u=new Array(c);let m=0;for(let p=0;p<c;p++){const g=p;t(e[g]).next((v=>{u[g]=v,++m,m===c&&s(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new ie(((s,o)=>{const c=()=>{e()===!0?t().next((()=>{c()}),o):s()};c()}))}}function b4(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zo(i){return i.name==="IndexedDbTransactionError"}class Ff{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ff.ce=-1;const Ug=-1;function Fc(i){return i==null}function df(i){return i===0&&1/i==-1/0}function A4(i){return typeof i=="number"&&Number.isInteger(i)&&!df(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Xb="";function S4(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=tT(e)),e=w4(i.get(t),e);return tT(e)}function w4(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":t+="";break;case Xb:t+="";break;default:t+=c}}return t}function tT(i){return i+Xb+""}function nT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ms(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Wb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class ft{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mh(this.root,e,this.comparator,!0)}}class Mh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,s,o,c){this.key=e,this.value=t,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=c??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,c){return new Xt(e??this.key,t??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,s),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,t,s,o,c){return this}insert(e,t,s){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iT(this.data.getIterator())}getIteratorFrom(e){return new iT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new jt(this.comparator);return t.data=e,t}}class iT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new jt(Wt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class Jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Jb("Invalid base64 string: "+c):c}})(e);return new Jt(t)}static fromUint8Array(e){const t=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const R4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(i){if(ze(!!i,39018),typeof i=="string"){let e=0;const t=R4.exec(i);if(ze(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Rs(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}const Zb="server_timestamp",eA="__type__",tA="__previous_value__",nA="__local_write_time__";function Hf(i){return(i?.mapValue?.fields||{})[eA]?.stringValue===Zb}function Gf(i){const e=i.mapValue.fields[tA];return Hf(e)?Gf(e):e}function Rc(i){const e=ws(i.mapValue.fields[nA].timestampValue);return new it(e.seconds,e.nanos)}class C4{constructor(e,t,s,o,c,u,m,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const mf="(default)";class Cc{constructor(e,t){this.projectId=e,this.database=t||mf}static empty(){return new Cc("","")}get isDefaultDatabase(){return this.database===mf}isEqual(e){return e instanceof Cc&&e.projectId===this.projectId&&e.database===this.database}}const iA="__type__",I4="__max__",Vh={mapValue:{}},rA="__vector__",pf="value";function Cs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Hf(i)?4:x4(i)?9007199254740991:N4(i)?10:11:_e(28295,{value:i})}function Xi(i,e){if(i===e)return!0;const t=Cs(i);if(t!==Cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Rc(i).isEqual(Rc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=ws(o.timestampValue),m=ws(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return Rs(o.bytesValue).isEqual(Rs(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Et(o.geoPointValue.latitude)===Et(c.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Et(o.integerValue)===Et(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Et(o.doubleValue),m=Et(c.doubleValue);return u===m?df(u)===df(m):isNaN(u)&&isNaN(m)}return!1})(i,e);case 9:return Uo(i.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},m=c.mapValue.fields||{};if(nT(u)!==nT(m))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(m[p]===void 0||!Xi(u[p],m[p])))return!1;return!0})(i,e);default:return _e(52216,{left:i})}}function Ic(i,e){return(i.values||[]).find((t=>Xi(t,e)))!==void 0}function zo(i,e){if(i===e)return 0;const t=Cs(i),s=Cs(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=Et(c.integerValue||c.doubleValue),p=Et(u.integerValue||u.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return rT(i.timestampValue,e.timestampValue);case 4:return rT(Rc(i),Rc(e));case 5:return Xp(i.stringValue,e.stringValue);case 6:return(function(c,u){const m=Rs(c),p=Rs(u);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),p=u.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ve(m[g],p[g]);if(v!==0)return v}return Ve(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=Ve(Et(c.latitude),Et(u.latitude));return m!==0?m:Ve(Et(c.longitude),Et(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return sT(i.arrayValue,e.arrayValue);case 10:return(function(c,u){const m=c.fields||{},p=u.fields||{},g=m[pf]?.arrayValue,v=p[pf]?.arrayValue,b=Ve(g?.values?.length||0,v?.values?.length||0);return b!==0?b:sT(g,v)})(i.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Vh.mapValue&&u===Vh.mapValue)return 0;if(c===Vh.mapValue)return 1;if(u===Vh.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),g=u.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const w=Xp(p[b],v[b]);if(w!==0)return w;const x=zo(m[p[b]],g[v[b]]);if(x!==0)return x}return Ve(p.length,v.length)})(i.mapValue,e.mapValue);default:throw _e(23264,{he:t})}}function rT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const t=ws(i),s=ws(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function sT(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const c=zo(t[o],s[o]);if(c)return c}return Ve(t.length,s.length)}function Bo(i){return Wp(i)}function Wp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=ws(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Rs(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return pe.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",o=!0;for(const c of t.values||[])o?o=!1:s+=",",s+=Wp(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${Wp(t.fields[u])}`;return o+"}"})(i.mapValue):_e(61005,{value:i})}function Yh(i){switch(Cs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gf(i);return e?16+Yh(e):16;case 5:return 2*i.stringValue.length;case 6:return Rs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Yh(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ms(s.fields,((c,u)=>{o+=c.length+Yh(u)})),o})(i.mapValue);default:throw _e(13486,{value:i})}}function gf(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Jp(i){return!!i&&"integerValue"in i}function zg(i){return!!i&&"arrayValue"in i}function aT(i){return!!i&&"nullValue"in i}function oT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Xh(i){return!!i&&"mapValue"in i}function N4(i){return(i?.mapValue?.fields||{})[iA]?.stringValue===rA}function yc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ms(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=yc(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yc(i.arrayValue.values[t]);return e}return{...i}}function x4(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===I4}class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Xh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yc(t)}setAll(e){let t=Wt.emptyPath(),s={},o=[];e.forEach(((u,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}u?s[m.lastSegment()]=yc(u):o.push(m.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,s,o)}delete(e){const t=this.field(e.popLast());Xh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Xh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ms(t,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new cn(yc(this.value))}}function sA(i){const e=[];return Ms(i.fields,((t,s)=>{const o=new Wt([t]);if(Xh(s)){const c=sA(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new Mn(e)}class Ft{constructor(e,t,s,o,c,u,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,Ee.min(),Ee.min(),Ee.min(),cn.empty(),0)}static newFoundDocument(e,t,s,o){return new Ft(e,1,t,Ee.min(),s,o,0)}static newNoDocument(e,t){return new Ft(e,2,t,Ee.min(),Ee.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new Ft(e,3,t,Ee.min(),Ee.min(),cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qo{constructor(e,t){this.position=e,this.inclusive=t}}function lT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],u=i.position[o];if(c.field.isKeyField()?s=pe.comparator(pe.fromName(u.referenceValue),t.key):s=zo(u,t.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function cT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Xi(i.position[t],e.position[t]))return!1;return!0}class Nc{constructor(e,t="asc"){this.field=e,this.dir=t}}function D4(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class aA{}class Dt extends aA{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new M4(e,t,s):t==="array-contains"?new P4(e,s):t==="in"?new L4(e,s):t==="not-in"?new j4(e,s):t==="array-contains-any"?new U4(e,s):new Dt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new V4(e,s):new k4(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(zo(t,this.value)):t!==null&&Cs(this.value)===Cs(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends aA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new _i(e,t)}matches(e){return oA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oA(i){return i.op==="and"}function lA(i){return O4(i)&&oA(i)}function O4(i){for(const e of i.filters)if(e instanceof _i)return!1;return!0}function Zp(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+Bo(i.value);if(lA(i))return i.filters.map((e=>Zp(e))).join(",");{const e=i.filters.map((t=>Zp(t))).join(",");return`${i.op}(${e})`}}function cA(i,e){return i instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Xi(s.value,o.value)})(i,e):i instanceof _i?(function(s,o){return o instanceof _i&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,u,m)=>c&&cA(u,o.filters[m])),!0):!1})(i,e):void _e(19439)}function uA(i){return i instanceof Dt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Bo(t.value)}`})(i):i instanceof _i?(function(t){return t.op.toString()+" {"+t.getFilters().map(uA).join(" ,")+"}"})(i):"Filter"}class M4 extends Dt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class V4 extends Dt{constructor(e,t){super(e,"in",t),this.keys=hA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class k4 extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=hA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function hA(i,e){return(e.arrayValue?.values||[]).map((t=>pe.fromName(t.referenceValue)))}class P4 extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zg(t)&&Ic(t.arrayValue,this.value)}}class L4 extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ic(this.value.arrayValue,t)}}class j4 extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ic(this.value.arrayValue,t)}}class U4 extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Ic(this.value.arrayValue,s)))}}class z4{constructor(e,t=null,s=[],o=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function uT(i,e=null,t=[],s=[],o=null,c=null,u=null){return new z4(i,e,t,s,o,c,u)}function Bg(i){const e=Ae(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>Zp(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Fc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Bo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Bo(s))).join(",")),e.Te=t}return e.Te}function qg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!D4(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!cA(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!cT(i.startAt,e.startAt)&&cT(i.endAt,e.endAt)}function eg(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Na{constructor(e,t=null,s=[],o=[],c=null,u="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B4(i,e,t,s,o,c,u,m){return new Na(i,e,t,s,o,c,u,m)}function $f(i){return new Na(i)}function hT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Fg(i){return i.collectionGroup!==null}function Mo(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new jt(Wt.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Nc(c,s))})),t.has(Wt.keyField().canonicalString())||e.Ie.push(new Nc(Wt.keyField(),s))}return e.Ie}function Ki(i){const e=Ae(i);return e.Ee||(e.Ee=q4(e,Mo(i))),e.Ee}function q4(i,e){if(i.limitType==="F")return uT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Nc(o.field,c)}));const t=i.endAt?new qo(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new qo(i.startAt.position,i.startAt.inclusive):null;return uT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function tg(i,e){const t=i.filters.concat([e]);return new Na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function yf(i,e,t){return new Na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Kf(i,e){return qg(Ki(i),Ki(e))&&i.limitType===e.limitType}function fA(i){return`${Bg(Ki(i))}|lt:${i.limitType}`}function wo(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>uA(o))).join(", ")}]`),Fc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Bo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Bo(o))).join(",")),`Target(${s})`})(Ki(i))}; limitType=${i.limitType})`}function Qf(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of Mo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(u,m,p){const g=lT(u,m,p);return u.inclusive?g<=0:g<0})(s.startAt,Mo(s),o)||s.endAt&&!(function(u,m,p){const g=lT(u,m,p);return u.inclusive?g>=0:g>0})(s.endAt,Mo(s),o))})(i,e)}function F4(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function dA(i){return(e,t)=>{let s=!1;for(const o of Mo(i)){const c=H4(o,e,t);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function H4(i,e,t){const s=i.field.isKeyField()?pe.comparator(e.key,t.key):(function(c,u,m){const p=u.data.field(c),g=m.data.field(c);return p!==null&&g!==null?zo(p,g):_e(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:i.dir})}}class xa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,((t,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return Wb(this.inner)}size(){return this.innerSize}}const G4=new ft(pe.comparator);function Nr(){return G4}const mA=new ft(pe.comparator);function hc(...i){let e=mA;for(const t of i)e=e.insert(t.key,t);return e}function pA(i){let e=mA;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ma(){return _c()}function gA(){return _c()}function _c(){return new xa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const $4=new ft(pe.comparator),K4=new jt(pe.comparator);function ke(...i){let e=K4;for(const t of i)e=e.add(t);return e}const Q4=new jt(Ve);function Y4(){return Q4}function Hg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:df(e)?"-0":e}}function yA(i){return{integerValue:""+i}}function X4(i,e){return A4(e)?yA(e):Hg(i,e)}class Yf{constructor(){this._=void 0}}function W4(i,e,t){return i instanceof xc?(function(o,c){const u={fields:{[eA]:{stringValue:Zb},[nA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Hf(c)&&(c=Gf(c)),c&&(u.fields[tA]=c),{mapValue:u}})(t,e):i instanceof Dc?vA(i,e):i instanceof Oc?EA(i,e):(function(o,c){const u=_A(o,c),m=fT(u)+fT(o.Ae);return Jp(u)&&Jp(o.Ae)?yA(m):Hg(o.serializer,m)})(i,e)}function J4(i,e,t){return i instanceof Dc?vA(i,e):i instanceof Oc?EA(i,e):t}function _A(i,e){return i instanceof _f?(function(s){return Jp(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class xc extends Yf{}class Dc extends Yf{constructor(e){super(),this.elements=e}}function vA(i,e){const t=TA(e);for(const s of i.elements)t.some((o=>Xi(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Oc extends Yf{constructor(e){super(),this.elements=e}}function EA(i,e){let t=TA(e);for(const s of i.elements)t=t.filter((o=>!Xi(o,s)));return{arrayValue:{values:t}}}class _f extends Yf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function fT(i){return Et(i.integerValue||i.doubleValue)}function TA(i){return zg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Z4{constructor(e,t){this.field=e,this.transform=t}}function eO(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Dc&&o instanceof Dc||s instanceof Oc&&o instanceof Oc?Uo(s.elements,o.elements,Xi):s instanceof _f&&o instanceof _f?Xi(s.Ae,o.Ae):s instanceof xc&&o instanceof xc})(i.transform,e.transform)}class tO{constructor(e,t){this.version=e,this.transformResults=t}}class rn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Xf{}function bA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Wf(i.key,rn.none()):new Hc(i.key,i.data,rn.none());{const t=i.data,s=cn.empty();let o=new jt(Wt.comparator);for(let c of e.fields)if(!o.has(c)){let u=t.field(c);u===null&&c.length>1&&(c=c.popLast(),u=t.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new Vs(i.key,s,new Mn(o.toArray()),rn.none())}}function nO(i,e,t){i instanceof Hc?(function(o,c,u){const m=o.value.clone(),p=mT(o.fieldTransforms,c,u.transformResults);m.setAll(p),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(i,e,t):i instanceof Vs?(function(o,c,u){if(!Wh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const m=mT(o.fieldTransforms,c,u.transformResults),p=c.data;p.setAll(AA(o)),p.setAll(m),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(i,e,t):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function vc(i,e,t,s){return i instanceof Hc?(function(c,u,m,p){if(!Wh(c.precondition,u))return m;const g=c.value.clone(),v=pT(c.fieldTransforms,p,u);return g.setAll(v),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(i,e,t,s):i instanceof Vs?(function(c,u,m,p){if(!Wh(c.precondition,u))return m;const g=pT(c.fieldTransforms,p,u),v=u.data;return v.setAll(AA(c)),v.setAll(g),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(i,e,t,s):(function(c,u,m){return Wh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(i,e,t)}function iO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=_A(s.transform,o||null);c!=null&&(t===null&&(t=cn.empty()),t.set(s.field,c))}return t||null}function dT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Uo(s,o,((c,u)=>eO(c,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Hc extends Xf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vs extends Xf{constructor(e,t,s,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function AA(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function mT(i,e,t){const s=new Map;ze(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const c=i[o],u=c.transform,m=e.data.field(c.field);s.set(c.field,J4(u,m,t[o]))}return s}function pT(i,e,t){const s=new Map;for(const o of i){const c=o.transform,u=t.data.field(o.field);s.set(o.field,W4(c,u,e))}return s}class Wf extends Xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SA extends Xf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&nO(c,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=vc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=vc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=gA();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=t.has(o.key)?null:m;const p=bA(u,m);p!==null&&s.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ke())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,((t,s)=>dT(t,s)))&&Uo(this.baseMutations,e.baseMutations,((t,s)=>dT(t,s)))}}class Gg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return $4})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new Gg(e,t,s,o)}}class sO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class aO{constructor(e,t){this.count=e,this.unchangedNames=t}}var xt,je;function wA(i){switch(i){case X.OK:return _e(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return _e(15467,{code:i})}}function RA(i){if(i===void 0)return Ir("GRPC error has no .code"),X.UNKNOWN;switch(i){case xt.OK:return X.OK;case xt.CANCELLED:return X.CANCELLED;case xt.UNKNOWN:return X.UNKNOWN;case xt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case xt.INTERNAL:return X.INTERNAL;case xt.UNAVAILABLE:return X.UNAVAILABLE;case xt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case xt.NOT_FOUND:return X.NOT_FOUND;case xt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case xt.ABORTED:return X.ABORTED;case xt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case xt.DATA_LOSS:return X.DATA_LOSS;default:return _e(39323,{code:i})}}(je=xt||(xt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function oO(){return new TextEncoder}const lO=new Es([4294967295,4294967295],0);function gT(i){const e=oO().encode(i),t=new zb;return t.update(e),new Uint8Array(t.digest())}function yT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Es([t,s],0),new Es([o,c],0)]}class $g{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new fc(`Invalid padding: ${t}`);if(s<0)throw new fc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new fc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new fc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Es.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Es.fromNumber(s)));return o.compare(lO)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=gT(e),[s,o]=yT(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new $g(c,o,t);return s.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const t=gT(e),[s,o]=yT(t);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.Se(u)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jf{constructor(e,t,s,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Gc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Jf(Ee.min(),o,new ft(Ve),Nr(),ke())}}class Gc{constructor(e,t,s,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Gc(s,t,ke(),ke(),ke())}}class Jh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class CA{constructor(e,t){this.targetId=e,this.Ce=t}}class IA{constructor(e,t,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class _T{constructor(){this.ve=0,this.Fe=vT(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),t=ke(),s=ke();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:c})}})),new Gc(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=vT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Nr(),this.Je=kh(),this.He=kh(),this.Ye=new ft(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(eg(c))if(s===0){const u=new pe(c.path);this.et(t,u,Ft.newNoDocument(u,Ee.min()))}else ze(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const m=this.ut(e),p=m?this.ct(m,e,u):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=t;let u,m;try{u=Rs(s).toUint8Array()}catch(p){if(p instanceof Jb)return jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new $g(u,o,c)}catch(p){return jo(p instanceof fc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(t,c,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&eg(m.target)){const p=new pe(m.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Ft.newNoDocument(p,e))}c.Be&&(t.set(u,c.ke()),c.qe())}}));let s=ke();this.He.forEach(((c,u)=>{let m=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Jf(e,t,this.Ye,this.je,s);return this.je=Nr(),this.Je=kh(),this.He=kh(),this.Ye=new ft(Ve),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new _T,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new jt(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new jt(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _T),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function kh(){return new ft(pe.comparator)}function vT(){return new ft(pe.comparator)}const uO={asc:"ASCENDING",desc:"DESCENDING"},hO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fO={and:"AND",or:"OR"};class dO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ng(i,e){return i.useProto3Json||Fc(e)?e:{value:e}}function vf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function mO(i,e){return vf(i,e.toTimestamp())}function kn(i){return ze(!!i,49232),Ee.fromTimestamp((function(t){const s=ws(t);return new it(s.seconds,s.nanos)})(i))}function Kg(i,e){return ig(i,e).canonicalString()}function ig(i,e){const t=(function(o){return new We(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?t:t.child(e)}function xA(i){const e=We.fromString(i);return ze(PA(e),10190,{key:e.toString()}),e}function Ef(i,e){return Kg(i.databaseId,e.path)}function Ec(i,e){const t=xA(e);if(t.get(1)!==i.databaseId.projectId)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new se(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new pe(OA(t))}function DA(i,e){return Kg(i.databaseId,e)}function pO(i){const e=xA(i);return e.length===4?We.emptyPath():OA(e)}function rg(i){return new We(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function OA(i){return ze(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function ET(i,e,t){return{name:Ef(i,e),fields:t.value.mapValue.fields}}function gO(i,e){return"found"in e?(function(s,o){ze(!!o.found,43571),o.found.name,o.found.updateTime;const c=Ec(s,o.found.name),u=kn(o.found.updateTime),m=o.found.createTime?kn(o.found.createTime):Ee.min(),p=new cn({mapValue:{fields:o.found.fields}});return Ft.newFoundDocument(c,u,m,p)})(i,e):"missing"in e?(function(s,o){ze(!!o.missing,3894),ze(!!o.readTime,22933);const c=Ec(s,o.missing),u=kn(o.readTime);return Ft.newNoDocument(c,u)})(i,e):_e(7234,{result:e})}function yO(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,v){return g.useProto3Json?(ze(v===void 0||typeof v=="string",58123),Jt.fromBase64String(v||"")):(ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Jt.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(g){const v=g.code===void 0?X.UNKNOWN:RA(g.code);return new se(v,g.message||"")})(u);t=new IA(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ec(i,s.document.name),c=kn(s.document.updateTime),u=s.document.createTime?kn(s.document.createTime):Ee.min(),m=new cn({mapValue:{fields:s.document.fields}}),p=Ft.newFoundDocument(o,c,u,m),g=s.targetIds||[],v=s.removedTargetIds||[];t=new Jh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ec(i,s.document),c=s.readTime?kn(s.readTime):Ee.min(),u=Ft.newNoDocument(o,c),m=s.removedTargetIds||[];t=new Jh([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ec(i,s.document),c=s.removedTargetIds||[];t=new Jh([],c,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new aO(o,c),m=s.targetId;t=new CA(m,u)}}return t}function MA(i,e){let t;if(e instanceof Hc)t={update:ET(i,e.key,e.value)};else if(e instanceof Wf)t={delete:Ef(i,e.key)};else if(e instanceof Vs)t={update:ET(i,e.key,e.data),updateMask:RO(e.fieldMask)};else{if(!(e instanceof SA))return _e(16599,{Vt:e.type});t={verify:Ef(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const m=u.transform;if(m instanceof xc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Dc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Oc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _f)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:mO(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(i,e.precondition)),t}function _O(i,e){return i&&i.length>0?(ze(e!==void 0,14353),i.map((t=>(function(o,c){let u=o.updateTime?kn(o.updateTime):kn(c);return u.isEqual(Ee.min())&&(u=kn(c)),new tO(u,o.transformResults||[])})(t,e)))):[]}function vO(i,e){return{documents:[DA(i,e.path)]}}function EO(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=DA(i,o);const c=(function(g){if(g.length!==0)return kA(_i.create(g,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const u=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:Ro(w.field),direction:AO(w.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const m=ng(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function TO(i){let e=pO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){ze(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let c=[];t.where&&(c=(function(b){const w=VA(b);return w instanceof _i&&lA(w)?w.getFilters():[w]})(t.where));let u=[];t.orderBy&&(u=(function(b){return b.map((w=>(function(j){return new Nc(Co(j.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(w)))})(t.orderBy));let m=null;t.limit&&(m=(function(b){let w;return w=typeof b=="object"?b.value:b,Fc(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(b){const w=!!b.before,x=b.values||[];return new qo(x,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(b){const w=!b.before,x=b.values||[];return new qo(x,w)})(t.endAt)),B4(e,o,u,c,m,"F",p,g)}function bO(i,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VA(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Co(t.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(t.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Co(t.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Co(t.unaryFilter.field);return Dt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Dt.create(Co(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return _i.create(t.compositeFilter.filters.map((s=>VA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(t.compositeFilter.op))})(i):_e(30097,{filter:i})}function AO(i){return uO[i]}function SO(i){return hO[i]}function wO(i){return fO[i]}function Ro(i){return{fieldPath:i.canonicalString()}}function Co(i){return Wt.fromServerFormat(i.fieldPath)}function kA(i){return i instanceof Dt?(function(t){if(t.op==="=="){if(oT(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NAN"}};if(aT(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(oT(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NAN"}};if(aT(t.value))return{unaryFilter:{field:Ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(t.field),op:SO(t.op),value:t.value}}})(i):i instanceof _i?(function(t){const s=t.getFilters().map((o=>kA(o)));return s.length===1?s[0]:{compositeFilter:{op:wO(t.op),filters:s}}})(i):_e(54877,{filter:i})}function RO(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function PA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class gs{constructor(e,t,s,o,c=Ee.min(),u=Ee.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class CO{constructor(e){this.yt=e}}function IO(i){const e=TO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?yf(e,e.limit,"L"):e}class NO{constructor(){this.Cn=new xO}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Ss.min())}updateCollectionGroup(e,t,s){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class xO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new jt(We.comparator),c=!o.has(s);return this.index[t]=o.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(We.comparator)).toArray()}}const TT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LA=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(LA,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fo(0)}static cr(){return new Fo(-1)}}const bT="LruGarbageCollector",DO=1048576;function AT([i,e],[t,s]){const o=Ve(i,t);return o===0?Ve(e,s):o}class OO{constructor(e){this.Ir=e,this.buffer=new jt(AT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();AT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(bT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?he(bT,"Ignoring IndexedDB error during garbage collection: ",t):await Jo(t)}await this.Vr(3e5)}))}}class VO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Ff.ce);const s=new OO(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(TT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,c,u,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,u=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,t)))).next((b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),So()<=Me.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b}))))}}function kO(i,e){return new VO(i,e)}class PO{constructor(){this.changes=new xa((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ie.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&vc(s.mutation,o,Mn.empty(),it.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ke()){const o=ma();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((c=>{let u=hc();return c.forEach(((m,p)=>{u=u.insert(m,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=ma();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ke())))}populateOverlays(e,t,s){const o=[];return s.forEach((c=>{t.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,m)=>{t.set(u,m)}))}))}computeViews(e,t,s,o){let c=Nr();const u=_c(),m=(function(){return _c()})();return t.forEach(((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Vs)?c=c.insert(g.key,g):v!==void 0?(u.set(g.key,v.mutation.getFieldMask()),vc(v.mutation,g,v.mutation.getFieldMask(),it.now())):u.set(g.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((g,v)=>u.set(g,v))),t.forEach(((g,v)=>m.set(g,new LO(v,u.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,t){const s=_c();let o=new ft(((u,m)=>u-m)),c=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const m of u)m.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||Mn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const b=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=gA();v.forEach((w=>{if(!c.has(w)){const x=bA(t.get(w),s.get(w));x!==null&&b.set(w,x),c=c.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ie.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(u){return pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-c.size):ie.resolve(ma());let m=wc,p=c;return u.next((g=>ie.forEach(g,((v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),c.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{p=p.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,p,g,ke()))).next((v=>({batchId:m,changes:pA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next((s=>{let o=hc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const c=t.collectionGroup;let u=hc();return this.indexManager.getCollectionParents(e,c).next((m=>ie.forEach(m,(p=>{const g=(function(b,w){return new Na(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((v=>{v.forEach(((b,w)=>{u=u.insert(b,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,c,o)))).next((u=>{c.forEach(((p,g)=>{const v=g.getKey();u.get(v)===null&&(u=u.insert(v,Ft.newInvalidDocument(v)))}));let m=hc();return u.forEach(((p,g)=>{const v=c.get(p);v!==void 0&&vc(v.mutation,g,Mn.empty(),it.now()),Qf(t,g)&&(m=m.insert(p,g))})),m}))}}class UO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:kn(o.createTime)}})(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:IO(o.bundledQuery),readTime:kn(o.readTime)}})(t)),ie.resolve()}}class zO{constructor(){this.overlays=new ft(pe.comparator),this.qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ma();return ie.forEach(t,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,c)=>{this.St(e,t,c)})),ie.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,t,s){const o=ma(),c=t.length+1,u=new pe(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let c=new ft(((g,v)=>g-v));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=c.get(g.largestBatchId);v===null&&(v=ma(),c=c.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ma(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return ie.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new sO(t,s));let c=this.qr.get(t);c===void 0&&(c=ke(),this.qr.set(t,c)),this.qr.set(t,c.add(s.key))}}class BO{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}class Qg{constructor(){this.Qr=new jt(qt.$r),this.Ur=new jt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new qt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new qt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new pe(new We([])),s=new qt(t,e),o=new qt(t,e+1),c=[];return this.Ur.forEachInRange([s,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new pe(new We([])),s=new qt(t,e),o=new qt(t,e+1);let c=ke();return this.Ur.forEachInRange([s,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const t=new qt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return pe.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||pe.comparator(e.key,t.key)}}class qO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new jt(qt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new rO(c,t,s,o);this.mutationQueue.push(u);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,t){return ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),c=o<0?0:o;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Ug:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new qt(t,0),o=new qt(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(u=>{const m=this.Xr(u.Yr);c.push(m)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new jt(Ve);return t.forEach((o=>{const c=new qt(o,0),u=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let c=s;pe.isDocumentKey(c)||(c=c.child(""));const u=new qt(new pe(c),0);let m=new jt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),u),ie.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(t.mutations,(o=>{const c=new qt(o.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new qt(t,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class FO{constructor(e){this.ri=e,this.docs=(function(){return new ft(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),c=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ie.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(t))}getEntries(e,t){let s=Nr();return t.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ft.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let c=Nr();const u=t.path,m=new pe(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||v4(_4(v),s)<=0||(o.has(v.key)||Qf(t,v))&&(c=c.insert(v.key,v.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,t,s,o){_e(9500)}ii(e,t){return ie.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new HO(this)}getSize(e){return ie.resolve(this.size)}}class HO extends PO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class GO{constructor(e){this.persistence=e,this.si=new xa((t=>Bg(t)),qg),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Qg,this.targetCount=0,this.ai=Fo.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Pr(t),ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,s){let o=0;const c=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(c).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ie.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ie.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ie.resolve(s)}containsKey(e,t){return ie.resolve(this._i.containsKey(t))}}class jA{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ff(0),this.li=!1,this.li=!0,this.hi=new BO,this.referenceDelegate=e(this),this.Pi=new GO(this),this.indexManager=new NO,this.remoteDocumentCache=(function(o){return new FO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new CO(t),this.Ii=new UO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new qO(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new $O(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,t){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class $O extends T4{constructor(e){super(),this.currentSequenceNumber=e}}class Yg{constructor(e){this.persistence=e,this.Ri=new Qg,this.Vi=null}static mi(e){return new Yg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((c=>{c||t.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ie.or([()=>ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Tf{constructor(e,t){this.persistence=e,this.pi=new xa((s=>S4(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=kO(this,t)}static mi(e,t){return new Tf(e,t)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ie.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((m=>{m||(s++,c.removeEntry(u,Ee.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yh(e.data.value)),t}br(e,t,s){return ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=ke(),o=ke();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Xg(e,t.fromCache,s,o)}}class KO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class QO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RI()?8:b4(sn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const c={result:null};return this.ys(e,t).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,t,o,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new KO;return this.Ss(e,t,u).next((m=>{if(c.result=m,this.Vs)return this.bs(e,t,u,m.size)}))})).next((()=>c.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(So()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",wo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(So()<=Me.DEBUG&&he("QueryEngine","Query:",wo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(So()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",wo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(t))):ie.resolve())}ys(e,t){if(hT(t))return ie.resolve(null);let s=Ki(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=yf(t,null,"F"),s=Ki(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=ke(...c);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(t,m);return this.Cs(t,g,u,p.readTime)?this.ys(e,yf(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,s,o){return hT(t)||o.isEqual(Ee.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((c=>{const u=this.Ds(t,c);return this.Cs(t,u,s,o)?ie.resolve(null):(So()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(t)),this.vs(e,u,t,y4(o,wc)).next((m=>m)))}))}Ds(e,t){let s=new jt(dA(e));return t.forEach(((o,c)=>{Qf(e,c)&&(s=s.add(c))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,s){return So()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",wo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ss.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(t.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const Wg="LocalStore",YO=3e8;class XO{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ft(Ve),this.xs=new xa((c=>Bg(c)),qg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function WO(i,e,t,s){return new XO(i,e,t,s)}async function UA(i,e){const t=Ae(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],m=[];let p=ke();for(const g of o){u.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of c){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:m})))}))}))}function JO(i,e){const t=Ae(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const b=g.batch,w=b.keys();let x=ie.resolve();return w.forEach((j=>{x=x.next((()=>v.getEntry(p,j))).next((U=>{const k=g.docVersions.get(j);ze(k!==null,48541),U.version.compareTo(k)<0&&(b.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),v.addEntry(U)))}))})),x.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(t,s,e,c).next((()=>c.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function zA(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function ZO(i,e){const t=Ae(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((v,b)=>{const w=o.get(b);if(!w)return;m.push(t.Pi.removeMatchingKeys(c,v.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(c,v.addedDocuments,b))));let x=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(Jt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,s)),o=o.insert(b,x),(function(U,k,F){return U.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=YO?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(w,x,v)&&m.push(t.Pi.updateTargetData(c,x))}));let p=Nr(),g=ke();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,v))})),m.push(e3(c,u,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!s.isEqual(Ee.min())){const v=t.Pi.getLastRemoteSnapshotVersion(c).next((b=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(v)}return ie.waitFor(m).next((()=>u.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,p,g))).next((()=>p))})).then((c=>(t.Ms=o,c)))}function e3(i,e,t){let s=ke(),o=ke();return t.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let u=Nr();return t.forEach(((m,p)=>{const g=c.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(m,p.readTime),u=u.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(m,p)):he(Wg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function t3(i,e){const t=Ae(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ug),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function n3(i,e){const t=Ae(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((c=>c?(o=c,ie.resolve(o)):t.Pi.allocateTargetId(s).next((u=>(o=new gs(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function sg(i,e,t){const s=Ae(i),o=s.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Zo(u))throw u;he(Wg,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function ST(i,e,t){const s=Ae(i);let o=Ee.min(),c=ke();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,v){const b=Ae(p),w=b.xs.get(v);return w!==void 0?ie.resolve(b.Ms.get(w)):b.Pi.getTargetData(g,v)})(s,u,Ki(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,m.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,t?o:Ee.min(),t?c:ke()))).next((m=>(i3(s,F4(e),m),{documents:m,Qs:c})))))}function i3(i,e,t){let s=i.Os.get(e)||Ee.min();t.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class wT{constructor(){this.activeTargetIds=Y4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r3{constructor(){this.Mo=new wT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class s3{Oo(e){}shutdown(){}}const RT="ConnectivityMonitor";class CT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(RT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(RT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ph=null;function ag(){return Ph===null?Ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ph++,"0x"+Ph.toString(16)}const Cp="RestConnection",a3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===mf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,c){const u=ag(),m=this.zo(e,t.toUriEncodedString());he(Cp,`Sending RPC '${e}' ${u}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:g}=new URL(m),v=wa(g);return this.Jo(e,m,p,s,v).then((b=>(he(Cp,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw jo(Cp,`RPC '${e}' ${u} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,t,s,o,c,u){return this.Go(e,t,s,o,c)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,t){const s=a3[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class l3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const en="WebChannelConnection";class c3 extends o3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,c){const u=ag();return new Promise(((m,p)=>{const g=new Bb;g.setWithCredentials(!0),g.listenOnce(qb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Qh.NO_ERROR:const b=g.getResponseJson();he(en,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),m(b);break;case Qh.TIMEOUT:he(en,`RPC '${e}' ${u} timed out`),p(new se(X.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const w=g.getStatus();if(he(en,`RPC '${e}' ${u} failed with status:`,w,"response text:",g.getResponseText()),w>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const j=x?.error;if(j&&j.status&&j.message){const U=(function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(W)>=0?W:X.UNKNOWN})(j.status);p(new se(U,j.message))}else p(new se(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new se(X.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(en,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);he(en,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",v,s,15)}))}T_(e,t,s){const o=ag(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Gb(),m=Hb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=c.join("");he(en,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=u.createWebChannel(v,p);this.I_(b);let w=!1,x=!1;const j=new l3({Yo:k=>{x?he(en,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(w||(he(en,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),he(en,`RPC '${e}' stream ${o} sending:`,k),b.send(k))},Zo:()=>b.close()}),U=(k,F,W)=>{k.listen(F,(z=>{try{W(z)}catch(re){setTimeout((()=>{throw re}),0)}}))};return U(b,uc.EventType.OPEN,(()=>{x||(he(en,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),U(b,uc.EventType.CLOSE,(()=>{x||(x=!0,he(en,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(b))})),U(b,uc.EventType.ERROR,(k=>{x||(x=!0,jo(en,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),j.a_(new se(X.UNAVAILABLE,"The operation could not be completed")))})),U(b,uc.EventType.MESSAGE,(k=>{if(!x){const F=k.data[0];ze(!!F,16349);const W=F,z=W?.error||W[0]?.error;if(z){he(en,`RPC '${e}' stream ${o} received error:`,z);const re=z.status;let oe=(function(A){const C=xt[A];if(C!==void 0)return RA(C)})(re),ue=z.message;oe===void 0&&(oe=X.INTERNAL,ue="Unknown error status: "+re+" with message "+z.message),x=!0,j.a_(new se(oe,ue)),b.close()}else he(en,`RPC '${e}' stream ${o} received:`,F),j.u_(F)}})),U(m,Fb.STAT_EVENT,(k=>{k.stat===Yp.PROXY?he(en,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Yp.NOPROXY&&he(en,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Ip(){return typeof document<"u"?document:null}function Zf(i){return new dO(i,!0)}class Jg{constructor(e,t,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const IT="PersistentStream";class BA{constructor(e,t,s,o,c,u,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jg(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Ir(t.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new se(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(IT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(IT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class u3 extends BA{constructor(e,t,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,u),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=yO(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ee.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Ee.min():u.readTime?kn(u.readTime):Ee.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=rg(this.serializer),t.addTarget=(function(c,u){let m;const p=u.target;if(m=eg(p)?{documents:vO(c,p)}:{query:EO(c,p).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=NA(c,u.resumeToken);const g=ng(c,u.expectedCount);g!==null&&(m.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ee.min())>0){m.readTime=vf(c,u.snapshotVersion.toTimestamp());const g=ng(c,u.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=bO(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=rg(this.serializer),t.removeTarget=e,this.q_(t)}}class h3 extends BA{constructor(e,t,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=_O(e.writeResults,e.commitTime),s=kn(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=rg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>MA(this.serializer,s)))};this.q_(t)}}class f3{}class d3 extends f3{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,ig(t,s),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(X.UNKNOWN,c.toString())}))}Ho(e,t,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,ig(t,s),o,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(X.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class m3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ir(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ea="RemoteStore";class p3{constructor(e,t,s,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Da(this)&&(he(Ea,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await $c(g),g.Ra.set("Unknown"),g.Ea.delete(4),await ed(g)})(this))}))})),this.Ra=new m3(s,o)}}async function ed(i){if(Da(i))for(const e of i.da)await e(!0)}async function $c(i){for(const e of i.da)await e(!1)}function qA(i,e){const t=Ae(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ny(t)?ty(t):el(t).O_()&&ey(t,e))}function Zg(i,e){const t=Ae(i),s=el(t);t.Ia.delete(e),s.O_()&&FA(t,e),t.Ia.size===0&&(s.O_()?s.L_():Da(t)&&t.Ra.set("Unknown"))}function ey(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}el(i).Y_(e)}function FA(i,e){i.Va.Ue(e),el(i).Z_(e)}function ty(i){i.Va=new cO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),el(i).start(),i.Ra.ua()}function ny(i){return Da(i)&&!el(i).x_()&&i.Ia.size>0}function Da(i){return Ae(i).Ea.size===0}function HA(i){i.Va=void 0}async function g3(i){i.Ra.set("Online")}async function y3(i){i.Ia.forEach(((e,t)=>{ey(i,e)}))}async function _3(i,e){HA(i),ny(i)?(i.Ra.ha(e),ty(i)):i.Ra.set("Unknown")}async function v3(i,e,t){if(i.Ra.set("Online"),e instanceof IA&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){he(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await bf(i,s)}else if(e instanceof Jh?i.Va.Ze(e):e instanceof CA?i.Va.st(e):i.Va.tt(e),!t.isEqual(Ee.min()))try{const s=await zA(i.localStore);t.compareTo(s)>=0&&await(function(c,u){const m=c.Va.Tt(u);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=c.Ia.get(g);v&&c.Ia.set(g,v.withResumeToken(p.resumeToken,u))}})),m.targetMismatches.forEach(((p,g)=>{const v=c.Ia.get(p);if(!v)return;c.Ia.set(p,v.withResumeToken(Jt.EMPTY_BYTE_STRING,v.snapshotVersion)),FA(c,p);const b=new gs(v.target,p,g,v.sequenceNumber);ey(c,b)})),c.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(s){he(Ea,"Failed to raise snapshot:",s),await bf(i,s)}}async function bf(i,e,t){if(!Zo(e))throw e;i.Ea.add(1),await $c(i),i.Ra.set("Offline"),t||(t=()=>zA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{he(Ea,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await ed(i)}))}function GA(i,e){return e().catch((t=>bf(i,t,e)))}async function td(i){const e=Ae(i),t=Is(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ug;for(;E3(e);)try{const o=await t3(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,T3(e,o)}catch(o){await bf(e,o)}$A(e)&&KA(e)}function E3(i){return Da(i)&&i.Ta.length<10}function T3(i,e){i.Ta.push(e);const t=Is(i);t.O_()&&t.X_&&t.ea(e.mutations)}function $A(i){return Da(i)&&!Is(i).x_()&&i.Ta.length>0}function KA(i){Is(i).start()}async function b3(i){Is(i).ra()}async function A3(i){const e=Is(i);for(const t of i.Ta)e.ea(t.mutations)}async function S3(i,e,t){const s=i.Ta.shift(),o=Gg.from(s,e,t);await GA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await td(i)}async function w3(i,e){e&&Is(i).X_&&await(async function(s,o){if((function(u){return wA(u)&&u!==X.ABORTED})(o.code)){const c=s.Ta.shift();Is(s).B_(),await GA(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await td(s)}})(i,e),$A(i)&&KA(i)}async function NT(i,e){const t=Ae(i);t.asyncQueue.verifyOperationInProgress(),he(Ea,"RemoteStore received new credentials");const s=Da(t);t.Ea.add(3),await $c(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ed(t)}async function R3(i,e){const t=Ae(i);e?(t.Ea.delete(2),await ed(t)):e||(t.Ea.add(2),await $c(t),t.Ra.set("Unknown"))}function el(i){return i.ma||(i.ma=(function(t,s,o){const c=Ae(t);return c.sa(),new u3(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:g3.bind(null,i),t_:y3.bind(null,i),r_:_3.bind(null,i),H_:v3.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),ny(i)?ty(i):i.Ra.set("Unknown")):(await i.ma.stop(),HA(i))}))),i.ma}function Is(i){return i.fa||(i.fa=(function(t,s,o){const c=Ae(t);return c.sa(),new h3(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:b3.bind(null,i),r_:w3.bind(null,i),ta:A3.bind(null,i),na:S3.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await td(i)):(await i.fa.stop(),i.Ta.length>0&&(he(Ea,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class iy{constructor(e,t,s,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,c){const u=Date.now()+s,m=new iy(e,t,u,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ry(i,e){if(Ir("AsyncQueue",`${e}: ${i}`),Zo(i))return new se(X.UNAVAILABLE,`${e}: ${i}`);throw i}class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=hc(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class xT{constructor(){this.ga=new ft(pe.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Ho{constructor(e,t,s,o,c,u,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,c){const u=[];return t.forEach((m=>{u.push({type:0,doc:m})})),new Ho(e,t,Vo.emptySet(t),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class C3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class I3{constructor(){this.queries=DT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Ae(t),c=o.queries;o.queries=DT(),c.forEach(((u,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new se(X.ABORTED,"Firestore shutting down"))}}function DT(){return new xa((i=>fA(i)),Kf)}async function sy(i,e){const t=Ae(i);let s=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new C3,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const m=ry(u,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&oy(t)}async function ay(i,e){const t=Ae(i),s=e.query;let o=3;const c=t.queries.get(s);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function N3(i,e){const t=Ae(i);let s=!1;for(const o of e){const c=o.query,u=t.queries.get(c);if(u){for(const m of u.Sa)m.Fa(o)&&(s=!0);u.wa=o}}s&&oy(t)}function x3(i,e,t){const s=Ae(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);s.queries.delete(e)}function oy(i){i.Ca.forEach((e=>{e.next()}))}var og,OT;(OT=og||(og={})).Ma="default",OT.Cache="cache";class ly{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==og.Cache}}class QA{constructor(e){this.key=e}}class YA{constructor(e){this.key=e}}class D3{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=dA(e),this.tu=new Vo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new xT,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,u=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,b)=>{const w=o.get(v),x=Qf(this.query,b)?b:null,j=!!w&&this.mutatedKeys.has(w.key),U=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;w&&x?w.data.isEqual(x.data)?j!==U&&(s.track({type:3,doc:x}),k=!0):this.su(w,x)||(s.track({type:2,doc:x}),k=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(m=!0)):!w&&x?(s.track({type:0,doc:x}),k=!0):w&&!x&&(s.track({type:1,doc:w}),k=!0,(p||g)&&(m=!0)),k&&(x?(u=u.add(x),c=U?c.add(v):c.delete(v)):(u=u.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),c=c.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Cs:m,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,b)=>(function(x,j){const U=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:k})}};return U(x)-U(j)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new Ho(this.query,e.tu,c,u,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new YA(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new QA(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cy="SyncEngine";class O3{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class M3{constructor(e){this.key=e,this.hu=!1}}class V3{constructor(e,t,s,o,c,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new xa((m=>fA(m)),Kf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(pe.comparator),this.Au=new Map,this.Ru=new Qg,this.Vu={},this.mu=new Map,this.fu=Fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k3(i,e,t=!0){const s=tS(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await XA(s,e,t,!0),o}async function P3(i,e){const t=tS(i);await XA(t,e,!0,!1)}async function XA(i,e,t,s){const o=await n3(i.localStore,Ki(e)),c=o.targetId,u=i.sharedClientState.addLocalQueryTarget(c,t);let m;return s&&(m=await L3(i,e,c,u==="current",o.resumeToken)),i.isPrimaryClient&&t&&qA(i.remoteStore,o),m}async function L3(i,e,t,s,o){i.pu=(b,w,x)=>(async function(U,k,F,W){let z=k.view.ru(F);z.Cs&&(z=await ST(U.localStore,k.query,!1).then((({documents:N})=>k.view.ru(N,z))));const re=W&&W.targetChanges.get(k.targetId),oe=W&&W.targetMismatches.get(k.targetId)!=null,ue=k.view.applyChanges(z,U.isPrimaryClient,re,oe);return VT(U,k.targetId,ue.au),ue.snapshot})(i,b,w,x);const c=await ST(i.localStore,e,!0),u=new D3(e,c.Qs),m=u.ru(c.documents),p=Gc.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=u.applyChanges(m,i.isPrimaryClient,p);VT(i,t,g.au);const v=new O3(e,t,u);return i.Tu.set(e,v),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function j3(i,e,t){const s=Ae(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((u=>!Kf(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await sg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Zg(s.remoteStore,o.targetId),lg(s,o.targetId)})).catch(Jo)):(lg(s,o.targetId),await sg(s.localStore,o.targetId,!0))}async function U3(i,e){const t=Ae(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Zg(t.remoteStore,s.targetId))}async function z3(i,e,t){const s=K3(i);try{const o=await(function(u,m){const p=Ae(u),g=it.now(),v=m.reduce(((x,j)=>x.add(j.key)),ke());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let j=Nr(),U=ke();return p.Ns.getEntries(x,v).next((k=>{j=k,j.forEach(((F,W)=>{W.isValidDocument()||(U=U.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,j))).next((k=>{b=k;const F=[];for(const W of m){const z=iO(W,b.get(W.key).overlayedDocument);z!=null&&F.push(new Vs(W.key,z,sA(z.value.mapValue),rn.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,F,m)})).next((k=>{w=k;const F=k.applyToLocalDocumentSet(b,U);return p.documentOverlayCache.saveOverlays(x,k.batchId,F)}))})).then((()=>({batchId:w.batchId,changes:pA(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,m,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new ft(Ve)),g=g.insert(m,p),u.Vu[u.currentUser.toKey()]=g})(s,o.batchId,t),await Kc(s,o.changes),await td(s.remoteStore)}catch(o){const c=ry(o,"Failed to persist write");t.reject(c)}}async function WA(i,e){const t=Ae(i);try{const s=await ZO(t.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=t.Au.get(c);u&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?ze(u.hu,14607):o.removedDocuments.size>0&&(ze(u.hu,42227),u.hu=!1))})),await Kc(t,s,e)}catch(s){await Jo(s)}}function MT(i,e,t){const s=Ae(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const p=Ae(u);p.onlineState=m;let g=!1;p.queries.forEach(((v,b)=>{for(const w of b.Sa)w.va(m)&&(g=!0)})),g&&oy(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function B3(i,e,t){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new ft(pe.comparator);u=u.insert(c,Ft.newNoDocument(c,Ee.min()));const m=ke().add(c),p=new Jf(Ee.min(),new Map,new ft(Ve),u,m);await WA(s,p),s.du=s.du.remove(c),s.Au.delete(e),uy(s)}else await sg(s.localStore,e,!1).then((()=>lg(s,e,t))).catch(Jo)}async function q3(i,e){const t=Ae(i),s=e.batch.batchId;try{const o=await JO(t.localStore,e);ZA(t,s,null),JA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Kc(t,o)}catch(o){await Jo(o)}}async function F3(i,e,t){const s=Ae(i);try{const o=await(function(u,m){const p=Ae(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(ze(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(s.localStore,e);ZA(s,e,t),JA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Kc(s,o)}catch(o){await Jo(o)}}function JA(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function ZA(i,e,t){const s=Ae(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function lg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||eS(i,s)}))}function eS(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Zg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),uy(i))}function VT(i,e,t){for(const s of t)s instanceof QA?(i.Ru.addReference(s.key,e),H3(i,s)):s instanceof YA?(he(cy,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||eS(i,s.key)):_e(19791,{wu:s})}function H3(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(he(cy,"New document in limbo: "+t),i.Eu.add(s),uy(i))}function uy(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new pe(We.fromString(e)),s=i.fu.next();i.Au.set(s,new M3(t)),i.du=i.du.insert(t,s),qA(i.remoteStore,new gs(Ki($f(t.path)),s,"TargetPurposeLimboResolution",Ff.ce))}}async function Kc(i,e,t){const s=Ae(i),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{u.push(s.pu(p,e,t).then((g=>{if((g||t)&&s.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Xg.As(p.targetId,g);c.push(v)}})))})),await Promise.all(u),s.Pu.H_(o),await(async function(p,g){const v=Ae(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(g,(w=>ie.forEach(w.Es,(x=>v.persistence.referenceDelegate.addReference(b,w.targetId,x))).next((()=>ie.forEach(w.ds,(x=>v.persistence.referenceDelegate.removeReference(b,w.targetId,x)))))))))}catch(b){if(!Zo(b))throw b;he(Wg,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const x=v.Ms.get(w),j=x.snapshotVersion,U=x.withLastLimboFreeSnapshotVersion(j);v.Ms=v.Ms.insert(w,U)}}})(s.localStore,c))}async function G3(i,e){const t=Ae(i);if(!t.currentUser.isEqual(e)){he(cy,"User change. New user:",e.toKey());const s=await UA(t.localStore,e);t.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new se(X.CANCELLED,u))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Kc(t,s.Ls)}}function $3(i,e){const t=Ae(i),s=t.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const c=t.Iu.get(e);if(!c)return o;for(const u of c){const m=t.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function tS(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=WA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B3.bind(null,e),e.Pu.H_=N3.bind(null,e.eventManager),e.Pu.yu=x3.bind(null,e.eventManager),e}function K3(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F3.bind(null,e),e}class Af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return WO(this.persistence,new QO,e.initialUser,this.serializer)}Cu(e){return new jA(Yg.mi,this.serializer)}Du(e){return new r3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Af.provider={build:()=>new Af};class Q3 extends Af{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ze(this.persistence.referenceDelegate instanceof Tf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new MO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new jA((s=>Tf.mi(s,t)),this.serializer)}}class cg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>MT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=G3.bind(null,this.syncEngine),await R3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new I3})()}createDatastore(e){const t=Zf(e.databaseInfo.databaseId),s=(function(c){return new c3(c)})(e.databaseInfo);return(function(c,u,m,p){return new d3(c,u,m,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,c,u,m){return new p3(s,o,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>MT(this.syncEngine,t,0)),(function(){return CT.v()?new CT:new s3})())}createSyncEngine(e,t){return(function(o,c,u,m,p,g,v){const b=new V3(o,c,u,m,p,g);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ae(t);he(Ea,"RemoteStore shutting down."),s.Ea.add(5),await $c(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cg.provider={build:()=>new cg};class hy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Y3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new se(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(o,c){const u=Ae(o),m={documents:c.map((b=>Ef(u.serializer,b)))},p=await u.Ho("BatchGetDocuments",u.serializer.databaseId,We.emptyPath(),m,c.length),g=new Map;p.forEach((b=>{const w=gO(u.serializer,b);g.set(w.key.toString(),w)}));const v=[];return c.forEach((b=>{const w=g.get(b.toString());ze(!!w,55234,{key:b}),v.push(w)})),v})(this.datastore,e);return t.forEach((s=>this.recordVersion(s))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Wf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,s)=>{const o=pe.fromPath(s);this.mutations.push(new SA(o,this.precondition(o)))})),await(async function(s,o){const c=Ae(s),u={writes:o.map((m=>MA(c.serializer,m)))};await c.Go("Commit",c.serializer.databaseId,We.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _e(50498,{Gu:e.constructor.name});t=Ee.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new se(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ee.min())?rn.exists(!1):rn.updateTime(t):rn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ee.min()))throw new se(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rn.updateTime(t)}return rn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class X3{constructor(e,t,s,o,c){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=o,this.deferred=c,this.zu=s.maxAttempts,this.M_=new Jg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new Y3(this.datastore),t=this.Hu(e);t&&t.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Fc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!wA(t)}return!1}}const Ns="FirestoreClient";class W3{constructor(e,t,s,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=jg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{he(Ns,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(he(Ns,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=ry(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Np(i,e){i.asyncQueue.verifyOperationInProgress(),he(Ns,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await UA(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function kT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await J3(i);he(Ns,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>NT(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>NT(e.remoteStore,o))),i._onlineComponents=e}async function J3(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(Ns,"Using user provided OfflineComponentProvider");try{await Np(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),await Np(i,new Af)}}else he(Ns,"Using default OfflineComponentProvider"),await Np(i,new Q3(void 0));return i._offlineComponents}async function fy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(Ns,"Using user provided OnlineComponentProvider"),await kT(i,i._uninitializedComponentsProvider._online)):(he(Ns,"Using default OnlineComponentProvider"),await kT(i,new cg))),i._onlineComponents}function Z3(i){return fy(i).then((e=>e.syncEngine))}function eM(i){return fy(i).then((e=>e.datastore))}async function Sf(i){const e=await fy(i),t=e.eventManager;return t.onListen=k3.bind(null,e.syncEngine),t.onUnlisten=j3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=P3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=U3.bind(null,e.syncEngine),t}function tM(i,e,t={}){const s=new $i;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,p,g){const v=new hy({next:w=>{v.Nu(),u.enqueueAndForget((()=>ay(c,b)));const x=w.docs.has(m);!x&&w.fromCache?g.reject(new se(X.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&p&&p.source==="server"?g.reject(new se(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new ly($f(m.path),v,{includeMetadataChanges:!0,qa:!0});return sy(c,b)})(await Sf(i),i.asyncQueue,e,t,s))),s.promise}function nM(i,e,t={}){const s=new $i;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,p,g){const v=new hy({next:w=>{v.Nu(),u.enqueueAndForget((()=>ay(c,b))),w.fromCache&&p.source==="server"?g.reject(new se(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new ly(m,v,{includeMetadataChanges:!0,qa:!0});return sy(c,b)})(await Sf(i),i.asyncQueue,e,t,s))),s.promise}function nS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const PT=new Map;const iS="firestore.googleapis.com",LT=!0;class jT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iS,this.ssl=LT}else this.host=e.host,this.ssl=e.ssl??LT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DO)throw new se(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new s4;switch(s.type){case"firstParty":return new c4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=PT.get(t);s&&(he("ComponentProvider","Removing Datastore"),PT.delete(t),s.terminate())})(this),Promise.resolve()}}function iM(i,e,t,s={}){i=Vn(i,nd);const o=wa(e),c=i._getSettings(),u={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(Ag(`https://${m}`),Sg("Firestore",!0)),c.host!==iS&&c.host!==m&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:s};if(!As(p,u)&&(i._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=nn.MOCK_USER;else{g=W1(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new se(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(b)}i._authCredentials=new a4(new Kb(g,v))}}class Zi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class pt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(qc(t,pt._jsonSchema))return new pt(e,s||null,new pe(We.fromString(t.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Ot("string",pt._jsonSchemaVersion),referencePath:Ot("string")};class Ts extends Zi{constructor(e,t,s){super(e,t,$f(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new pe(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function Tn(i,e,...t){if(i=rt(i),Qb("collection","path",e),i instanceof nd){const s=We.fromString(e,...t);return JE(s),new Ts(i,null,s)}{if(!(i instanceof pt||i instanceof Ts))throw new se(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(We.fromString(e,...t));return JE(s),new Ts(i.firestore,null,s)}}function un(i,e,...t){if(i=rt(i),arguments.length===1&&(e=jg.newId()),Qb("doc","path",e),i instanceof nd){const s=We.fromString(e,...t);return WE(s),new pt(i,null,new pe(s))}{if(!(i instanceof pt||i instanceof Ts))throw new se(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(We.fromString(e,...t));return WE(s),new pt(i.firestore,i instanceof Ts?i.converter:null,new pe(s))}}const UT="AsyncQueue";class zT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jg(this,"async_queue_retry"),this._c=()=>{const s=Ip();s&&he(UT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Ip();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ip();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new $i;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zo(e))throw e;he(UT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ir("INTERNAL UNHANDLED ERROR: ",BT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=iy.createAndSchedule(this,e,t,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:BT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function BT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function qT(i){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class xr extends nd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new zT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zT(e),this._firestoreClient=void 0,await e}}}function rM(i,e){const t=typeof i=="object"?i:Lf(),s=typeof i=="string"?i:mf,o=Ds(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=Q1("firestore");c&&iM(o,...c)}return o}function Qc(i){if(i._terminated)throw new se(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||sM(i),i._firestoreClient}function sM(i){const e=i._freezeSettings(),t=(function(o,c,u,m){return new C4(o,c,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,nS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new W3(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Jt.fromBase64String(e))}catch(t){throw new se(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new On(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qc(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Ot("string",On._jsonSchemaVersion),bytes:Ot("string")};class Yc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new se(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class id{constructor(e){this._methodName=e}}class Qi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new se(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new se(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(qc(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Ot("string",Qi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class Yi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qc(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Yi(e.vectorValues);throw new se(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Ot("string",Yi._jsonSchemaVersion),vectorValues:Ot("object")};const aM=/^__.*__$/;class oM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hc(e,this.data,t,this.fieldTransforms)}}class rS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Vs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:i})}}class dy{constructor(e,t,s,o,c,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sS(this.Ac)&&aM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Zf(e)}Cc(e,t,s,o=!1){return new dy({Ac:e,methodName:t,Dc:s,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xc(i){const e=i._freezeSettings(),t=Zf(i._databaseId);return new lM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function aS(i,e,t,s,o,c={}){const u=i.Cc(c.merge||c.mergeFields?2:0,e,t,o);py("Data must be an object, but it was:",u,s);const m=uS(s,u);let p,g;if(c.merge)p=new Mn(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const v=[];for(const b of c.mergeFields){const w=ug(e,b,t);if(!u.contains(w))throw new se(X.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);fS(v,w)||v.push(w)}p=new Mn(v),g=u.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=u.fieldTransforms;return new oM(new cn(m),p,g)}class rd extends id{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rd}}class my extends id{_toFieldTransform(e){return new Z4(e.path,new xc)}isEqual(e){return e instanceof my}}function oS(i,e,t,s){const o=i.Cc(1,e,t);py("Data must be an object, but it was:",o,s);const c=[],u=cn.empty();Ms(s,((p,g)=>{const v=gy(e,p,t);g=rt(g);const b=o.yc(v);if(g instanceof rd)c.push(v);else{const w=Wc(g,b);w!=null&&(c.push(v),u.set(v,w))}}));const m=new Mn(c);return new rS(u,m,o.fieldTransforms)}function lS(i,e,t,s,o,c){const u=i.Cc(1,e,t),m=[ug(e,s,t)],p=[o];if(c.length%2!=0)throw new se(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)m.push(ug(e,c[w])),p.push(c[w+1]);const g=[],v=cn.empty();for(let w=m.length-1;w>=0;--w)if(!fS(g,m[w])){const x=m[w];let j=p[w];j=rt(j);const U=u.yc(x);if(j instanceof rd)g.push(x);else{const k=Wc(j,U);k!=null&&(g.push(x),v.set(x,k))}}const b=new Mn(g);return new rS(v,b,u.fieldTransforms)}function cS(i,e,t,s=!1){return Wc(t,i.Cc(s?4:3,e))}function Wc(i,e){if(hS(i=rt(i)))return py("Unsupported field value:",e,i),uS(i,e);if(i instanceof id)return(function(s,o){if(!sS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let u=0;for(const m of s){let p=Wc(m,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),u++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return X4(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=it.fromDate(s);return{timestampValue:vf(o.serializer,c)}}if(s instanceof it){const c=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vf(o.serializer,c)}}if(s instanceof Qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:NA(o.serializer,s._byteString)};if(s instanceof pt){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Kg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Yi)return(function(u,m){return{mapValue:{fields:{[iA]:{stringValue:rA},[pf]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Hg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${qf(s)}`)})(i,e)}function uS(i,e){const t={};return Wb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(i,((s,o)=>{const c=Wc(o,e.mc(s));c!=null&&(t[s]=c)})),{mapValue:{fields:t}}}function hS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Qi||i instanceof On||i instanceof pt||i instanceof id||i instanceof Yi)}function py(i,e,t){if(!hS(t)||!Yb(t)){const s=qf(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function ug(i,e,t){if((e=rt(e))instanceof Yc)return e._internalPath;if(typeof e=="string")return gy(i,e);throw wf("Field path arguments must be of type string or ",i,!1,void 0,t)}const cM=new RegExp("[~\\*/\\[\\]]");function gy(i,e,t){if(e.search(cM)>=0)throw wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Yc(...e.split("."))._internalPath}catch{throw wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function wf(i,e,t,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||u)&&(p+=" (found",c&&(p+=` in field ${s}`),u&&(p+=` in document ${o}`),p+=")"),new se(X.INVALID_ARGUMENT,m+i+p)}function fS(i,e){return i.some((t=>t.isEqual(e)))}class Mc{constructor(e,t,s,o,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uM extends Mc{data(){return super.data()}}function sd(i,e){return typeof e=="string"?gy(i,e):e instanceof Yc?e._internalPath:e._delegate._internalPath}function dS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new se(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yy{}class ad extends yy{}function Go(i,e,...t){let s=[];e instanceof yy&&s.push(e),s=s.concat(t),(function(c){const u=c.filter((p=>p instanceof _y)).length,m=c.filter((p=>p instanceof od)).length;if(u>1||u>0&&m>0)throw new se(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class od extends ad{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new od(e,t,s)}_apply(e){const t=this._parse(e);return mS(e._query,t),new Zi(e.firestore,e.converter,tg(e._query,t))}_parse(e){const t=Xc(e.firestore);return(function(c,u,m,p,g,v,b){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new se(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){HT(b,v);const j=[];for(const U of b)j.push(FT(p,c,U));w={arrayValue:{values:j}}}else w=FT(p,c,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||HT(b,v),w=cS(m,u,b,v==="in"||v==="not-in");return Dt.create(g,v,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function dc(i,e,t){const s=e,o=sd("where",i);return od._create(o,s,t)}class _y extends yy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _y(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:_i.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,c){let u=o;const m=c.getFlattenedFilters();for(const p of m)mS(u,p),u=tg(u,p)})(e._query,t),new Zi(e.firestore,e.converter,tg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vy extends ad{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vy(e,t)}_apply(e){const t=(function(o,c,u){if(o.startAt!==null)throw new se(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new se(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nc(c,u)})(e._query,this._field,this._direction);return new Zi(e.firestore,e.converter,(function(o,c){const u=o.explicitOrderBy.concat([c]);return new Na(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function Ta(i,e="asc"){const t=e,s=sd("orderBy",i);return vy._create(s,t)}class Ey extends ad{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new Ey(e,t,s)}_apply(e){return new Zi(e.firestore,e.converter,yf(e._query,this._limit,this._limitType))}}function hM(i){return g4("limit",i),Ey._create("limit",i,"F")}class Ty extends ad{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Ty(e,t,s)}_apply(e){const t=dM(e,this.type,this._docOrFields,this._inclusive);return new Zi(e.firestore,e.converter,(function(o,c){return new Na(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)})(e._query,t))}}function fM(...i){return Ty._create("startAfter",i,!1)}function dM(i,e,t,s){if(t[0]=rt(t[0]),t[0]instanceof Mc)return(function(c,u,m,p,g){if(!p)throw new se(X.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const v=[];for(const b of Mo(c))if(b.field.isKeyField())v.push(gf(u,p.key));else{const w=p.data.field(b.field);if(Hf(w))throw new se(X.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const x=b.field.canonicalString();throw new se(X.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}v.push(w)}return new qo(v,g)})(i._query,i.firestore._databaseId,e,t[0]._document,s);{const o=Xc(i.firestore);return(function(u,m,p,g,v,b){const w=u.explicitOrderBy;if(v.length>w.length)throw new se(X.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let j=0;j<v.length;j++){const U=v[j];if(w[j].field.isKeyField()){if(typeof U!="string")throw new se(X.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof U}`);if(!Fg(u)&&U.indexOf("/")!==-1)throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${U}' contains a slash.`);const k=u.path.child(We.fromString(U));if(!pe.isDocumentKey(k))throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const F=new pe(k);x.push(gf(m,F))}else{const k=cS(p,g,U);x.push(k)}}return new qo(x,b)})(i._query,i.firestore._databaseId,o,e,t,s)}}function FT(i,e,t){if(typeof(t=rt(t))=="string"){if(t==="")throw new se(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fg(e)&&t.indexOf("/")!==-1)throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(We.fromString(t));if(!pe.isDocumentKey(s))throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gf(i,new pe(s))}if(t instanceof pt)return gf(i,t._key);throw new se(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qf(t)}.`)}function HT(i,e){if(!Array.isArray(i)||i.length===0)throw new se(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mS(i,e){const t=(function(o,c){for(const u of o)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class pS{convertValue(e,t="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ms(e,((o,c)=>{s[o]=this.convertValue(c,t)})),s}convertVectorValue(e){const t=e.fields?.[pf].arrayValue?.values?.map((s=>Et(s.doubleValue)));return new Yi(t)}convertGeoPoint(e){return new Qi(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Gf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Rc(e));default:return null}}convertTimestamp(e){const t=ws(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=We.fromString(e);ze(PA(s),9688,{name:e});const o=new Cc(s.get(1),s.get(3)),c=new pe(s.popFirst(5));return o.isEqual(t)||Ir(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function gS(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class mM extends pS{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}class No{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bs extends Mc{constructor(e,t,s,o,c,u){super(e,t,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(sd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=bs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",bs._jsonSchema={type:Ot("string",bs._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Zh extends bs{data(e={}){return super.data(e)}}class ga{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new No(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Zh(this._firestore,this._userDataWriter,s.key,s,new No(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new se(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const p=new Zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new No(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new Zh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new No(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),v=u.indexOf(m.doc.key)),{type:pM(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:i})}}function yS(i){i=Vn(i,pt);const e=Vn(i.firestore,xr);return tM(Qc(e),i._key).then((t=>_S(e,i,t)))}ga._jsonSchemaVersion="firestore/querySnapshot/1.0",ga._jsonSchema={type:Ot("string",ga._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class ld extends pS{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function Rf(i){i=Vn(i,Zi);const e=Vn(i.firestore,xr),t=Qc(e),s=new ld(e);return dS(i._query),nM(t,i._query).then((o=>new ga(e,s,i,o)))}function da(i,e,t,...s){i=Vn(i,pt);const o=Vn(i.firestore,xr),c=Xc(o);let u;return u=typeof(e=rt(e))=="string"||e instanceof Yc?lS(c,"updateDoc",i._key,e,t,s):oS(c,"updateDoc",i._key,e),Ay(o,[u.toMutation(i._key,rn.exists(!0))])}function by(i){return Ay(Vn(i.firestore,xr),[new Wf(i._key,rn.none())])}function Jc(i,e){const t=Vn(i.firestore,xr),s=un(i),o=gS(i.converter,e);return Ay(t,[aS(Xc(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,rn.exists(!1))]).then((()=>s))}function Zc(i,...e){i=rt(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||qT(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(qT(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let c,u,m;if(i instanceof pt)u=Vn(i.firestore,xr),m=$f(i._key.path),c={next:p=>{e[s]&&e[s](_S(u,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Vn(i,Zi);u=Vn(p.firestore,xr),m=p._query;const g=new ld(u);c={next:v=>{e[s]&&e[s](new ga(u,g,p,v))},error:e[s+1],complete:e[s+2]},dS(i._query)}return(function(g,v,b,w){const x=new hy(w),j=new ly(v,x,b);return g.asyncQueue.enqueueAndForget((async()=>sy(await Sf(g),j))),()=>{x.Nu(),g.asyncQueue.enqueueAndForget((async()=>ay(await Sf(g),j)))}})(Qc(u),m,o,c)}function Ay(i,e){return(function(s,o){const c=new $i;return s.asyncQueue.enqueueAndForget((async()=>z3(await Z3(s),o,c))),c.promise})(Qc(i),e)}function _S(i,e,t){const s=t.docs.get(e._key),o=new ld(i);return new bs(i,o,e._key,s,new No(t.hasPendingWrites,t.fromCache),e.converter)}const gM={maxAttempts:5};function mc(i,e){if((i=rt(i)).firestore!==e)throw new se(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class yM{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xc(e)}get(e){const t=mc(e,this._firestore),s=new mM(this._firestore);return this._transaction.lookup([t._key]).then((o=>{if(!o||o.length!==1)return _e(24041);const c=o[0];if(c.isFoundDocument())return new Mc(this._firestore,s,c.key,c,t.converter);if(c.isNoDocument())return new Mc(this._firestore,s,t._key,null,t.converter);throw _e(18433,{doc:c})}))}set(e,t,s){const o=mc(e,this._firestore),c=gS(o.converter,t,s),u=aS(this._dataReader,"Transaction.set",o._key,c,o.converter!==null,s);return this._transaction.set(o._key,u),this}update(e,t,s,...o){const c=mc(e,this._firestore);let u;return u=typeof(t=rt(t))=="string"||t instanceof Yc?lS(this._dataReader,"Transaction.update",c._key,t,s,o):oS(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,u),this}delete(e){const t=mc(e,this._firestore);return this._transaction.delete(t._key),this}}class _M extends yM{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mc(e,this._firestore),s=new ld(this._firestore);return super.get(e).then((o=>new bs(this._firestore,s,t._key,o._document,new No(!1,!1),t.converter)))}}function vM(i,e,t){i=Vn(i,xr);const s={...gM,...t};return(function(c){if(c.maxAttempts<1)throw new se(X.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(c,u,m){const p=new $i;return c.asyncQueue.enqueueAndForget((async()=>{const g=await eM(c);new X3(c.asyncQueue,g,m,u,p).ju()})),p.promise})(Qc(i),(o=>e(new _M(i,o))),s)}function ba(){return new my("serverTimestamp")}(function(e,t=!0){(function(o){Wo=o})(Ca),gi(new Zn("firestore",((s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),m=new xr(new o4(s.getProvider("auth-internal")),new u4(u,s.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new se(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(g.options.projectId,v)})(u,o),u);return c={useFetchStreams:t,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),En(KE,QE,e),En(KE,QE,"esm2020")})();const vS="@firebase/installations",Sy="0.6.19";const ES=1e4,TS=`w:${Sy}`,bS="FIS_v2",EM="https://firebaseinstallations.googleapis.com/v1",TM=3600*1e3,bM="installations",AM="Installations";const SM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Aa=new Ra(bM,AM,SM);function AS(i){return i instanceof ti&&i.code.includes("request-failed")}function SS({projectId:i}){return`${EM}/projects/${i}/installations`}function wS(i){return{token:i.token,requestStatus:2,expiresIn:RM(i.expiresIn),creationTime:Date.now()}}async function RS(i,e){const s=(await e.json()).error;return Aa.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function CS({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function wM(i,{refreshToken:e}){const t=CS(i);return t.append("Authorization",CM(e)),t}async function IS(i){const e=await i();return e.status>=500&&e.status<600?i():e}function RM(i){return Number(i.replace("s","000"))}function CM(i){return`${bS} ${i}`}async function IM({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=SS(i),o=CS(i),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const u={fid:t,authVersion:bS,appId:i.appId,sdkVersion:TS},m={method:"POST",headers:o,body:JSON.stringify(u)},p=await IS(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:wS(g.authToken)}}else throw await RS("Create Installation",p)}function NS(i){return new Promise(e=>{setTimeout(e,i)})}function NM(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const xM=/^[cdef][\w-]{21}$/,hg="";function DM(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=OM(i);return xM.test(t)?t:hg}catch{return hg}}function OM(i){return NM(i).substr(0,22)}function cd(i){return`${i.appName}!${i.appId}`}const xS=new Map;function DS(i,e){const t=cd(i);OS(t,e),MM(t,e)}function OS(i,e){const t=xS.get(i);if(t)for(const s of t)s(e)}function MM(i,e){const t=VM();t&&t.postMessage({key:i,fid:e}),kM()}let pa=null;function VM(){return!pa&&"BroadcastChannel"in self&&(pa=new BroadcastChannel("[Firebase] FID Change"),pa.onmessage=i=>{OS(i.data.key,i.data.fid)}),pa}function kM(){xS.size===0&&pa&&(pa.close(),pa=null)}const PM="firebase-installations-database",LM=1,Sa="firebase-installations-store";let xp=null;function wy(){return xp||(xp=tb(PM,LM,{upgrade:(i,e)=>{e===0&&i.createObjectStore(Sa)}})),xp}async function Cf(i,e){const t=cd(i),o=(await wy()).transaction(Sa,"readwrite"),c=o.objectStore(Sa),u=await c.get(t);return await c.put(e,t),await o.done,(!u||u.fid!==e.fid)&&DS(i,e.fid),e}async function MS(i){const e=cd(i),s=(await wy()).transaction(Sa,"readwrite");await s.objectStore(Sa).delete(e),await s.done}async function ud(i,e){const t=cd(i),o=(await wy()).transaction(Sa,"readwrite"),c=o.objectStore(Sa),u=await c.get(t),m=e(u);return m===void 0?await c.delete(t):await c.put(m,t),await o.done,m&&(!u||u.fid!==m.fid)&&DS(i,m.fid),m}async function Ry(i){let e;const t=await ud(i.appConfig,s=>{const o=jM(s),c=UM(i,o);return e=c.registrationPromise,c.installationEntry});return t.fid===hg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function jM(i){const e=i||{fid:DM(),registrationStatus:0};return VS(e)}function UM(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Aa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=zM(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:BM(i)}:{installationEntry:e}}async function zM(i,e){try{const t=await IM(i,e);return Cf(i.appConfig,t)}catch(t){throw AS(t)&&t.customData.serverCode===409?await MS(i.appConfig):await Cf(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function BM(i){let e=await GT(i.appConfig);for(;e.registrationStatus===1;)await NS(100),e=await GT(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Ry(i);return s||t}return e}function GT(i){return ud(i,e=>{if(!e)throw Aa.create("installation-not-found");return VS(e)})}function VS(i){return qM(i)?{fid:i.fid,registrationStatus:0}:i}function qM(i){return i.registrationStatus===1&&i.registrationTime+ES<Date.now()}async function FM({appConfig:i,heartbeatServiceProvider:e},t){const s=HM(i,t),o=wM(i,t),c=e.getImmediate({optional:!0});if(c){const g=await c.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const u={installation:{sdkVersion:TS,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(u)},p=await IS(()=>fetch(s,m));if(p.ok){const g=await p.json();return wS(g)}else throw await RS("Generate Auth Token",p)}function HM(i,{fid:e}){return`${SS(i)}/${e}/authTokens:generate`}async function Cy(i,e=!1){let t;const s=await ud(i.appConfig,c=>{if(!kS(c))throw Aa.create("not-registered");const u=c.authToken;if(!e&&KM(u))return c;if(u.requestStatus===1)return t=GM(i,e),c;{if(!navigator.onLine)throw Aa.create("app-offline");const m=YM(c);return t=$M(i,m),m}});return t?await t:s.authToken}async function GM(i,e){let t=await $T(i.appConfig);for(;t.authToken.requestStatus===1;)await NS(100),t=await $T(i.appConfig);const s=t.authToken;return s.requestStatus===0?Cy(i,e):s}function $T(i){return ud(i,e=>{if(!kS(e))throw Aa.create("not-registered");const t=e.authToken;return XM(t)?{...e,authToken:{requestStatus:0}}:e})}async function $M(i,e){try{const t=await FM(i,e),s={...e,authToken:t};return await Cf(i.appConfig,s),t}catch(t){if(AS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await MS(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Cf(i.appConfig,s)}throw t}}function kS(i){return i!==void 0&&i.registrationStatus===2}function KM(i){return i.requestStatus===2&&!QM(i)}function QM(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+TM}function YM(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function XM(i){return i.requestStatus===1&&i.requestTime+ES<Date.now()}async function WM(i){const e=i,{installationEntry:t,registrationPromise:s}=await Ry(e);return s?s.catch(console.error):Cy(e).catch(console.error),t.fid}async function JM(i,e=!1){const t=i;return await ZM(t),(await Cy(t,e)).token}async function ZM(i){const{registrationPromise:e}=await Ry(i);e&&await e}function eV(i){if(!i||!i.options)throw Dp("App Configuration");if(!i.name)throw Dp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Dp(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Dp(i){return Aa.create("missing-app-config-values",{valueName:i})}const PS="installations",tV="installations-internal",nV=i=>{const e=i.getProvider("app").getImmediate(),t=eV(e),s=Ds(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},iV=i=>{const e=i.getProvider("app").getImmediate(),t=Ds(e,PS).getImmediate();return{getId:()=>WM(t),getToken:o=>JM(t,o)}};function rV(){gi(new Zn(PS,nV,"PUBLIC")),gi(new Zn(tV,iV,"PRIVATE"))}rV();En(vS,Sy);En(vS,Sy,"esm2020");const If="analytics",sV="firebase_id",aV="origin",oV=60*1e3,lV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Iy="https://www.googletagmanager.com/gtag/js";const hn=new Pf("@firebase/analytics");const cV={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pn=new Ra("analytics","Analytics",cV);function uV(i){if(!i.startsWith(Iy)){const e=Pn.create("invalid-gtag-resource",{gtagURL:i});return hn.warn(e.message),""}return i}function LS(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function hV(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function fV(i,e){const t=hV("firebase-js-sdk-policy",{createScriptURL:uV}),s=document.createElement("script"),o=`${Iy}?l=${i}&id=${e}`;s.src=t?t?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function dV(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function mV(i,e,t,s,o,c){const u=s[o];try{if(u)await e[u];else{const p=(await LS(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){hn.error(m)}i("config",o,c)}async function pV(i,e,t,s,o){try{let c=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const m=await LS(t);for(const p of u){const g=m.find(b=>b.measurementId===p),v=g&&e[g.appId];if(v)c.push(v);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",s,o||{})}catch(c){hn.error(c)}}function gV(i,e,t,s){async function o(c,...u){try{if(c==="event"){const[m,p]=u;await pV(i,e,t,m,p)}else if(c==="config"){const[m,p]=u;await mV(i,e,t,s,m,p)}else if(c==="consent"){const[m,p]=u;i("consent",m,p)}else if(c==="get"){const[m,p,g]=u;i("get",m,p,g)}else if(c==="set"){const[m]=u;i("set",m)}else i(c,...u)}catch(m){hn.error(m)}}return o}function yV(i,e,t,s,o){let c=function(...u){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=gV(c,i,e,t),{gtagCore:c,wrappedGtag:window[o]}}function _V(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Iy)&&t.src.includes(i))return t;return null}const vV=30,EV=1e3;class TV{constructor(e={},t=EV){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const jS=new TV;function bV(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function AV(i){const{appId:e,apiKey:t}=i,s={method:"GET",headers:bV(t)},o=lV.replace("{app-id}",e),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let u="";try{const m=await c.json();m.error?.message&&(u=m.error.message)}catch{}throw Pn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:u})}return c.json()}async function SV(i,e=jS,t){const{appId:s,apiKey:o,measurementId:c}=i.options;if(!s)throw Pn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw Pn.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new CV;return setTimeout(async()=>{m.abort()},oV),US({appId:s,apiKey:o,measurementId:c},u,m,e)}async function US(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=jS){const{appId:c,measurementId:u}=i;try{await wV(s,e)}catch(m){if(u)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:u};throw m}try{const m=await AV(i);return o.deleteThrottleMetadata(c),m}catch(m){const p=m;if(!RV(p)){if(o.deleteThrottleMetadata(c),u)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:u};throw m}const g=Number(p?.customData?.httpStatus)===503?yE(t,o.intervalMillis,vV):yE(t,o.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return o.setThrottleMetadata(c,v),hn.debug(`Calling attemptFetch again in ${g} millis`),US(i,v,s,o)}}function wV(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(c),s(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function RV(i){if(!(i instanceof ti)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class CV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function IV(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const c=await e,u={...s,send_to:c};i("event",t,u)}}async function NV(i,e,t,s){if(s&&s.global){const o={};for(const c of Object.keys(t))o[`user_properties.${c}`]=t[c];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:t})}}async function xV(){if(Rg())try{await Cg()}catch(i){return hn.warn(Pn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return hn.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function DV(i,e,t,s,o,c,u){const m=SV(i);m.then(w=>{t[w.measurementId]=w.appId,i.options.measurementId&&w.measurementId!==i.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>hn.error(w)),e.push(m);const p=xV().then(w=>{if(w)return s.getId()}),[g,v]=await Promise.all([m,p]);_V(c)||fV(c,g.measurementId),o("js",new Date);const b=u?.config??{};return b[aV]="firebase",b.update=!0,v!=null&&(b[sV]=v),o("config",g.measurementId,b),g.measurementId}class OV{constructor(e){this.app=e}_delete(){return delete ko[this.app.options.appId],Promise.resolve()}}let ko={},KT=[];const QT={};let Op="dataLayer",MV="gtag",YT,Ny,XT=!1;function VV(){const i=[];if(wg()&&i.push("This is a browser extension environment."),J1()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=Pn.create("invalid-analytics-context",{errorInfo:e});hn.warn(t.message)}}function kV(i,e,t){VV();const s=i.options.appId;if(!s)throw Pn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pn.create("no-api-key");if(ko[s]!=null)throw Pn.create("already-exists",{id:s});if(!XT){dV(Op);const{wrappedGtag:c,gtagCore:u}=yV(ko,KT,QT,Op,MV);Ny=c,YT=u,XT=!0}return ko[s]=DV(i,KT,QT,e,YT,Op,t),new OV(i)}function PV(i=Lf()){i=rt(i);const e=Ds(i,If);return e.isInitialized()?e.getImmediate():LV(i)}function LV(i,e={}){const t=Ds(i,If);if(t.isInitialized()){const o=t.getImmediate();if(As(e,t.getOptions()))return o;throw Pn.create("already-initialized")}return t.initialize({options:e})}async function jV(){if(wg()||!J1()||!Rg())return!1;try{return await Cg()}catch{return!1}}function UV(i,e,t){i=rt(i),NV(Ny,ko[i.app.options.appId],e,t).catch(s=>hn.error(s))}function zV(i,e,t,s){i=rt(i),IV(Ny,ko[i.app.options.appId],e,t,s).catch(o=>hn.error(o))}const WT="@firebase/analytics",JT="0.10.19";function BV(){gi(new Zn(If,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return kV(s,o,t)},"PUBLIC")),gi(new Zn("analytics-internal",i,"PRIVATE")),En(WT,JT),En(WT,JT,"esm2020");function i(e){try{const t=e.getProvider(If).getImmediate();return{logEvent:(s,o,c)=>zV(t,s,o,c),setUserProperties:(s,o)=>UV(t,s,o)}}catch(t){throw Pn.create("interop-component-reg-failed",{reason:t})}}}BV();const zS="firebasestorage.googleapis.com",qV="storageBucket",FV=120*1e3,HV=600*1e3;class er extends ti{constructor(e,t,s=0){super(Mp(e),`Firebase Storage: ${t} (${Mp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,er.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wi||(Wi={}));function Mp(i){return"storage/"+i}function GV(){const i="An unknown error occurred, please check the error payload for server response.";return new er(Wi.UNKNOWN,i)}function $V(){return new er(Wi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KV(){return new er(Wi.CANCELED,"User canceled the upload/download.")}function QV(i){return new er(Wi.INVALID_URL,"Invalid URL '"+i+"'.")}function YV(i){return new er(Wi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function ZT(i){return new er(Wi.INVALID_ARGUMENT,i)}function BS(){return new er(Wi.APP_DELETED,"The Firebase app was deleted.")}function XV(i){return new er(Wi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class pi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=pi.makeFromUrl(e,t)}catch{return new pi(e,"")}if(s.path==="")return s;throw YV(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const u="(/(.*))?$",m=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function g(re){re.path_=decodeURIComponent(re.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",x=new RegExp(`^https?://${b}/${v}/b/${o}/o${w}`,"i"),j={bucket:1,path:3},U=t===zS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",F=new RegExp(`^https?://${U}/${o}/${k}`,"i"),z=[{regex:m,indices:p,postModify:c},{regex:x,indices:j,postModify:g},{regex:F,indices:{bucket:1,path:2},postModify:g}];for(let re=0;re<z.length;re++){const oe=z[re],ue=oe.regex.exec(e);if(ue){const N=ue[oe.indices.bucket];let A=ue[oe.indices.path];A||(A=""),s=new pi(N,A),oe.postModify(s);break}}if(s==null)throw QV(e);return s}}class WV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function JV(i,e,t){let s=1,o=null,c=null,u=!1,m=0;function p(){return m===2}let g=!1;function v(...k){g||(g=!0,e.apply(null,k))}function b(k){o=setTimeout(()=>{o=null,i(x,p())},k)}function w(){c&&clearTimeout(c)}function x(k,...F){if(g){w();return}if(k){w(),v.call(null,k,...F);return}if(p()||u){w(),v.call(null,k,...F);return}s<64&&(s*=2);let z;m===1?(m=2,z=0):z=(s+Math.random())*1e3,b(z)}let j=!1;function U(k){j||(j=!0,w(),!g&&(o!==null?(k||(m=2),clearTimeout(o),b(0)):k||(m=1)))}return b(0),c=setTimeout(()=>{u=!0,U(!0)},t),U}function ZV(i){i(!1)}function e6(i){return i!==void 0}function e1(i,e,t,s){if(s<e)throw ZT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw ZT(`Invalid value for '${i}'. Expected ${t} or less.`)}function t6(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Nf;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Nf||(Nf={}));function n6(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return t||o||c}class i6{constructor(e,t,s,o,c,u,m,p,g,v,b,w=!0,x=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,U)=>{this.resolve_=j,this.reject_=U,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Lh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const u=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&c.addUploadProgressListener(u),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(u),this.pendingConnection_=null;const m=c.getErrorCode()===Nf.NO_ERROR,p=c.getStatus();if(!m||n6(p,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===Nf.ABORT;s(!1,new Lh(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Lh(g,c))})},t=(s,o)=>{const c=this.resolve_,u=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());e6(p)?c(p):c()}catch(p){u(p)}else if(m!==null){const p=GV();p.serverResponse=m.getErrorText(),this.errorCallback_?u(this.errorCallback_(m,p)):u(p)}else if(o.canceled){const p=this.appDelete_?BS():KV();u(p)}else{const p=$V();u(p)}};this.canceled_?t(!1,new Lh(!1,null,!0)):this.backoffId_=JV(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function r6(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function s6(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function a6(i,e){e&&(i["X-Firebase-GMPID"]=e)}function o6(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function l6(i,e,t,s,o,c,u=!0,m=!1){const p=t6(i.urlParams),g=i.url+p,v=Object.assign({},i.headers);return a6(v,e),r6(v,t),s6(v,c),o6(v,s),new i6(g,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,u,m)}function c6(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function u6(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class xf{constructor(e,t){this._service=e,t instanceof pi?this._location=t:this._location=pi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new xf(e,t)}get root(){const e=new pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return u6(this._location.path)}get storage(){return this._service}get parent(){const e=c6(this._location.path);if(e===null)return null;const t=new pi(this._location.bucket,e);return new xf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw XV(e)}}function t1(i,e){const t=e?.[qV];return t==null?null:pi.makeFromBucketSpec(t,i)}function h6(i,e,t,s={}){i.host=`${e}:${t}`;const o=wa(e);o&&(Ag(`https://${i.host}/b`),Sg("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(i._overrideAuthToken=typeof c=="string"?c:W1(c,i.app.options.projectId))}class f6{constructor(e,t,s,o,c,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=u,this._bucket=null,this._host=zS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FV,this._maxUploadRetryTime=HV,this._requests=new Set,o!=null?this._bucket=pi.makeFromBucketSpec(o,this._host):this._bucket=t1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pi.makeFromBucketSpec(this._url,e):this._bucket=t1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){e1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){e1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xf(this,e)}_makeRequest(e,t,s,o,c=!0){if(this._deleted)return new WV(BS());{const u=l6(e,this._appId,s,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const n1="@firebase/storage",i1="0.14.0";const qS="storage";function d6(i=Lf(),e){i=rt(i);const s=Ds(i,qS).getImmediate({identifier:e}),o=Q1("storage");return o&&m6(s,...o),s}function m6(i,e,t,s={}){h6(i,e,t,s)}function p6(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new f6(t,s,o,e,Ca)}function g6(){gi(new Zn(qS,p6,"PUBLIC").setMultipleInstances(!0)),En(n1,i1,""),En(n1,i1,"esm2020")}g6();const y6={apiKey:"AIzaSyBMJdQYW7PYdN33QblGoYgBKANdR9byaz4",authDomain:"heladeria-doncru.firebaseapp.com",projectId:"heladeria-doncru",storageBucket:"heladeria-doncru.firebasestorage.app",messagingSenderId:"807648013020",appId:"1:807648013020:web:4c73e20edcce38f320e219",measurementId:"G-6EEWEE8BCT"},hd=nb(y6),ya=t4(hd),Xe=rM(hd);jV().then(i=>{i&&PV(hd)});d6(hd);const vi=()=>{const i=I.useContext(F1);if(!i)throw new Error("useAuth debe usarse dentro de AuthProvider");const{user:e,role:t,loading:s}=i;return{user:e,role:t,loading:s,login:(u,m)=>Ib(ya,u,m),logout:()=>Nb(ya)}},_6=({children:i})=>{const{role:e,loading:t}=vi();return t||e==="admin"?null:i},v6=()=>{const[i,e]=I.useState(!1),{user:t,role:s}=vi(),{pathname:o}=Ji(),c=()=>{e(!1),o==="/"&&window.scrollTo({top:0,behavior:"smooth"})},u=()=>{e(!1)};return _.jsxs(_.Fragment,{children:[_.jsxs("header",{className:`navbar
          ${i?"is-open":""}
          ${t&&s==="admin"?"is-admin":""}
        `,children:[_.jsxs("div",{className:"navbar__main",children:[_.jsx(tn,{to:"/",className:"navbar__logo",onClick:c,children:_.jsx("img",{src:q1,alt:"Heladera Don Cru"})}),_.jsxs("div",{className:"navbar__buttons",children:[_.jsx("div",{className:"navbar__buttons__cart",children:_.jsx(tn,{to:"/carrito",onClick:u,children:_.jsx("img",{src:cI,alt:"Carrito"})})}),_.jsx("div",{className:`navbar__buttons__burger ${i?"is-active":""}`,onClick:()=>e(!i),children:_.jsxs("button",{className:"navbar__buttons__burger__button","aria-label":"Men",children:[_.jsx("span",{}),_.jsx("span",{}),_.jsx("span",{})]})})]})]}),_.jsx("nav",{className:`navbar__menu ${i?"is-active":""}`,children:_.jsxs("ul",{className:"navbar__menu__list",children:[_.jsx("li",{children:_.jsx(tn,{to:"/",onClick:u,children:"Inicio"})}),_.jsx("li",{children:_.jsx(tn,{to:"/gustos",onClick:u,children:"Gustos"})}),_.jsx("li",{children:_.jsx(tn,{to:"/tamaos",onClick:u,children:"Tamaos"})}),_.jsx("li",{children:_.jsx(tn,{to:"/postres",onClick:u,children:"Postres"})}),_.jsx("li",{children:_.jsx(tn,{to:"/contacto",onClick:u,children:"Contacto"})}),t&&s==="admin"&&_.jsx("li",{className:"navbar__menu__admin",children:_.jsx(tn,{to:"/admin",onClick:u,children:"Admin"})})]})})]}),_.jsx(_6,{children:_.jsx("div",{className:"navbar__info",children:_.jsx("p",{className:"navbar__info__text",children:" Helado artesanal  Entrega en 2030 min"})})})]})},E6=()=>_.jsxs("footer",{className:"footer",children:[_.jsxs("div",{className:"footer__container",children:[_.jsxs("div",{className:"footer__brand",children:[_.jsx("img",{src:q1,alt:"Heladera Don Cru"}),_.jsx("p",{children:"Helado artesanal hecho con ingredientes reales. Entregas rpidas en tu barrio."})]}),_.jsxs("div",{className:"footer__links",children:[_.jsx("h4",{children:"Secciones"}),_.jsxs("ul",{children:[_.jsx("li",{children:_.jsx(tn,{to:"/gustos",children:"Gustos"})}),_.jsx("li",{children:_.jsx(tn,{to:"/tamaos",children:"Tamaos"})}),_.jsx("li",{children:_.jsx(tn,{to:"/carrito",children:"Carrito"})}),_.jsx("li",{children:_.jsx(tn,{to:"/contacto",children:"Contacto"})})]})]}),_.jsxs("div",{className:"footer__contact",children:[_.jsx("h4",{children:"Contacto"}),_.jsx("p",{children:" Pergamino, Buenos Aires"}),_.jsxs("p",{children:[" ",_.jsx("a",{href:"tel:+5492477361535",children:"+54 9 2477-361535"})]}),_.jsxs("p",{children:[" ",_.jsx("a",{href:"tel:+5492477349023",children:"+54 9 2477-349023"})]}),_.jsx("p",{children:" Todos los das"}),_.jsxs("p",{children:[" ",_.jsx("strong",{children:"10:30am a 01:30am"})]})]})]}),_.jsx("div",{className:"footer__map",children:_.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4684.491525214265!2d-60.58302593813583!3d-33.878430422366705!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95b9cb0014ef18d1%3A0xee50fb39f4042de7!2sHELADOS%20DONCRU!5e0!3m2!1ses-419!2sar!4v1769115741718!5m2!1ses-419!2sar",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",allowFullScreen:!0,title:"Mapa Heladera Don Cru"})}),_.jsx("div",{className:"footer__bottom",children:_.jsx("p",{children:" 2025 Don Cru  Todos los derechos reservados"})})]}),T6=""+new URL("background-doncru-tI_ot0oM.jpeg",import.meta.url).href,b6=()=>_.jsx("section",{className:"brand",children:_.jsx("img",{src:T6,alt:"",className:"brand__img"})}),ef=({text:i})=>_.jsx("div",{className:"container",children:_.jsx("p",{className:"container__text",children:i})}),A6=""+new URL("postres-W7STsAYS.jpg",import.meta.url).href,S6=""+new URL("chocolate-UtynE0fQ.jpg",import.meta.url).href,w6=""+new URL("dulce-de-leche-ByOsWRQA.jpg",import.meta.url).href,R6=""+new URL("crema-CaZ73Caw.jpg",import.meta.url).href,C6=""+new URL("crema-con-extras-DeZEJ6C8.jpg",import.meta.url).href,I6=""+new URL("frutales-BpeN8cKB.avif",import.meta.url).href,Vp=[{title:"Todos los sabores",slug:"todos",image:A6},{title:"Chocolates",slug:"chocolates",image:S6},{title:"Dulce de leche",slug:"dulce-de-leche",image:w6},{title:"Cremas especiales",slug:"cremas",image:R6},{title:"Cremas con extras",slug:"cremas",image:C6},{title:"Frutales / Frescos",slug:"frutales",image:I6}],jh=2,N6=()=>{const i=I.useRef(null),e=I.useRef(null),t=kc(),{categoria:s}=C1(),[o,c]=I.useState(0),u=I.useMemo(()=>{const g=Vp.findIndex(v=>v.slug===s);return g!==-1?g:0},[s]),m=Math.ceil(Vp.length/jh),p=I.useCallback(g=>{const v=i.current,b=e.current;!v||!b||v.scrollTo({left:b.offsetWidth*jh*g,behavior:"smooth"})},[]);return I.useEffect(()=>{p(Math.floor(u/jh))},[u,p]),I.useEffect(()=>{const g=i.current,v=e.current;if(!g||!v)return;const b=v.offsetWidth*jh,w=()=>{const x=Math.round(g.scrollLeft/b);c(j=>j!==x?x:j)};return g.addEventListener("scroll",w,{passive:!0}),()=>g.removeEventListener("scroll",w)},[]),_.jsxs("section",{className:"categories",children:[_.jsx("div",{className:"categories__track",ref:i,children:Vp.map((g,v)=>_.jsxs("button",{ref:v===0?e:null,className:`categories__item ${v===u?"is-active":""}`,onClick:()=>t(`/gustos/${g.slug}`),children:[_.jsx("div",{className:"categories__circle",children:_.jsx("img",{src:g.image,alt:g.title,loading:"lazy"})}),_.jsx("span",{className:"categories__text",children:g.title})]},g.slug))}),_.jsx("div",{className:"categories__dots",children:Array.from({length:m}).map((g,v)=>_.jsx("button",{className:`categories__dot ${o===v?"is-active":""}`,onClick:()=>p(v)},v))})]})},fg=""+new URL("vertical-11-C8bbCdvI.jpeg",import.meta.url).href,FS=({text:i,onClick:e,type:t="button",className:s=""})=>_.jsx("button",{type:t,className:`custom-button ${s}`,onClick:e,children:i}),HS=({className:i="",size:e=32})=>_.jsxs("svg",{className:i,width:e,height:e,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("circle",{cx:"16",cy:"16",r:"15.8",fill:"#FF82CE",stroke:"#FF009B",strokeWidth:"0.4"}),_.jsx("path",{d:"M15.458 6.08203C15.6747 5.62441 16.3253 5.62441 16.542 6.08203L18.4629 10.1416C18.7122 10.6684 19.2619 10.9861 19.8428 10.9385L24.3184 10.5713C24.823 10.5303 25.1485 11.0943 24.8604 11.5107L22.3047 15.2031C21.973 15.6825 21.973 16.3175 22.3047 16.7969L24.8604 20.4893C25.1485 20.9057 24.823 21.4697 24.3184 21.4287L19.8428 21.0615C19.2619 21.0139 18.7122 21.3316 18.4629 21.8584L16.542 25.918C16.3253 26.3756 15.6747 26.3756 15.458 25.918L13.5371 21.8584C13.2878 21.3316 12.7381 21.0139 12.1572 21.0615L7.68164 21.4287C7.17702 21.4697 6.8515 20.9057 7.13965 20.4893L9.69531 16.7969C10.027 16.3175 10.027 15.6825 9.69531 15.2031L7.13965 11.5107C6.8515 11.0943 7.17702 10.5303 7.68164 10.5713L12.1572 10.9385C12.7381 10.9861 13.2878 10.6684 13.5371 10.1416L15.458 6.08203Z",fill:"#FEC810",stroke:"black",strokeWidth:"0.8"})]}),x6=({open:i,onClose:e,children:t})=>i?EC.createPortal(_.jsx("div",{className:"modal-overlay",onClick:e,children:_.jsxs("div",{className:"modal",onClick:s=>s.stopPropagation(),children:[_.jsx("button",{className:"modal__close",onClick:e,"aria-label":"Cerrar modal",children:""}),_.jsx("div",{className:"modal__scroll",children:t})]})}),document.body):null,xy=I.createContext(),D6=({children:i})=>{const[e,t]=I.useState(()=>{const m=localStorage.getItem("cart");return m?JSON.parse(m):[]});I.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const s=m=>{t(p=>[...p,{...m,cartId:crypto.randomUUID(),quantity:1}])},o=m=>{t(p=>p.filter(g=>g.cartId!==m))},c=()=>{t([]),localStorage.removeItem("cart")},u=(m,p)=>{p<1||t(g=>g.map(v=>v.cartId===m?{...v,quantity:p}:v))};return _.jsx(xy.Provider,{value:{cart:e,addToCart:s,removeFromCart:o,clearCart:c,updateQuantity:u},children:i})},GS=()=>{const i=I.useContext(xy);if(!i)throw new Error("useCart debe usarse dentro de CartProvider");return i},Oa=()=>{const[i,e]=I.useState([]),[t,s]=I.useState(!0);return I.useEffect(()=>{const o=Go(Tn(Xe,"gustos"),Ta("category"),Ta("name")),c=Zc(o,u=>{const m=u.docs.map(p=>({id:p.id,...p.data()}));e(m),s(!1)});return()=>c()},[]),{gustos:i,loading:t}},$S=({product:i,open:e,onClose:t})=>{const{addToCart:s}=GS(),{gustos:o,loading:c}=Oa(),[u,m]=I.useState([]),p=i?.maxGustos??0,g=I.useMemo(()=>Array.isArray(o)?o:[],[o]),v=(x,j)=>{j||m(U=>U.includes(x)?U.filter(k=>k!==x):U.length>=p?(Ue.error(`Mximo ${p} gustos`),U):[...U,x])},b=()=>{u.length!==0&&(s({...i,gustos:u}),Ue.success("Producto agregado al carrito "),m([]),t())},w=()=>{m([]),t()};return!i||!e?null:_.jsx(x6,{open:e,onClose:w,children:_.jsxs("div",{className:"select-modal",children:[_.jsxs("div",{className:"select-modal__header",children:[_.jsx("h3",{children:i.title}),_.jsxs("p",{children:["Eleg hasta ",_.jsx("strong",{children:p})," gustos"]})]}),_.jsx("div",{className:"select-modal__content",children:c?_.jsx("p",{children:"Cargando gustos..."}):_.jsx("div",{className:"gustos-grid",children:g.map(x=>{const j=u.includes(x.id),U=x.active===!1||x.weight<=0,k=u.length>=p&&!j;return _.jsx("button",{type:"button",className:`gusto-option
                      ${j?"is-selected":""}
                      ${U?"is-disabled":""}
                    `,disabled:U||k,onClick:()=>v(x.id,U),title:U?"Gusto no disponible":x.name,children:x.name},x.id)})})}),_.jsx("div",{className:"select-modal__footer",children:_.jsxs("button",{className:"confirm-btn",disabled:u.length===0,onClick:b,children:["Confirmar helado (",u.length,"/",p,")"]})})]})})},KS=async(i,e)=>{const t=un(Xe,"products",i);await da(t,{price:Number(e)})},O6=async i=>(await Jc(Tn(Xe,"products"),{...i,active:!0,createdAt:ba()})).id,QS=async i=>{if(!i)throw new Error("ID invlido");await by(un(Xe,"products",i))},YS=({imageRight:i=!1,title:e="",price:t=0,featured:s=!1,thumbnail:o="",product:c})=>{const{role:u}=vi(),m=u==="admin",{addToCart:p}=GS(),[g,v]=I.useState(!1),[b,w]=I.useState(!1),[x,j]=I.useState(t),[U,k]=I.useState(!1),[F,W]=I.useState(!1),z=o&&o!==""?o:fg,re=()=>{if(c?.category==="postres"){p({...c,price:t,quantity:1,gustos:[]}),Ue.success("Postre agregado al carrito ");return}v(!0)},oe=async()=>{if(c?.id)try{k(!0),await KS(c.id,Number(x)),Ue.success("Precio actualizado "),w(!1)}catch(N){Ue.error("Error al actualizar el precio"),console.error(N)}finally{k(!1)}},ue=async()=>{if(!(!c?.id||!window.confirm(`Eliminar "${e}"?
Esta accin no se puede deshacer.`)))try{W(!0),await QS(c.id),Ue.success("Producto eliminado ")}catch(A){console.error(A),Ue.error("Error al eliminar producto")}finally{W(!1)}};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:`
          card
          ${i?"card--reverse":""}
          ${s?"card--glass":""}
        `,children:[c.featured&&_.jsx(HS,{className:"card__badge",size:32}),m&&b&&_.jsxs("div",{className:`card__price-edit ${i?"card__price-edit--right":""}`,children:[_.jsx("input",{type:"number",min:"0",value:x,onChange:N=>j(N.target.value)}),_.jsx("button",{onClick:oe,disabled:U,children:U?"Guardando":"Guardar"}),_.jsx("button",{className:"cancel",onClick:()=>w(!1),children:""})]}),_.jsx("img",{src:z,alt:e,className:"card__img",onError:N=>N.target.src=fg}),_.jsxs("div",{className:"card__texts",children:[_.jsx("h4",{className:"card__texts__title",children:e}),!b&&_.jsxs("p",{className:"card__texts__subtitle",children:["A tan solo $",t]}),m&&!b&&_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"card__edit-price-btn",onClick:()=>w(!0),children:" Editar precio"}),_.jsx("button",{className:"card__delete-icon",onClick:ue,disabled:F,title:"Eliminar producto",children:""})]}),_.jsx("p",{className:"card__texts__p",children:"Te lo penss perder?"}),_.jsx(FS,{text:"Pedir ahora",onClick:re,className:"card__texts__button"})]})]}),c&&c.category!=="postres"&&_.jsx($S,{product:{...c,price:t},open:g,onClose:()=>v(!1)})]})},XS=()=>{const[i,e]=I.useState([]),[t,s]=I.useState(!0);return I.useEffect(()=>{const o=Zc(Tn(Xe,"products"),c=>{const u=c.docs.map(m=>({id:m.id,...m.data()}));e(u),s(!1)});return()=>o()},[]),{products:i,loading:t}},WS=({category:i})=>{const{products:e,loading:t}=XS();if(t)return _.jsx("div",{className:"cards__container cards__container--loading",children:_.jsxs("div",{className:"loader",children:[_.jsx("span",{className:"spinner"}),_.jsx("p",{children:"Cargando productos..."})]})});const o=[...i?e.filter(c=>c.category===i):e].sort((c,u)=>c.price-u.price);return _.jsx("div",{className:"cards__container",children:o.map((c,u)=>_.jsx(YS,{product:c,title:c.title,price:c.price,thumbnail:c.thumbnail,isFeatured:u===0,imageRight:u%2!==0},c.id))})},M6=({product:i})=>{const{role:e}=vi(),t=e==="admin",[s,o]=I.useState(!1),[c,u]=I.useState(!1),[m,p]=I.useState(i?.price??0),[g,v]=I.useState(!1),[b,w]=I.useState(!1);if(!i)return null;const x=async()=>{if(!(!i?.id||!window.confirm(`Eliminar "${i.title}"?
Esta accin no se puede deshacer.`)))try{w(!0),await QS(i.id),Ue.success("Producto eliminado ")}catch(k){console.error(k),Ue.error("Errorr al eliminar producto")}finally{w(!1)}},j=async()=>{try{v(!0),await KS(i.id,Number(m)),i.price=Number(m),Ue.success("Precio actualizado "),u(!1)}catch(U){console.error(U),Ue.error("Error al actualizar el precio")}finally{v(!1)}};return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"card-v",children:[_.jsxs("div",{className:"card-v__img-container",children:[i.featured&&_.jsx(HS,{className:"card-v__badge",size:32}),_.jsx("img",{src:i.thumbnail,alt:i.title,className:"card-v__img",loading:"lazy"}),t&&c&&_.jsxs("div",{className:"card-v__price-edit",children:[_.jsx("input",{type:"number",min:"0",value:m,onChange:U=>p(U.target.value)}),_.jsx("button",{onClick:j,disabled:g,children:g?"Guardando":"Guardar"}),_.jsx("button",{className:"cancel",onClick:()=>u(!1),children:""})]})]}),_.jsxs("div",{className:"card-v__texts",children:[_.jsx("h4",{className:"card-v__texts__title",children:i.title}),_.jsx("p",{className:"card-v__texts__subtitle",children:i.description}),!c&&_.jsxs("p",{className:"card-v__texts__price",children:["$",Number(i.price).toLocaleString()]}),t&&!c&&_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"card-v__edit-price-btn",onClick:()=>u(!0),children:" Editar precio"}),_.jsx("button",{className:"card__delete-icon",onClick:x,disabled:b,title:"Eliminar producto",children:""})]}),_.jsx(FS,{text:"Comprar ahora",onClick:()=>o(!0),className:"card-v__texts__button"})]})]}),_.jsx($S,{product:{...i,price:Number(m)},open:s,onClose:()=>o(!1)})]})},V6=()=>{const{products:i,loading:e}=XS();if(e)return null;const t=i.filter(s=>s.masVendido===!0);return _.jsx("div",{className:"cards__vertical__container",children:t.map(s=>_.jsx(M6,{product:s},s.id))})},k6=()=>_.jsxs("section",{className:"why",children:[_.jsx("h2",{className:"why__title",children:"Por qu elegir Don Cru?"}),_.jsxs("div",{className:"why__items",children:[_.jsxs("div",{className:"why__item",children:[_.jsx("span",{className:"why__icon",children:""}),_.jsx("h3",{children:"Helado artesanal"}),_.jsx("p",{children:"Hecho con dedicacin y recetas propias."})]}),_.jsxs("div",{className:"why__item",children:[_.jsx("span",{className:"why__icon",children:""}),_.jsx("h3",{children:"Calidad en cada tamao"}),_.jsx("p",{children:"Cuarto, medio o kilo. Siempre la misma cremosidad."})]}),_.jsxs("div",{className:"why__item",children:[_.jsx("span",{className:"why__icon",children:""}),_.jsx("h3",{children:"Ideal para compartir"}),_.jsx("p",{children:"Para disfrutar solo o con quien vos quieras."})]}),_.jsxs("div",{className:"why__item",children:[_.jsx("span",{className:"why__icon",children:""}),_.jsx("h3",{children:"Negocio de barrio"}),_.jsx("p",{children:"Cercano, simple y con atencin real."})]})]})]}),P6=()=>_.jsx("section",{className:"cta",children:_.jsxs("div",{className:"cta__content",children:[_.jsx("h2",{className:"cta__title",children:"El momento ideal para un buen helado"}),_.jsx("p",{className:"cta__text",children:"Eleg el tamao perfecto y disfrut como ms te gusta."}),_.jsx(tn,{to:"/tamaos",className:"cta__button",children:"Ver tamaos"})]})}),L6=async i=>{const e=new FormData;e.append("file",i),e.append("upload_preset","productos");const t=await fetch("https://api.cloudinary.com/v1_1/drcrkxli9/image/upload",{method:"POST",body:e});if(!t.ok)throw new Error("Error subiendo imagen");return(await t.json()).secure_url},j6=["Cuarto de helado","Medio kg de helado","3/4 de helado","Kg de helado"],r1={title:"",description:"",price:"",category:"tamaos",maxGustos:"",featured:!1,masVendido:!1},U6=({open:i,onClose:e,defaultCategory:t="tamaos"})=>{const[s,o]=I.useState({...r1,category:t}),[c,u]=I.useState(null),[m,p]=I.useState(null),[g,v]=I.useState(!1),[b,w]=I.useState(null);I.useEffect(()=>{o(F=>({...F,category:t}))},[t]),I.useEffect(()=>{o(F=>({...F,category:t}))},[t]);const x=F=>{const{name:W,value:z,type:re,checked:oe}=F.target;o(ue=>({...ue,[W]:re==="checkbox"?oe:z}))},j=F=>{F&&(u(F),p(URL.createObjectURL(F)))},U=()=>s.title.trim()?!s.price||Number(s.price)<=0?"Precio invlido":!s.maxGustos||Number(s.maxGustos)<=0?"Mx gustos invlido":c?null:"Imagen obligatoria":"Nombre obligatorio",k=async F=>{F.preventDefault();const W=U();if(W){w(W);return}try{v(!0),w(null);const z=await L6(c);await O6({title:s.title.trim(),description:s.description.trim(),price:Number(s.price),category:s.category,maxGustos:Number(s.maxGustos),thumbnail:z,featured:s.featured,masVendido:s.masVendido}),o({...r1,category:t}),u(null),p(null),e()}catch(z){console.error(z),w("Error al crear producto")}finally{v(!1)}};return _.jsx(_.Fragment,{children:i&&_.jsx("div",{className:"create-product-modal__backdrop",children:_.jsxs("div",{className:"create-product-modal",children:[_.jsxs("header",{className:"create-product-modal__header",children:[_.jsx("h3",{children:"Nuevo producto"}),_.jsx("button",{onClick:e,children:""})]}),_.jsxs("form",{className:"create-product-modal__form",onSubmit:k,children:[s.category==="tamaos"?_.jsxs("select",{name:"title",value:s.title,onChange:x,children:[_.jsx("option",{value:"",children:"Seleccionar tamao"}),j6.map(F=>_.jsx("option",{value:F,children:F},F))]}):_.jsx("input",{name:"title",placeholder:"Nombre del postre",value:s.title,onChange:x}),_.jsx("textarea",{name:"description",placeholder:"Descripcin",value:s.description,onChange:x}),_.jsx("input",{type:"number",name:"price",placeholder:"Precio",value:s.price,onChange:x}),_.jsx("input",{type:"number",name:"maxGustos",placeholder:"Mx gustos",value:s.maxGustos,onChange:x}),_.jsxs("div",{children:[_.jsx("p",{children:"Categoras:"}),_.jsxs("select",{name:"category",value:s.category,onChange:x,children:[_.jsx("option",{value:"tamaos",children:"Tamaos"}),_.jsx("option",{value:"postres",children:"Postres"})]})]}),_.jsxs("div",{className:"create-product-modal__image-drop",onDragOver:F=>F.preventDefault(),onDrop:F=>{F.preventDefault(),j(F.dataTransfer.files[0])},children:[_.jsx("input",{type:"file",accept:"image/*",hidden:!0,id:"createProductImageInput",onChange:F=>j(F.target.files[0])}),m?_.jsxs("div",{className:"create-product-modal__image-preview",children:[_.jsx("img",{src:m,alt:"preview"}),_.jsx("button",{type:"button",className:"create-product-modal__change-image-btn",onClick:()=>document.getElementById("createProductImageInput").click(),children:"Cambiar imagen"})]}):_.jsx("label",{htmlFor:"createProductImageInput",children:"Arrastr o hac click para subir imagen"})]}),_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",name:"featured",checked:s.featured,onChange:x}),"Destacado"]}),_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",name:"masVendido",checked:s.masVendido,onChange:x}),"Ms vendido"]}),b&&_.jsx("p",{className:"create-product-modal__error",children:b}),_.jsxs("footer",{className:"create-product-modal__actions",children:[_.jsx("button",{type:"button",className:"btn btn--secondary",onClick:e,disabled:g,children:"Cancelar"}),_.jsx("button",{className:"btn btn--primary",disabled:g,children:g?"Subiendo":"Crear producto"})]})]})]})})})},z6=()=>{const{role:i}=vi(),e=i==="admin",[t,s]=I.useState(!1);return _.jsxs("main",{className:"main",children:[_.jsx(b6,{}),_.jsxs("section",{children:[_.jsx(ef,{text:"nuestros productos"}),e&&_.jsx("button",{className:"btn btn--primary",style:{marginLeft:"9rem",marginTop:"1rem"},onClick:()=>s(!0),children:"+ Crear producto"}),_.jsx(U6,{open:t,onClose:()=>s(!1),defaultCategory:"tamaos"}),_.jsx(WS,{category:"tamaos"})]}),_.jsx(ef,{text:"nuestros sabores"}),_.jsx(N6,{}),_.jsx(ef,{text:" LOS MS PEDIDOS "}),_.jsx(V6,{}),_.jsx(k6,{}),_.jsx(P6,{})]})},B6=async i=>{await Jc(Tn(Xe,"gustos"),i)},dg=async(i,e)=>{await da(un(Xe,"gustos",i),e)},q6=async i=>{await by(un(Xe,"gustos",i))},kp=(i="")=>i.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),s1=(i="")=>i.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"),F6=({category:i="todos",title:e})=>{const{gustos:t,loading:s}=Oa(),{role:o}=vi(),c=o==="admin",u=I.useMemo(()=>Array.isArray(t)?t:[],[t]),[m,p]=I.useState(i),[g,v]=I.useState(null),[b,w]=I.useState({name:"",category:"",newCategory:""}),[x,j]=I.useState(!1),[U,k]=I.useState({name:"",weight:"",category:""}),F=I.useMemo(()=>{const A=new Set(u.map(C=>C.category).filter(Boolean));return["todos",...Array.from(A)]},[u]),W=F.filter(A=>A!=="todos"),z=I.useMemo(()=>m==="todos"?u:u.filter(A=>A.category===m),[u,m]),re=A=>{v(A.id),w({name:A.name,category:A.category,newCategory:""})},oe=async A=>{if(!b.name.trim()){Ue.error("El nombre no puede estar vaco");return}const C=b.category==="__new__"?s1(b.newCategory):b.category;if(!C){Ue.error("Complet la categora");return}try{await dg(A,{name:b.name.trim(),category:C}),Ue.success("Gusto actualizado "),v(null)}catch(V){Ue.error("Error al actualizar gusto"),console.error(V)}},ue=async()=>{if(!U.name.trim()){Ue.error("El nombre no puede estar vaco");return}if(!U.weight||Number(U.weight)<=0){Ue.error("El stock inicial debe ser mayor a 0");return}const A=U.category==="__new__"?s1(U.newCategory):U.category;if(!A){Ue.error("Complet la categora");return}try{await B6({name:U.name.trim(),category:A,weight:Number(U.weight),active:!0,createdAt:new Date}),Ue.success("Gusto creado "),k({name:"",weight:"",category:"",newCategory:""}),j(!1)}catch(C){Ue.error("Error al crear gusto"),console.error(C)}},N=async(A,C)=>{if(window.confirm(`Eliminar el gusto "${C}"?

Esta accin no se puede deshacer.`))try{await q6(A),Ue.success("Gusto eliminado ")}catch(M){Ue.error("Error al eliminar gusto"),console.error(M)}};return s?_.jsx("p",{children:"Cargando gustos..."}):_.jsxs("section",{className:"products",children:[_.jsxs("header",{className:"products__header",children:[_.jsx("h2",{className:"products__title",children:e}),_.jsx("p",{className:"products__subtitle",children:"Eleg tu sabor favorito"})]}),c&&_.jsx("div",{className:"admin-create-gusto",children:x?_.jsxs("div",{className:"gusto-edit",children:[_.jsx("input",{placeholder:"Nombre del gusto",value:U.name,onChange:A=>k({...U,name:A.target.value})}),_.jsx("input",{type:"number",name:"weight",placeholder:"Stock inicial (gramos)",value:U.weight,onChange:A=>k({...U,weight:A.target.value})}),_.jsxs("select",{value:U.category,onChange:A=>k({...U,category:A.target.value}),children:[_.jsx("option",{value:"",children:"Seleccionar categora"}),W.map(A=>_.jsx("option",{value:A,children:kp(A)},A))," "]}),U.category==="__new__"&&_.jsx("input",{placeholder:"Nombre de la nueva categora",value:U.newCategory,onChange:A=>k({...U,newCategory:A.target.value})}),_.jsx("button",{className:"save",onClick:ue,children:" Crear"}),_.jsx("button",{className:"cancel",onClick:()=>{j(!1),k({name:"",category:"",newCategory:""})},children:""})]}):_.jsx("button",{className:"create-gusto-btn",onClick:()=>j(!0),children:" Agregar gusto"})}),_.jsx("div",{className:"products__filters",children:F.map(A=>_.jsx("button",{className:`filter-btn ${m===A?"is-active":""}`,onClick:()=>p(A),children:kp(A)},A))}),_.jsx("div",{className:"products__list",children:z.map(A=>_.jsx("div",{className:"gusto-card",children:g===A.id?_.jsxs("div",{className:"gusto-edit",children:[_.jsx("input",{value:b.name,onChange:C=>w({...b,name:C.target.value})}),_.jsxs("select",{value:b.category,onChange:C=>w({...b,category:C.target.value}),children:[W.map(C=>_.jsx("option",{value:C,children:kp(C)},C)),_.jsx("option",{value:"__new__",children:" Nueva categora"})]}),b.category==="__new__"&&_.jsx("input",{placeholder:"Nueva categora",value:b.newCategory,onChange:C=>w({...b,newCategory:C.target.value})}),_.jsx("button",{className:"save",onClick:()=>oe(A.id),children:""}),_.jsx("button",{className:"cancel",onClick:()=>v(null),children:""})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"gusto-info",children:[_.jsx("span",{className:"gusto-name",children:A.name}),c&&_.jsxs("span",{className:`gusto-stock ${A.weight<1e3?"danger":A.weight<3e3?"warning":""}`,children:[(A.weight/1e3).toFixed(2)," kg"]})]}),c&&_.jsxs("div",{className:"gusto-actions",children:[_.jsx("button",{className:"gusto-edit-btn",onClick:()=>re(A),children:" Editar"}),_.jsx("button",{className:"gusto-delete-btn",onClick:()=>N(A.id,A.name),children:" Eliminar"})]})]})},A.id))})]})},a1=()=>{const{categoria:i}=C1();return _.jsx("main",{children:_.jsx(F6,{category:i??"todos",title:i?`Sabores de ${i.replace("-"," ")}`:"Todos nuestros gustos"})})},H6=()=>{const{role:i}=vi();return i==="admin"?null:_.jsx("a",{href:"https://wa.me/5492477361535",target:"_blank",rel:"noopener noreferrer",className:"whatsapp-ico","aria-label":"Contactar por WhatsApp",children:_.jsx("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:_.jsx("path",{d:"M19.11 17.205c-.372 0-1.088 1.39-1.518 1.39a.63.63 0 0 1-.315-.1c-.802-.402-1.504-.817-2.163-1.447-.545-.516-1.146-1.29-1.46-1.963a.426.426 0 0 1-.073-.215c0-.33.99-.945.99-1.49 0-.143-.73-2.09-.832-2.335-.143-.372-.214-.487-.6-.487-.187 0-.36-.043-.53-.043-.302 0-.53.115-.746.315-.688.645-1.032 1.318-1.06 2.264v.114c-.015.99.472 1.977 1.017 2.78 1.23 1.82 2.506 3.41 4.554 4.34.616.287 2.035.888 2.722.888.817 0 2.15-.515 2.478-1.318.13-.33.244-.73.244-1.088 0-.058 0-.144-.03-.215-.1-.172-2.434-1.39-2.678-1.39zm-2.908 7.593c-1.747 0-3.48-.53-4.942-1.49L7.793 24.41l1.132-3.337a8.955 8.955 0 0 1-1.72-5.272c0-4.955 4.04-8.995 8.997-8.995S25.2 10.845 25.2 15.8c0 4.958-4.04 8.998-8.998 8.998zm0-19.798c-5.96 0-10.8 4.842-10.8 10.8 0 1.964.53 3.898 1.546 5.574L5 27.176l5.974-1.92a10.807 10.807 0 0 0 16.03-9.455c0-5.958-4.842-10.8-10.802-10.8z"})})})};function G6(){const{pathname:i}=Ji();return I.useEffect(()=>{window.scrollTo(0,0)},[i]),null}const $6=({item:i,onRemove:e,onUpdateQuantity:t})=>{const{cartId:s,title:o,price:c,gustos:u=[],quantity:m=1}=i,{gustos:p}=Oa(),g=I.useMemo(()=>Array.isArray(u)?u.map(re=>p.find(ue=>ue.id===re)?.name||""):[],[u,p]),v=I.useRef(0),b=I.useRef(0),[w,x]=I.useState(0),[j,U]=I.useState(!1),k=re=>{v.current=re.touches[0].clientX},F=re=>{b.current=re.touches[0].clientX;const oe=b.current-v.current;oe<0&&x(Math.max(oe,-120))},W=()=>{U(!0),setTimeout(()=>{e(s),Ue.success("Producto eliminado")},250)},z=()=>{w<-90?W():x(0)};return _.jsxs("li",{className:`cart-item ${j?"cart-item--removing":""}`,children:[_.jsx("div",{className:"cart-item__swipe-bg",children:"Eliminar"}),_.jsxs("div",{className:"cart-item__content",style:{transform:`translateX(${w}px)`},onTouchStart:k,onTouchMove:F,onTouchEnd:z,children:[_.jsx("button",{className:"cart-item__remove","aria-label":"Eliminar producto",onClick:W,children:""}),_.jsxs("div",{className:"cart-item__info",children:[_.jsx("h4",{className:"cart-item__title",children:o}),g.length>0&&_.jsx("p",{className:"cart-item__flavors",children:g.join(", ")})]}),_.jsxs("div",{className:"cart-item__right",children:[_.jsxs("div",{className:"cart-item__quantity",children:[_.jsx("button",{onClick:()=>t(s,m-1),disabled:m===1,children:""}),_.jsx("span",{children:m}),_.jsx("button",{onClick:()=>t(s,m+1),children:"+"})]}),_.jsxs("span",{className:"cart-item__price",children:["$",c*m]})]})]})]})},K6=()=>{let i=localStorage.getItem("userId");return i||(i=crypto.randomUUID(),localStorage.setItem("userId",i)),i},Q6=async({cart:i,total:e,customer:t,shipping:s})=>{const c={userId:K6(),items:i.map(m=>({productId:m.id,title:m.title,price:m.price,quantity:m.quantity,gustos:m.gustos||[],category:m.category})),total:e,shipping:{estimated:s?.estimated??null,final:null,zone:s?.zone??null},status:"pending",customer:t,createdAt:ba(),archived:!1};return(await Jc(Tn(Xe,"orders"),c)).id},Y6=async({pageSize:i,lastDoc:e,date:t}={})=>{if(!i){const u=Go(Tn(Xe,"orders"),dc("archived","==",!0),Ta("createdAt","desc"));return(await Rf(u)).docs.map(p=>({id:p.id,...p.data()}))}const s=[Tn(Xe,"orders"),dc("archived","==",!0)];if(t){const u=it.fromDate(new Date(`${t}T00:00:00`)),m=it.fromDate(new Date(`${t}T23:59:59`));s.push(dc("createdAt",">=",u),dc("createdAt","<=",m))}s.push(Ta("createdAt","desc"),hM(i)),e&&s.push(fM(e));const o=Go(...s),c=await Rf(o);return{orders:c.docs.map(u=>({id:u.id,...u.data()})),lastDoc:c.docs.length>0?c.docs[c.docs.length-1]:null}},X6=(i="")=>{const e=i.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return e.includes("1/4")||e.includes("cuarto")?250:e.includes("3/4")||e.includes("tres cuartos")?750:e.includes("medio")||e.includes("1/2")?500:e.includes("1 kg")||e.includes("1kg")||e.includes("kilo")?1e3:null},W6=async i=>{const e=un(Xe,"orders",i.id);await vM(Xe,async t=>{const s=await t.get(e);if(!s.exists())throw new Error("Pedido no existe");const o=s.data();if(o.archived===!0)return;if(!Array.isArray(o.items)||o.items.length===0)throw new Error("Pedido sin items");const c=new Map;for(const u of o.items)if(!(!Array.isArray(u.gustos)||u.gustos.length===0)){for(const m of u.gustos)if(!c.has(m)){const p=un(Xe,"gustos",m),g=await t.get(p);if(!g.exists())throw new Error("Gusto no existe");c.set(m,{ref:p,data:g.data()})}}for(const u of o.items){if(!Array.isArray(u.gustos)||u.gustos.length===0)continue;const m=X6(u.title);if(!m)throw new Error(`Peso desconocido para ${u.title}`);const p=m/u.gustos.length;for(const g of u.gustos){const v=c.get(g),b=v.data.weight??0;if(b<p)throw new Error("Stock insuficiente");t.update(v.ref,{weight:b-p})}}t.update(e,{archived:!0,archivedAt:ba(),archivedBy:i.archivedBy||"Admin"})})},JS=i=>{if(!i)return null;let e=i.replace(/\D/g,"");return e.startsWith("0")&&(e=e.slice(1)),e.startsWith("54")||(e="54"+e),`+${e}`},J6=i=>{const e=JS(i);return/^(\+54)(\d{10,11})$/.test(e)},Z6="5492477361535",o1={centro:{label:"Dentro de los 4 bulevares",price:2e3},media:{label:"Zona intermedia",price:2500},lejana:{label:"Zona lejana",price:3e3},muylejana:{label:"Zona muy lejana",price:null}},ek=()=>{const{cart:i,removeFromCart:e,clearCart:t,updateQuantity:s}=I.useContext(xy),[o,c]=I.useState(!1),[u,m]=I.useState(!1),[p,g]=I.useState(!1),[v,b]=I.useState(""),{gustos:w}=Oa(),x=I.useRef(""),j=I.useRef(""),U=I.useRef(""),[k,F]=I.useState("centro"),W=A=>w.find(C=>C.id===A)?.name||"Desconocido";I.useEffect(()=>{const A=C=>C.key==="Escape"&&c(!1);return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[]);const z=i.reduce((A,C)=>A+C.price*C.quantity,0),re=o1[k]?.price??null,oe=i.some(A=>A.category!=="postres"&&(!A.gustos||A.gustos.length===0)),ue=A=>{const C=i.map(V=>{const M=V.gustos?.length?` (${V.gustos.map(q=>W(q)).join(", ")})`:"";return`- ${V.title} x${V.quantity}${M}`}).join(`
`);return`
  *Pedido ID:* ${A}

  Hola! Soy *${x.current}* 

  Direccin: *${j.current}*
  Zona: *${o1[k].label}*

  *Pedido:*
  ${C}

  Productos: $${z}
  Envo estimado: ${re!==null?`$${re}`:"A confirmar"}

  *El costo de envo te lo confirmamos en breve!!*
    `.trim()},N=async()=>{if(!u){if(!J6(U.current)){b("Ingres un telfono vlido");return}m(!0);try{const A=await Q6({cart:i,total:z,customer:{name:x.current,direction:j.current,phone:JS(U.current)},shipping:{estimated:re,zone:k}});window.open(`https://api.whatsapp.com/send?phone=${Z6}&text=${encodeURIComponent(ue(A))}`,"_blank"),t(),g(!0)}catch(A){console.error(A)}finally{m(!1)}}};return i.length===0&&!p?_.jsxs("section",{className:"carrito carrito--empty",children:[_.jsx("h2",{children:"Tu carrito est vaco"}),_.jsx("p",{children:"Agreg productos para continuar"})]}):_.jsxs("section",{className:"carrito",children:[_.jsx("h2",{className:"carrito__title",children:"Tu pedido"}),_.jsx("ul",{className:"carrito__list",children:i.map(A=>_.jsx($6,{item:A,onRemove:e,onUpdateQuantity:s},A.cartId))}),_.jsxs("footer",{className:"carrito__footer",children:[_.jsxs("div",{className:"carrito__total",children:[_.jsxs("span",{children:["Productos ",_.jsxs("strong",{children:["$",z]})]}),_.jsxs("span",{children:["Envo estimado"," ",_.jsx("strong",{children:re!==null?`$${re}`:"A confirmar"})]})]}),_.jsxs("aside",{className:"carrito__shipping-info",children:[" ",_.jsx("strong",{children:"Te pasamos el costo del envo en breve."})]}),_.jsxs("div",{className:"carrito__actions",children:[_.jsx("button",{className:"btn btn--secondary",onClick:t,children:"Vaciar carrito"}),_.jsx("button",{className:"btn btn--primary",onClick:()=>c(!0),disabled:oe,children:"Confirmar pedido"})]})]}),o&&_.jsx("div",{className:"carrito-modal-overlay",onClick:()=>c(!1),children:_.jsx("div",{className:"carrito-modal",onClick:A=>A.stopPropagation(),children:p?_.jsxs("div",{className:"order-success",children:[_.jsx("h3",{children:"Pedido enviado! "}),_.jsx("p",{children:"Te contactamos por WhatsApp."}),_.jsx(tn,{to:"/",className:"btn btn--primary",children:"Volver al inicio"})]}):_.jsxs(_.Fragment,{children:[_.jsx("h3",{children:"Datos del pedido"}),_.jsxs("p",{children:["  ",_.jsx("strong",{children:"Envo:"})," Dentro de los 4 bulevares el costo es de ",_.jsx("strong",{children:"$2.000"}),". Fuera de esa zona, el valor se ajusta segn la distancia. ",_.jsx("strong",{children:"SE CONFIRMA POR WHATSAPP."})]}),_.jsxs("div",{className:"carrito-form",children:[_.jsx("input",{placeholder:"Tu nombre",onBlur:A=>x.current=A.target.value}),_.jsx("input",{placeholder:"Tu direccin",onBlur:A=>j.current=A.target.value}),_.jsxs("select",{value:k,onChange:A=>F(A.target.value),children:[_.jsx("option",{value:"centro",children:"Dentro de los 4 bulevares ($2000)"}),_.jsx("option",{value:"media",children:"Zona intermedia ($2500)"}),_.jsx("option",{value:"lejana",children:"Zona lejana ($3000)"}),_.jsx("option",{value:"muylejana",children:"Zona muy lejana"})]}),_.jsx("input",{placeholder:"Tu telfono",onBlur:A=>{U.current=A.target.value,b("")}}),v&&_.jsx("span",{className:"form-error",children:v})]}),_.jsxs("div",{className:"carrito-modal__actions",children:[_.jsx("button",{className:"btn btn--secondary",onClick:()=>c(!1),children:"Volver"}),_.jsx("button",{className:"btn btn--primary",onClick:N,children:"Confirmar pedido"})]})]})})})]})},tk=""+new URL("vertical-horizontal-CU7gs4zd.jpg",import.meta.url).href,nk=""+new URL("vertical-para-ser-horizontal-BsvEGLC-.jpeg",import.meta.url).href,ik=[{id:1,title:"Cuarto de helado",description:"Pods elegir hasta 3 gustos.",price:2500,category:"tamaos",thumbnail:fg,maxGustos:3,featured:!0,masVendido:!0},{id:2,title:"Medio KG de helado",description:"Hasta 4 gustos.",price:4500,category:"tamaos",thumbnail:tk,maxGustos:4,featured:!1},{id:3,title:"KG de helado",description:"Hasta 4 gustos.",price:8e3,category:"tamaos",thumbnail:nk,maxGustos:4,featured:!1}],rk=()=>_.jsx("div",{className:"cards__container",children:ik.map((i,e)=>_.jsx(YS,{title:i.title,price:i.price,thumbnail:i.thumbnail,product:i,isFeatured:e===0,imageRight:e%2!==0},i.id))}),sk=({children:i})=>{const[e,t]=I.useState(null),[s,o]=I.useState(null),[c,u]=I.useState(!0),m=(g,v)=>Ib(ya,g,v),p=()=>Nb(ya);return I.useEffect(()=>{const g=Hx(ya,async v=>{if(!v){t(null),o(null),u(!1);return}t(v);try{const b=un(Xe,"users",v.uid),w=await yS(b);w.exists()?o(w.data().role):o(null)}catch(b){console.error("Error leyendo rol:",b),o(null)}u(!1)});return()=>g()},[]),_.jsx(F1.Provider,{value:{user:e,role:s,loading:c,login:m,logout:p},children:i})},ak=({children:i})=>{const{user:e,loading:t}=vi();return t?_.jsx("p",{children:"Cargando sesin..."}):e?i:_.jsx(jR,{to:"/admin/login",replace:!0})},ok=()=>{const{login:i}=vi(),e=kc(),[t,s]=I.useState(""),[o,c]=I.useState(""),[u,m]=I.useState(""),p=async g=>{g.preventDefault(),m("");try{await i(t,o),e("/admin")}catch(v){m("Credenciales incorrectas",v)}};return _.jsxs("section",{className:"admin-login",children:[_.jsx("h2",{children:"Admin Login"}),_.jsxs("form",{onSubmit:p,children:[_.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:g=>s(g.target.value),required:!0}),_.jsx("input",{type:"password",placeholder:"Contrasea",value:o,onChange:g=>c(g.target.value),required:!0}),u&&_.jsx("p",{style:{color:"red"},children:u}),_.jsx("button",{type:"submit",children:"Ingresar"})]})]})},lk=()=>_.jsxs("aside",{className:"admin-sidebar",children:[_.jsx("h1",{className:"admin-sidebar__logo",children:"Admin"}),_.jsxs("nav",{className:"admin-sidebar__nav",children:[_.jsx(qh,{to:"/admin",end:!0,className:({isActive:i})=>i?"active":"",children:" Dashboard"}),_.jsx(qh,{to:"/admin/pedidos",className:({isActive:i})=>i?"active":"",children:" Pedidos"}),_.jsx(qh,{to:"/admin/stock",className:({isActive:i})=>i?"active":"",children:" Stock"})]})]}),ck=()=>{const{user:i,logout:e}=vi(),t=kc(),s=async()=>{await e(),t("/")};return _.jsxs("div",{className:"admin-layout",children:[_.jsx(lk,{}),_.jsxs("main",{className:"admin-main",children:[_.jsxs("header",{className:"admin-header",children:[_.jsx("span",{children:i.email}),_.jsx("button",{onClick:s,children:"Salir"})]}),_.jsx("section",{className:"admin-content",children:_.jsx(UR,{})})]})]})},uk=(i,e)=>{const t=new Date(i,e,1),s=[];for(;t.getMonth()===e;){const o=t.getFullYear(),c=String(t.getMonth()+1).padStart(2,"0"),u=String(t.getDate()).padStart(2,"0");s.push(`${o}-${c}-${u}`),t.setDate(t.getDate()+1)}return s},hk=i=>{const e=i.getFullYear(),t=String(i.getMonth()+1).padStart(2,"0"),s=String(i.getDate()).padStart(2,"0");return`${e}-${t}-${s}`},l1=i=>{const e=Number(i);return Number.isFinite(e)?e:0},fk=async()=>{const i=Go(Tn(Xe,"orders"),dc("status","==","completed"),Ta("createdAt","desc")),e=await Rf(i);let t=0,s=0,o=0;const c={},u={},m={};return e.forEach(p=>{const g=p.data();if(!g.createdAt?.toDate)return;const v=hk(g.createdAt.toDate());u[v]=(u[v]||0)+1,g.archived===!0&&o++;const b=l1(g.total);b<=0||(t+=b,s++,c[v]=(c[v]||0)+b,Array.isArray(g.items)&&g.items.forEach(w=>{const x=w.productId||w.id||w.title||"unknown",j=l1(w.quantity);j<=0||(m[x]=(m[x]||0)+j)}))}),{totalRevenue:t,totalOrders:s,archivedCount:o,salesByDay:c,ordersByDay:u,products:m}},dk=({data:i=[]})=>{if(!i.length)return _.jsx("div",{className:"bar-chart__empty",children:"No hay datos para graficar"});const e=Math.max(...i.map(t=>t.total),1);return _.jsx("div",{className:"bar-chart",children:i.map(({day:t,total:s})=>{const o=Math.max(s/e*100,s>0?6:2);return _.jsxs("div",{className:"bar-chart__item",children:[_.jsx("div",{className:"bar-chart__bar-wrapper",children:_.jsx("div",{className:`bar-chart__bar ${s>0?"has-sales":""}`,style:{height:`${o}%`},title:`$${s}`})}),_.jsx("span",{className:"bar-chart__label",children:t.slice(8,10)}),_.jsxs("span",{className:"bar-chart__value",children:["$",s]})]},t)})})},c1=10,ZS=()=>{const[i,e]=I.useState([]),[t,s]=I.useState(null),[o,c]=I.useState(!1),{gustos:u}=Oa(),[m,p]=I.useState(null),[g,v]=I.useState(""),[b,w]=I.useState(!1),x=k=>u.find(W=>W.id===k)?.name||"",j=I.useCallback(async({reset:k=!1}={})=>{if(o)return;c(!0);const F=await Y6({pageSize:c1,lastDoc:k?null:t,date:m});e(W=>k?F.orders:[...W,...F.orders]),s(F.lastDoc),w(!0),c(!1)},[m,t,o]);I.useEffect(()=>{j({reset:!0})},[]);const U=()=>{e([]),s(null),w(!1),p(g||null),j({reset:!0})};return _.jsxs("section",{className:"admin-archived-orders",children:[_.jsx("h2",{children:"Pedidos archivados"}),_.jsxs("div",{className:"archived-filters",children:[_.jsx("input",{type:"date",value:g,onChange:k=>v(k.target.value)}),_.jsx("button",{className:"btn btn--secondary",disabled:o,onClick:U,children:"Aplicar filtro"})]}),o&&_.jsx("p",{className:"admin-orders__loading",children:"Cargando pedidos archivados"}),!o&&b&&i.length===0&&_.jsx("p",{className:"archived-empty visible",children:m?"No hay pedidos archivados en este da":"No hay pedidos archivados"}),i.map(k=>_.jsxs("article",{className:"order-card archived",children:[_.jsxs("header",{className:"order-card__header",children:[_.jsxs("strong",{children:["Pedido #",k.id.slice(0,6)]}),_.jsx("span",{className:"archived-badge",children:"Archivado"})]}),_.jsxs("section",{className:"order-card__info",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Comprador:"})," ",k.customer?.name||"Sin nombre"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Total:"})," $",k.total]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Fecha:"})," ",k.createdAt?.toDate?.().toLocaleString()||""]})]}),_.jsx("ul",{className:"order-card__items",children:k.items?.map((F,W)=>_.jsxs("li",{children:[_.jsx("strong",{children:F.title})," x",F.quantity,F.gustos?.length>0&&_.jsxs("div",{className:"archived-gustos",children:[" Gustos:"," ",F.gustos.map(z=>x(z)).join(", ")]})]},W))})]},k.id)),!o&&i.length>=c1&&t&&_.jsx("button",{className:"btn btn--secondary",onClick:()=>j(),children:"Cargar ms"})]})},mk=()=>{const[i,e]=I.useState(null),[t,s]=I.useState(!0);return I.useEffect(()=>{(async()=>{if(!ya.currentUser){e(null),s(!1);return}const c=un(Xe,"users",ya.currentUser.uid),u=await yS(c);e(u.exists()?u.data().role:null),s(!1)})()},[]),{role:i,loading:t}},pk="nicola",u1=(i=new Date)=>{const e=i.getFullYear(),t=String(i.getMonth()+1).padStart(2,"0"),s=String(i.getDate()).padStart(2,"0");return`${e}-${t}-${s}`},gk=()=>{const{role:i,loading:e}=mk(),[t,s]=I.useState(null),[o,c]=I.useState(!1),[u,m]=I.useState(!1),[p,g]=I.useState(!1),[v,b]=I.useState(!1);I.useEffect(()=>{fk().then(s)},[]);const w=I.useMemo(()=>{if(!t)return[];const F=new Date;return uk(F.getFullYear(),F.getMonth()).map(z=>({day:z,total:t.salesByDay[z]||0}))},[t]),x=I.useMemo(()=>{if(!t)return 0;const F=u1();return t.salesByDay[F]||0},[t]),j=I.useMemo(()=>{if(!t)return 0;const F=u1();return t.ordersByDay?.[F]||0},[t]),U=()=>{const F=prompt("Ingres la contrasea");F===pk?b(!0):F!==null&&alert("Contrasea incorrecta")};if(!t||e)return _.jsx("p",{children:"Cargando dashboard"});const k=i==="admin";return _.jsxs("section",{className:"admin-dashboard",children:[_.jsx("h2",{children:"Dashboard"}),_.jsxs("div",{className:"dashboard-grid",children:[k&&_.jsxs("div",{className:"metric-card",style:{cursor:"pointer"},onClick:v?void 0:U,children:[_.jsx("span",{children:"Ventas totales"}),_.jsx("strong",{children:v?`$${t.totalRevenue}`:""}),!v&&_.jsx("small",{children:"Tocar para desbloquear"})]}),_.jsxs("div",{className:"metric-card highlight",children:[_.jsx("span",{children:"Ventas de hoy"}),_.jsxs("strong",{children:["$",x]})]}),_.jsxs("div",{className:"metric-card highlight",children:[_.jsx("span",{children:"Pedidos de hoy"}),_.jsx("strong",{children:j})]}),_.jsxs("div",{className:"metric-card",children:[_.jsx("span",{children:"Pedidos"}),_.jsx("strong",{children:t.totalOrders})]}),_.jsxs("div",{className:"metric-card muted",style:{cursor:"pointer"},onClick:()=>g(F=>!F),children:[_.jsx("span",{children:"Pedidos archivados"}),_.jsx("strong",{children:t.archivedCount}),_.jsx("small",{children:p?"Ocultar":"Ver detalle"})]})]}),p&&_.jsx(ZS,{}),_.jsxs("div",{className:"dashboard-actions",children:[k&&_.jsx("button",{className:"toggle-sales-btn",onClick:()=>{if(!v){U();return}c(F=>!F)},children:o?"Ocultar ventas por da":"Ver ventas por da"}),k&&o&&v&&_.jsx("button",{className:"toggle-sales-btn secondary",onClick:()=>m(F=>!F),children:u?"Mostrar ventas":"Ocultar das"})]}),k&&o&&v&&_.jsxs(_.Fragment,{children:[_.jsx("h3",{children:"Ventas del mes"}),!u&&_.jsx("ul",{className:"sales-by-day",children:w.map(({day:F,total:W})=>_.jsxs("li",{className:W>0?"has-sales":"",children:[_.jsx("span",{children:F}),_.jsxs("strong",{children:["$",W]})]},F))}),_.jsx(dk,{data:w})]})]})},tf=async({orderId:i,type:e,from:t=null,to:s=null,actor:o="admin",actorName:c="Admin",meta:u={}})=>{await Jc(Tn(Xe,"order_events"),{orderId:i,type:e,from:t,to:s,actor:o,actorName:c,meta:u,timestamp:ba()})},yk={ORDER_CREATED:"Pedido creado",STATUS_CHANGED:"Estado actualizado",WHATSAPP_SENT:"WhatsApp enviado",ORDER_CANCELLED:"Pedido cancelado",ORDER_DELETED:"Pedido eliminado",ORDER_ARCHIVED:"Pedido archivado"},h1={pending:"Pendiente",in_transit:"En camino",completed:"Completado",cancelled:"Cancelado"},_k=({events:i=[]})=>{const[e,t]=I.useState(!1);return _.jsxs("div",{className:"order-history",children:[_.jsx("button",{type:"button",className:"order-history__toggle",onClick:()=>t(s=>!s),children:e?"Ocultar historial":"Ver historial"}),e&&_.jsx("ul",{className:"order-history__timeline",children:i.length===0?_.jsx("li",{className:"order-history__empty",children:"No hay eventos registrados"}):i.map(s=>_.jsxs("li",{className:"order-history__item",children:[_.jsx("span",{className:"order-history__dot"}),_.jsxs("div",{className:"order-history__content",children:[_.jsx("strong",{children:yk[s.type]||s.type}),s.from&&s.to&&_.jsxs("span",{className:"order-history__change",children:[h1[s.from]||s.from," "," ",h1[s.to]||s.to]}),_.jsx("time",{children:s.timestamp?.toDate?.().toLocaleString()||""})]})]},s.id))})]})},vk=()=>{const[i,e]=I.useState({});return I.useEffect(()=>{const t=Go(Tn(Xe,"order_events"),Ta("timestamp","desc"));return Zc(t,o=>{const c={};o.docs.forEach(u=>{const m={id:u.id,...u.data()};c[m.orderId]||(c[m.orderId]=[]),c[m.orderId].push(m)}),e(c)})},[]),i},Po={wave:"",sparkles:"",hands:"",iceCream:""},Ek={pending:"Pendiente",in_transit:"En camino",completed:"Completado",cancelled:"Cancelado"},Tk=async i=>{try{await by(un(Xe,"orders",i)),await tf({orderId:i,type:"ORDER_DELETED"})}catch(e){console.error("deleteOrder error:",e)}},Pp=(i,e)=>{if(!i)return;const t=i.replace(/\D/g,""),s=encodeURIComponent(e);window.open(`https://api.whatsapp.com/send?phone=${t}&text=${s}`,"_blank")},f1=(i,e)=>[`Hola ${i.customer?.name||""} ${Po.wave} ${Po.iceCream}`,"","Tu pedido est casi listo!","",` El costo de envo hasta tu direccin es de $${e}.`,""," Resumen del pedido:",` Productos: $${i.total}`,` Envo: $${e}`,"",` TOTAL con envo: $*${(i.total??0)+e}*`,"",`Confirms el pedido para enviarlo? ${Po.sparkles}`].join(`
`),bk=i=>[`Tu pedido ya est en camino ${Po.sparkles}`,"",`Gracias ${i.customer?.name||""} por elegir Helados Doncru! ${Po.iceCream} ${Po.hands}`].join(`
`),Ak=()=>{const[i,e]=I.useState([]),[t,s]=I.useState(!0),[o,c]=I.useState("all"),[u,m]=I.useState(null),{gustos:p}=Oa(),g=vk(),v=I.useRef(!1),b=I.useRef(null),w=I.useRef(0),x=I.useCallback(async z=>{try{const re=Tn(Xe,"orders"),ue=(await Rf(re)).docs.map(N=>({id:N.id,...N.data()}));if(e(ue),s(!1),m(null),typeof z=="function")try{z()}catch(N){console.error(N)}}catch(re){console.error("Fallback getDocs failed:",re),m(re?.message||"Error desconocido al leer pedidos"),s(!1)}},[]),j=z=>p.find(oe=>oe.id===z)?.name||"";I.useEffect(()=>{if(v.current)return;v.current=!0;const re=Tn(Xe,"orders"),oe=Zc(re,ue=>{const N=ue.docs.map(A=>({id:A.id,...A.data()}));w.current>0&&N.length>w.current&&b.current?.play().catch(()=>{}),w.current=N.length,e(N),s(!1),m(null)},ue=>{console.error("onSnapshot error:",ue),m(ue?.message||"Error al suscribirse a pedidos"),x(oe)});return()=>{try{oe()}catch(ue){console.error(ue)}v.current=!1}},[x]);const U=async(z,re)=>{try{await da(un(Xe,"orders",z.id),{status:re}),await tf({orderId:z.id,type:"STATUS_CHANGED",from:z.status,to:re}),re==="in_transit"&&Pp(z.customer?.phone,bk(z)),re==="completed"&&await da(un(Xe,"orders",z.id),{status:"completed",completedAt:ba(),createdAt:ba(),archived:!1})}catch(oe){console.error("updateStatus error:",oe)}},k=async(z,re)=>{if(!(!re||re<=0))try{await da(un(Xe,"orders",z.id),{"shipping.final":re}),await tf({orderId:z.id,type:"SHIPPING_ADJUSTED",meta:{to:re}}),Pp(z.customer?.phone,f1(z,re))}catch(oe){console.error("updateShipping error:",oe)}},F=async(z,re="Admin")=>{try{const oe=i.find(ue=>ue.id===z);if(!oe)throw new Error("Pedido no encontrado");await W6({...oe,archivedBy:re}),await tf({orderId:z,type:"ORDER_ARCHIVED",meta:{archivedBy:re}}),Ue.success("Pedido archivado y stock descontado ")}catch(oe){console.error("archiveOrder error:",oe),Ue.error(oe.message||"Error al archivar pedido")}},W=(o==="all"?i:i.filter(z=>z.status===o)).filter(z=>!z.archived);return t?_.jsx("p",{className:"admin-orders__loading",children:"Cargando pedidos..."}):_.jsxs("main",{className:"admin-orders",children:[_.jsx("audio",{ref:b,src:"/sounds/new-order.wav",preload:"auto"}),_.jsxs("header",{className:"admin-orders__header",children:[_.jsx("h2",{children:"Pedidos"}),_.jsxs("div",{className:"admin-orders__controls",style:{display:"flex",gap:8,alignItems:"center"},children:[_.jsxs("select",{value:o,onChange:z=>c(z.target.value),children:[_.jsx("option",{value:"all",children:"Todos"}),_.jsx("option",{value:"pending",children:"Pendientes"}),_.jsx("option",{value:"in_transit",children:"En camino"}),_.jsx("option",{value:"completed",children:"Completados"}),_.jsx("option",{value:"cancelled",children:"Cancelados"})]}),u&&_.jsxs("div",{style:{color:"crimson",fontSize:13},children:["Error al cargar: ",u,_.jsx("button",{className:"btn btn--secondary",style:{marginLeft:8},onClick:()=>{s(!0),m(null),v.current=!1},children:"Reintentar"})]})]})]}),_.jsx("section",{className:"admin-orders__list",children:W.map(z=>_.jsxs("article",{className:"order-card",children:[_.jsxs("header",{className:"order-card__header",children:[_.jsxs("strong",{children:["Pedido #",z.id.slice(0,6)]}),_.jsx("span",{className:`order-status order-status--${z.status}`,children:Ek[z.status]})]}),_.jsxs("section",{className:"order-card__info",children:[z.customer?.name&&_.jsxs("p",{children:[_.jsx("strong",{children:"Cliente:"})," ",z.customer.name]}),z.customer?.direction&&_.jsxs("p",{children:[_.jsx("strong",{children:"Direccin:"})," ",z.customer.direction]}),z.customer?.phone&&_.jsxs("p",{children:[_.jsx("strong",{children:"Telfono:"})," ",_.jsx("a",{href:`https://wa.me/${z.customer.phone}`,target:"_blank",rel:"noreferrer",children:z.customer.phone})]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Productos:"})," $",z.total]}),_.jsxs("p",{children:[_.jsx("s",{children:"Envo estimado:"})," ",z.shipping?.estimated??"No informado"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Envo final:"})," ",z.shipping?.final??"Pendiente"]}),z.customer?.direction&&_.jsxs("p",{children:[_.jsx("strong",{children:"TOTAL CON ENVI:"})," ",z.total+z.shipping?.final]})]}),_.jsx("ul",{className:"order-card__items",children:z.items?.map((re,oe)=>_.jsxs("li",{children:[re.title," x",re.quantity,re.gustos?.length>0&&_.jsxs("div",{className:"archived-gustos",children:[" Gustos:"," ",re.gustos.map(ue=>j(ue)).join(", ")]})]},oe))}),_.jsxs("footer",{className:"order-card__actions",children:[_.jsxs("div",{className:"shipping-select-wrapper",children:[_.jsxs("select",{className:"shipping-select",onChange:re=>da(un(Xe,"orders",z.id),{"shipping.final":Number(re.target.value)}),defaultValue:"",children:[_.jsx("option",{value:"",disabled:!0,children:"Costo envio"}),_.jsx("option",{value:"2000",children:"$2000"}),_.jsx("option",{value:"2500",children:"$2500"}),_.jsx("option",{value:"3000",children:"$3000"}),_.jsx("option",{value:"4000",children:"$4000"}),_.jsx("option",{value:"4500",children:"$4500"}),_.jsx("option",{value:"5000",children:"$5000"})]}),_.jsx("input",{type:"number",min:"0",placeholder:"Otro $",className:"shipping-input",value:z.shipping?.final??"",onChange:re=>da(un(Xe,"orders",z.id),{"shipping.final":Number(re.target.value)})})]}),_.jsx("button",{className:"btn btn--primary",disabled:!z.shipping?.final,onClick:()=>k(z,z.shipping.final),children:"Enviar costo de envo"}),_.jsx("button",{className:"btn btn--secondary",onClick:()=>U(z,"pending"),children:"Pendiente"}),_.jsx("button",{className:"btn btn--whatsapp",disabled:!z.shipping?.final,onClick:()=>U(z,"in_transit"),children:"En camino "}),_.jsx("button",{className:"btn btn--primary",onClick:()=>U(z,"completed"),children:"Completado"}),z.status==="completed"&&_.jsx("button",{className:"btn btn--secondary",onClick:()=>F(z.id),children:"Archivar"}),_.jsx("button",{className:"btn",onClick:()=>Pp(z.customer?.phone,f1(z,z.shipping?.final??0)),children:"WhatsApp"}),_.jsx("button",{className:"order-delete-btn",onClick:()=>Tk(z.id),children:""})]}),_.jsx("aside",{children:_.jsx(_k,{events:g[z.id]||[]})})]},z.id))})]})},Sk=()=>_.jsx(Ak,{}),wk=async({gustoId:i,gustoName:e,status:t,weight:s})=>{await Jc(Tn(Xe,"stock_alerts"),{gustoId:i,gustoName:e,status:t,weight:s,createdAt:ba()})},Rk=()=>{const[i,e]=I.useState([]),[t,s]=I.useState(!0);return I.useEffect(()=>{const o=Go(Tn(Xe,"stock_alerts"),Ta("createdAt","desc")),c=Zc(o,u=>{const m=u.docs.map(p=>({id:p.id,...p.data()}));e(m),s(!1)});return()=>c()},[]),{alerts:i,loading:t}},Uh=(i=0)=>i<=3e3?"danger":i<=5e3?"warning":"ok",Ck="5492477361535",Ik=(i,e)=>{const t=(e/1e3).toFixed(2),s=`
 STOCK BAJO 

Gusto: ${i.name}
Stock: ${t} kg

Reponer urgente 
  `.trim(),o=`https://api.whatsapp.com/send?phone=${Ck}&text=${encodeURIComponent(s)}`;window.open(o,"_blank")},Nk=()=>{const{gustos:i,loading:e}=Oa(),{alerts:t,loading:s}=Rk(),[o,c]=I.useState(null),[u,m]=I.useState(""),[p,g]=I.useState(!1),[v,b]=I.useState("all"),[w,x]=I.useState("all"),[j,U]=I.useState(""),k=I.useRef({});I.useEffect(()=>{i.length&&i.forEach(A=>{const C=Uh(A.weight),V=k.current[A.id];C!==V&&(C==="danger"&&Ue.error(` Stock crtico: ${A.name}`,{id:`danger-${A.id}`}),C==="warning"&&Ue(` Stock bajo: ${A.name}`,{id:`warning-${A.id}`})),k.current[A.id]=C})},[i]);const F=I.useMemo(()=>{const A=new Set(i.map(C=>C.category).filter(Boolean));return["all",...Array.from(A)]},[i]),W=I.useMemo(()=>i.filter(A=>{const C=Uh(A.weight),V=v==="all"||A.category===v,M=w==="all"||C===w,q=A.name.toLowerCase().includes(j.toLowerCase());return V&&M&&q}),[i,v,w,j]),z=A=>{c(A.id),m(A.weight)},re=()=>{c(null),m("")},oe=async A=>{if(p)return;const C=Number(u);if(isNaN(C)||C<0){Ue.error("El peso debe ser un nmero vlido");return}try{g(!0),await dg(A.id,{weight:C}),Ue.success("Stock actualizado "),re()}catch(V){console.error(V),Ue.error("Error al actualizar stock")}finally{g(!1)}},ue=async A=>{try{await dg(A.id,{active:A.active===!1}),Ue.success(A.active===!1?"Gusto habilitado ":"Gusto inhabilitado ")}catch(C){console.error(C),Ue.error("Error al cambiar estado del gusto")}},N=async A=>{try{console.log("enviando alerta..",A.name);const C=Uh(A.weight);Ik(A,A.weight),await wk({gustoId:A.id,gustoName:A.name,status:C,weight:A.weight}),Ue.success("Aviso enviado y registrado ")}catch(C){console.error(C),Ue.error("Error al guardar historial")}};return e?_.jsx("p",{className:"admin-stock__loading",children:"Cargando stock"}):_.jsxs("section",{className:"admin-stock",children:[_.jsx("h2",{children:" Stock de gustos"}),_.jsxs("div",{className:"admin-stock__filters",children:[_.jsx("input",{type:"text",placeholder:"Buscar gusto",value:j,onChange:A=>U(A.target.value)}),_.jsx("select",{value:v,onChange:A=>b(A.target.value),children:F.map(A=>_.jsx("option",{value:A,children:A==="all"?"Todas las categoras":A},A))}),_.jsxs("select",{value:w,onChange:A=>x(A.target.value),children:[_.jsx("option",{value:"all",children:"Todos"}),_.jsx("option",{value:"ok",children:" OK"}),_.jsx("option",{value:"warning",children:" Bajo"}),_.jsx("option",{value:"danger",children:" Crtico"})]})]}),_.jsxs("div",{className:"admin-stock__list",children:[W.length===0&&_.jsx("p",{className:"admin-stock__empty",children:"No hay gustos que coincidan con los filtros"}),W.map(A=>{const C=Uh(A.weight),V=o===A.id,M=A.active===!1;return _.jsxs("div",{className:`admin-stock__item ${C} ${M?"disabled":""}`,children:[_.jsxs("div",{className:"admin-stock__info",children:[_.jsx("strong",{children:A.name}),_.jsx("span",{className:"category",children:A.category}),M&&_.jsx("span",{className:"category",style:{color:"crimson"},children:"INHABILITADO"})]}),_.jsx("div",{className:"admin-stock__weight",children:V?_.jsx("input",{type:"number",min:"0",step:"1",value:u,onChange:q=>m(q.target.value)}):`${(A.weight/1e3).toFixed(2)} kg`}),_.jsx("div",{className:"admin-stock__actions",children:V?_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"btn-save",disabled:p,onClick:()=>oe(A),children:""}),_.jsx("button",{className:"btn-cancel",onClick:re,children:""})]}):_.jsxs(_.Fragment,{children:[_.jsxs("span",{className:"admin-stock__status",children:[C==="ok"&&" OK",C==="warning"&&" Bajo",C==="danger"&&" Crtico"]}),(C==="warning"||C==="danger")&&_.jsx("button",{className:"btn-alert",onClick:()=>N(A),title:"Avisar por WhatsApp",children:""}),_.jsx("button",{className:"btn-edit",onClick:()=>z(A),title:"Editar stock",children:""}),_.jsx("button",{className:"btn-edit",onClick:()=>ue(A),title:M?"Habilitar gusto":"Inhabilitar gusto",children:M?"":""})]})})]},A.id)})]}),_.jsxs("section",{className:"admin-stock__history",children:[_.jsx("h3",{children:" Historial de alertas"}),s&&_.jsx("p",{children:"Cargando historial"}),!s&&t.length===0&&_.jsx("p",{children:"No hay alertas registradas"}),!s&&t.length>0&&_.jsx("div",{className:"alert-history",children:t.slice(0,10).map(A=>_.jsxs("div",{className:"alert-history__item",children:[_.jsx("strong",{children:A.gustoName}),_.jsxs("span",{children:[(A.weight/1e3).toFixed(2)," kg"]}),_.jsx("span",{className:`alert-tag ${A.status}`,children:A.status==="danger"?"Crtico":"Bajo"}),_.jsx("small",{children:A.createdAt?.toDate?.().toLocaleString()||""})]},A.id))})]})]})},xk=()=>_.jsxs("main",{className:"main",children:[_.jsx(ef,{text:"Nuestros postres"}),_.jsx(WS,{category:"postres"})]});function Dk(){const{role:i}=vi(),e=i==="admin";return _.jsx(D6,{children:_.jsx(sk,{children:_.jsxs(hC,{children:[_.jsx(G6,{}),_.jsx(v6,{}),e&&_.jsx(H6,{}),_.jsxs(BR,{children:[_.jsx(Dn,{path:"/",element:_.jsx(z6,{})}),_.jsx(Dn,{path:"/gustos",element:_.jsx(a1,{})}),_.jsx(Dn,{path:"/gustos/:categoria",element:_.jsx(a1,{})}),_.jsx(Dn,{path:"/tamaos",element:_.jsx(rk,{})}),_.jsx(Dn,{path:"/postres",element:_.jsx(xk,{})}),_.jsx(Dn,{path:"/carrito",element:_.jsx(ek,{})}),_.jsx(Dn,{path:"/admin/login",element:_.jsx(ok,{})}),_.jsxs(Dn,{path:"/admin",element:_.jsx(ak,{children:_.jsx(ck,{})}),children:[_.jsx(Dn,{index:!0,element:_.jsx(gk,{})}),_.jsx(Dn,{path:"pedidos",element:_.jsx(Sk,{})}),_.jsx(Dn,{path:"orders/archived",element:_.jsx(ZS,{})}),_.jsx(Dn,{path:"stock",element:_.jsx(Nk,{})})]})]}),_.jsx(E6,{}),_.jsx(lI,{position:"bottom-center",toastOptions:{duration:2200,style:{background:"rgba(255, 255, 255, 0.85)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",color:"#111",borderRadius:"16px",padding:"12px 16px",fontWeight:600,boxShadow:"0 12px 40px rgba(0,0,0,0.15)"},success:{iconTheme:{primary:"#16a34a",secondary:"#ecfdf5"}},error:{iconTheme:{primary:"#dc2626",secondary:"#fee2e2"}}}})]})})})}const d1=sessionStorage.getItem("redirect");d1&&(sessionStorage.removeItem("redirect"),window.history.replaceState(null,null,d1));z2.createRoot(document.getElementById("root")).render(_.jsx(M2.StrictMode,{children:_.jsx(Dk,{})}));
